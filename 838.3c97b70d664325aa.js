"use strict";(self.webpackChunkedgetensor=self.webpackChunkedgetensor||[]).push([[838],{4838:(wr,te,u)=>{u.r(te),u.d(te,{SettingsModule:()=>Tr});var g=u(6814),c=u(6223),w=u(707),z=u(3530),L=u(2160),Y=u(4819),A=u(6825),e=u(5879),m=u(5219),_=u(2076),O=u(4713);let ne=(()=>{class n extends O.s{static \u0275fac=function(){let t;return function(i){return(t||(t=e.n5z(n)))(i||n)}}();static \u0275cmp=e.Xpm({type:n,selectors:[["EyeIcon"]],standalone:!0,features:[e.qOj,e.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M0.0535499 7.25213C0.208567 7.59162 2.40413 12.4 7 12.4C11.5959 12.4 13.7914 7.59162 13.9465 7.25213C13.9487 7.2471 13.9506 7.24304 13.952 7.24001C13.9837 7.16396 14 7.08239 14 7.00001C14 6.91762 13.9837 6.83605 13.952 6.76001C13.9506 6.75697 13.9487 6.75292 13.9465 6.74788C13.7914 6.4084 11.5959 1.60001 7 1.60001C2.40413 1.60001 0.208567 6.40839 0.0535499 6.74788C0.0512519 6.75292 0.0494023 6.75697 0.048 6.76001C0.0163137 6.83605 0 6.91762 0 7.00001C0 7.08239 0.0163137 7.16396 0.048 7.24001C0.0494023 7.24304 0.0512519 7.2471 0.0535499 7.25213ZM7 11.2C3.664 11.2 1.736 7.92001 1.264 7.00001C1.736 6.08001 3.664 2.80001 7 2.80001C10.336 2.80001 12.264 6.08001 12.736 7.00001C12.264 7.92001 10.336 11.2 7 11.2ZM5.55551 9.16182C5.98308 9.44751 6.48576 9.6 7 9.6C7.68891 9.59789 8.349 9.32328 8.83614 8.83614C9.32328 8.349 9.59789 7.68891 9.59999 7C9.59999 6.48576 9.44751 5.98308 9.16182 5.55551C8.87612 5.12794 8.47006 4.7947 7.99497 4.59791C7.51988 4.40112 6.99711 4.34963 6.49276 4.44995C5.98841 4.55027 5.52513 4.7979 5.16152 5.16152C4.7979 5.52513 4.55027 5.98841 4.44995 6.49276C4.34963 6.99711 4.40112 7.51988 4.59791 7.99497C4.7947 8.47006 5.12794 8.87612 5.55551 9.16182ZM6.2222 5.83594C6.45243 5.6821 6.7231 5.6 7 5.6C7.37065 5.6021 7.72553 5.75027 7.98762 6.01237C8.24972 6.27446 8.39789 6.62934 8.4 7C8.4 7.27689 8.31789 7.54756 8.16405 7.77779C8.01022 8.00802 7.79157 8.18746 7.53575 8.29343C7.27994 8.39939 6.99844 8.42711 6.72687 8.37309C6.4553 8.31908 6.20584 8.18574 6.01005 7.98994C5.81425 7.79415 5.68091 7.54469 5.6269 7.27312C5.57288 7.00155 5.6006 6.72006 5.70656 6.46424C5.81253 6.20842 5.99197 5.98977 6.2222 5.83594Z","fill","currentColor"]],template:function(o,i){1&o&&(e.O4$(),e.TgZ(0,"svg",0),e._UZ(1,"path",1),e.qZA()),2&o&&(e.Tol(i.getClassNames()),e.uIk("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})}return n})();var T=u(2332);let ie=(()=>{class n extends O.s{pathId;ngOnInit(){this.pathId="url(#"+(0,T.Th)()+")"}static \u0275fac=function(){let t;return function(i){return(t||(t=e.n5z(n)))(i||n)}}();static \u0275cmp=e.Xpm({type:n,selectors:[["RefreshIcon"]],standalone:!0,features:[e.qOj,e.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.77051 5.96336C6.84324 5.99355 6.92127 6.00891 7.00002 6.00854C7.07877 6.00891 7.1568 5.99355 7.22953 5.96336C7.30226 5.93317 7.36823 5.88876 7.42357 5.83273L9.82101 3.43529C9.93325 3.32291 9.99629 3.17058 9.99629 3.01175C9.99629 2.85292 9.93325 2.70058 9.82101 2.5882L7.42357 0.190763C7.3687 0.131876 7.30253 0.0846451 7.22901 0.0518865C7.15549 0.019128 7.07612 0.00151319 6.99564 9.32772e-05C6.91517 -0.00132663 6.83523 0.0134773 6.7606 0.0436218C6.68597 0.0737664 6.61817 0.118634 6.56126 0.175548C6.50435 0.232462 6.45948 0.300257 6.42933 0.374888C6.39919 0.449519 6.38439 0.529456 6.38581 0.609933C6.38722 0.690409 6.40484 0.769775 6.4376 0.843296C6.47036 0.916817 6.51759 0.982986 6.57647 1.03786L7.95103 2.41241H6.99998C5.46337 2.41241 3.98969 3.02283 2.90314 4.10938C1.81659 5.19593 1.20618 6.66961 1.20618 8.20622C1.20618 9.74283 1.81659 11.2165 2.90314 12.3031C3.98969 13.3896 5.46337 14 6.99998 14C8.53595 13.9979 10.0084 13.3868 11.0945 12.3007C12.1806 11.2146 12.7917 9.74218 12.7938 8.20622C12.7938 8.04726 12.7306 7.89481 12.6182 7.78241C12.5058 7.67001 12.3534 7.60686 12.1944 7.60686C12.0355 7.60686 11.883 7.67001 11.7706 7.78241C11.6582 7.89481 11.5951 8.04726 11.5951 8.20622C11.5951 9.11504 11.3256 10.0035 10.8207 10.7591C10.3157 11.5148 9.59809 12.1037 8.75845 12.4515C7.9188 12.7993 6.99489 12.8903 6.10353 12.713C5.21217 12.5357 4.3934 12.0981 3.75077 11.4554C3.10813 10.8128 2.67049 9.99404 2.49319 9.10268C2.31589 8.21132 2.40688 7.2874 2.75468 6.44776C3.10247 5.60811 3.69143 4.89046 4.44709 4.38554C5.20275 3.88063 6.09116 3.61113 6.99998 3.61113H7.95098L6.57647 4.98564C6.46423 5.09802 6.40119 5.25035 6.40119 5.40918C6.40119 5.56801 6.46423 5.72035 6.57647 5.83273C6.63181 5.88876 6.69778 5.93317 6.77051 5.96336Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(o,i){1&o&&(e.O4$(),e.TgZ(0,"svg",0)(1,"g"),e._UZ(2,"path",1),e.qZA(),e.TgZ(3,"defs")(4,"clipPath",2),e._UZ(5,"rect",3),e.qZA()()()),2&o&&(e.Tol(i.getClassNames()),e.uIk("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),e.xp6(1),e.uIk("clip-path",i.pathId),e.xp6(3),e.Q6J("id",i.pathId))},encapsulation:2})}return n})(),oe=(()=>{class n extends O.s{pathId;ngOnInit(){this.pathId="url(#"+(0,T.Th)()+")"}static \u0275fac=function(){let t;return function(i){return(t||(t=e.n5z(n)))(i||n)}}();static \u0275cmp=e.Xpm({type:n,selectors:[["SearchMinusIcon"]],standalone:!0,features:[e.qOj,e.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.0208 12.0411C4.83005 12.0411 3.66604 11.688 2.67596 11.0265C1.68589 10.3649 0.914216 9.42464 0.458534 8.32452C0.00285271 7.22441 -0.116374 6.01388 0.11593 4.84601C0.348235 3.67813 0.921637 2.60537 1.76363 1.76338C2.60562 0.921393 3.67838 0.34799 4.84625 0.115686C6.01412 -0.116618 7.22466 0.00260857 8.32477 0.45829C9.42488 0.913972 10.3652 1.68564 11.0267 2.67572C11.6883 3.66579 12.0414 4.8298 12.0414 6.02056C12.0395 7.41563 11.5542 8.76029 10.6783 9.8305L13.8244 12.9765C13.9367 13.089 13.9997 13.2414 13.9997 13.4003C13.9997 13.5592 13.9367 13.7116 13.8244 13.8241C13.769 13.8801 13.703 13.9245 13.6302 13.9548C13.5575 13.985 13.4794 14.0003 13.4006 14C13.3218 14.0003 13.2437 13.985 13.171 13.9548C13.0982 13.9245 13.0322 13.8801 12.9768 13.8241L9.83082 10.678C8.76059 11.5539 7.4159 12.0393 6.0208 12.0411ZM6.0208 1.20731C5.07199 1.20731 4.14449 1.48867 3.35559 2.0158C2.56669 2.54292 1.95181 3.29215 1.58872 4.16874C1.22562 5.04532 1.13062 6.00989 1.31572 6.94046C1.50083 7.87104 1.95772 8.72583 2.62863 9.39674C3.29954 10.0676 4.15433 10.5245 5.0849 10.7096C6.01548 10.8947 6.98005 10.7997 7.85663 10.4367C8.73322 10.0736 9.48244 9.45868 10.0096 8.66978C10.5367 7.88088 10.8181 6.95337 10.8181 6.00457C10.8181 4.73226 10.3126 3.51206 9.41297 2.6124C8.51331 1.71274 7.29311 1.20731 6.0208 1.20731ZM4.00591 6.60422H8.00362C8.16266 6.60422 8.31518 6.54104 8.42764 6.42859C8.5401 6.31613 8.60328 6.1636 8.60328 6.00456C8.60328 5.84553 8.5401 5.693 8.42764 5.58054C8.31518 5.46809 8.16266 5.40491 8.00362 5.40491H4.00591C3.84687 5.40491 3.69434 5.46809 3.58189 5.58054C3.46943 5.693 3.40625 5.84553 3.40625 6.00456C3.40625 6.1636 3.46943 6.31613 3.58189 6.42859C3.69434 6.54104 3.84687 6.60422 4.00591 6.60422Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(o,i){1&o&&(e.O4$(),e.TgZ(0,"svg",0)(1,"g"),e._UZ(2,"path",1),e.qZA(),e.TgZ(3,"defs")(4,"clipPath",2),e._UZ(5,"rect",3),e.qZA()()()),2&o&&(e.Tol(i.getClassNames()),e.uIk("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),e.xp6(1),e.uIk("clip-path",i.pathId),e.xp6(3),e.Q6J("id",i.pathId))},encapsulation:2})}return n})(),ae=(()=>{class n extends O.s{pathId;ngOnInit(){this.pathId="url(#"+(0,T.Th)()+")"}static \u0275fac=function(){let t;return function(i){return(t||(t=e.n5z(n)))(i||n)}}();static \u0275cmp=e.Xpm({type:n,selectors:[["SearchPlusIcon"]],standalone:!0,features:[e.qOj,e.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.67596 11.0265C3.66604 11.688 4.83005 12.0411 6.0208 12.0411C6.81143 12.0411 7.59432 11.8854 8.32477 11.5828C8.86999 11.357 9.37802 11.0526 9.83311 10.6803L12.9768 13.8241C13.0322 13.8801 13.0982 13.9245 13.171 13.9548C13.2437 13.985 13.3218 14.0003 13.4006 14C13.4794 14.0003 13.5575 13.985 13.6302 13.9548C13.703 13.9245 13.769 13.8801 13.8244 13.8241C13.9367 13.7116 13.9997 13.5592 13.9997 13.4003C13.9997 13.2414 13.9367 13.089 13.8244 12.9765L10.6806 9.8328C11.0529 9.37773 11.3572 8.86972 11.5831 8.32452C11.8856 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0267 2.67572C10.3652 1.68564 9.42488 0.913972 8.32477 0.45829C7.22466 0.00260857 6.01412 -0.116618 4.84625 0.115686C3.67838 0.34799 2.60562 0.921393 1.76363 1.76338C0.921637 2.60537 0.348235 3.67813 0.11593 4.84601C-0.116374 6.01388 0.00285271 7.22441 0.458534 8.32452C0.914216 9.42464 1.68589 10.3649 2.67596 11.0265ZM3.35559 2.0158C4.14449 1.48867 5.07199 1.20731 6.0208 1.20731C7.29311 1.20731 8.51331 1.71274 9.41297 2.6124C10.3126 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5367 7.88088 10.0096 8.66978C9.48244 9.45868 8.73322 10.0736 7.85663 10.4367C6.98005 10.7997 6.01548 10.8947 5.0849 10.7096C4.15433 10.5245 3.29954 10.0676 2.62863 9.39674C1.95772 8.72583 1.50083 7.87104 1.31572 6.94046C1.13062 6.00989 1.22562 5.04532 1.58872 4.16874C1.95181 3.29215 2.56669 2.54292 3.35559 2.0158ZM6.00481 8.60309C5.84641 8.60102 5.69509 8.53718 5.58308 8.42517C5.47107 8.31316 5.40722 8.16183 5.40515 8.00344V6.60422H4.00591C3.84687 6.60422 3.69434 6.54104 3.58189 6.42859C3.46943 6.31613 3.40625 6.1636 3.40625 6.00456C3.40625 5.84553 3.46943 5.693 3.58189 5.58054C3.69434 5.46809 3.84687 5.40491 4.00591 5.40491H5.40515V4.00572C5.40515 3.84668 5.46833 3.69416 5.58079 3.5817C5.69324 3.46924 5.84577 3.40607 6.00481 3.40607C6.16385 3.40607 6.31637 3.46924 6.42883 3.5817C6.54129 3.69416 6.60447 3.84668 6.60447 4.00572V5.40491H8.00362C8.16266 5.40491 8.31518 5.46809 8.42764 5.58054C8.5401 5.693 8.60328 5.84553 8.60328 6.00456C8.60328 6.1636 8.5401 6.31613 8.42764 6.42859C8.31518 6.54104 8.16266 6.60422 8.00362 6.60422H6.60447V8.00344C6.60239 8.16183 6.53855 8.31316 6.42654 8.42517C6.31453 8.53718 6.1632 8.60102 6.00481 8.60309Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(o,i){1&o&&(e.O4$(),e.TgZ(0,"svg",0)(1,"g"),e._UZ(2,"path",1),e.qZA(),e.TgZ(3,"defs")(4,"clipPath",2),e._UZ(5,"rect",3),e.qZA()()()),2&o&&(e.Tol(i.getClassNames()),e.uIk("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),e.xp6(1),e.uIk("clip-path",i.pathId),e.xp6(3),e.Q6J("id",i.pathId))},encapsulation:2})}return n})();var le=u(7778);let re=(()=>{class n extends O.s{pathId;ngOnInit(){this.pathId="url(#"+(0,T.Th)()+")"}static \u0275fac=function(){let t;return function(i){return(t||(t=e.n5z(n)))(i||n)}}();static \u0275cmp=e.Xpm({type:n,selectors:[["UndoIcon"]],standalone:!0,features:[e.qOj,e.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.77042 5.96336C6.84315 5.99355 6.92118 6.00891 6.99993 6.00854C7.07868 6.00891 7.15671 5.99355 7.22944 5.96336C7.30217 5.93317 7.36814 5.88876 7.42348 5.83273C7.53572 5.72035 7.59876 5.56801 7.59876 5.40918C7.59876 5.25035 7.53572 5.09802 7.42348 4.98564L6.04897 3.61113H6.99998C7.9088 3.61113 8.79722 3.88063 9.55288 4.38554C10.3085 4.89046 10.8975 5.60811 11.2453 6.44776C11.5931 7.2874 11.6841 8.21132 11.5068 9.10268C11.3295 9.99404 10.8918 10.8128 10.2492 11.4554C9.60657 12.0981 8.7878 12.5357 7.89644 12.713C7.00508 12.8903 6.08116 12.7993 5.24152 12.4515C4.40188 12.1037 3.68422 11.5148 3.17931 10.7591C2.67439 10.0035 2.4049 9.11504 2.4049 8.20622C2.4049 8.04726 2.34175 7.89481 2.22935 7.78241C2.11695 7.67001 1.9645 7.60686 1.80554 7.60686C1.64658 7.60686 1.49413 7.67001 1.38172 7.78241C1.26932 7.89481 1.20618 8.04726 1.20618 8.20622C1.20829 9.74218 1.81939 11.2146 2.90548 12.3007C3.99157 13.3868 5.46402 13.9979 6.99998 14C8.5366 14 10.0103 13.3896 11.0968 12.3031C12.1834 11.2165 12.7938 9.74283 12.7938 8.20622C12.7938 6.66961 12.1834 5.19593 11.0968 4.10938C10.0103 3.02283 8.5366 2.41241 6.99998 2.41241H6.04892L7.42348 1.03786C7.48236 0.982986 7.5296 0.916817 7.56235 0.843296C7.59511 0.769775 7.61273 0.690409 7.61415 0.609933C7.61557 0.529456 7.60076 0.449519 7.57062 0.374888C7.54047 0.300257 7.49561 0.232462 7.43869 0.175548C7.38178 0.118634 7.31398 0.0737664 7.23935 0.0436218C7.16472 0.0134773 7.08478 -0.00132663 7.00431 9.32772e-05C6.92383 0.00151319 6.84447 0.019128 6.77095 0.0518865C6.69742 0.0846451 6.63126 0.131876 6.57638 0.190763L4.17895 2.5882C4.06671 2.70058 4.00366 2.85292 4.00366 3.01175C4.00366 3.17058 4.06671 3.32291 4.17895 3.43529L6.57638 5.83273C6.63172 5.88876 6.69769 5.93317 6.77042 5.96336Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(o,i){1&o&&(e.O4$(),e.TgZ(0,"svg",0)(1,"g"),e._UZ(2,"path",1),e.qZA(),e.TgZ(3,"defs")(4,"clipPath",2),e._UZ(5,"rect",3),e.qZA()()()),2&o&&(e.Tol(i.getClassNames()),e.uIk("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),e.xp6(1),e.uIk("clip-path",i.pathId),e.xp6(3),e.Q6J("id",i.pathId))},encapsulation:2})}return n})();var se=u(5232);const De=["mask"],Ue=["previewButton"],Oe=["closeButton"];function Je(n,l){1&n&&e.GkF(0)}function Pe(n,l){if(1&n&&(e.ynx(0),e.YNc(1,Je,1,0,"ng-container",8),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.indicatorTemplate)}}function qe(n,l){1&n&&e._UZ(0,"EyeIcon",9),2&n&&e.Q6J("styleClass","p-image-preview-icon")}const ze=function(n,l){return{height:n,width:l}};function Le(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",4,5),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onImageClick())}),e.YNc(2,Pe,2,1,"ng-container",6),e.YNc(3,qe,1,1,"ng-template",null,7,e.W1O),e.qZA()}if(2&n){const t=e.MAs(4),o=e.oxw();e.Q6J("ngStyle",e.WLB(3,ze,o.height+"px",o.width+"px")),e.xp6(2),e.Q6J("ngIf",o.indicatorTemplate)("ngIfElse",t)}}function Ve(n,l){1&n&&e._UZ(0,"RefreshIcon")}function Re(n,l){}function Be(n,l){1&n&&e.YNc(0,Re,0,0,"ng-template")}function Qe(n,l){1&n&&e._UZ(0,"UndoIcon")}function Ye(n,l){}function He(n,l){1&n&&e.YNc(0,Ye,0,0,"ng-template")}function Ke(n,l){1&n&&e._UZ(0,"SearchMinusIcon")}function Ge(n,l){}function je(n,l){1&n&&e.YNc(0,Ge,0,0,"ng-template")}function $e(n,l){1&n&&e._UZ(0,"SearchPlusIcon")}function We(n,l){}function Xe(n,l){1&n&&e.YNc(0,We,0,0,"ng-template")}function et(n,l){1&n&&e._UZ(0,"TimesIcon")}function tt(n,l){}function nt(n,l){1&n&&e.YNc(0,tt,0,0,"ng-template")}const it=function(n,l){return{showTransitionParams:n,hideTransitionParams:l}},ot=function(n){return{value:"visible",params:n}};function at(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e.NdJ("@animation.start",function(i){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onAnimationStart(i))})("@animation.done",function(i){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onAnimationEnd(i))}),e.TgZ(1,"img",17),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onPreviewImageClick())}),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("@animation",e.VKq(8,ot,e.WLB(5,it,t.showTransitionOptions,t.hideTransitionOptions))),e.xp6(1),e.Q6J("ngStyle",t.imagePreviewStyle()),e.uIk("src",t.previewImageSrc?t.previewImageSrc:t.src,e.LSH)("srcset",t.previewImageSrcSet)("sizes",t.previewImageSizes)}}function lt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",10,11),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onMaskClick())})("keydown",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.onMaskKeydown(i))}),e.TgZ(2,"div",12),e.NdJ("click",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.handleToolbarClick(i))}),e.TgZ(3,"button",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.rotateRight())}),e.YNc(4,Ve,1,0,"RefreshIcon",14),e.YNc(5,Be,1,0,null,8),e.qZA(),e.TgZ(6,"button",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.rotateLeft())}),e.YNc(7,Qe,1,0,"UndoIcon",14),e.YNc(8,He,1,0,null,8),e.qZA(),e.TgZ(9,"button",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.zoomOut())}),e.YNc(10,Ke,1,0,"SearchMinusIcon",14),e.YNc(11,je,1,0,null,8),e.qZA(),e.TgZ(12,"button",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.zoomIn())}),e.YNc(13,$e,1,0,"SearchPlusIcon",14),e.YNc(14,Xe,1,0,null,8),e.qZA(),e.TgZ(15,"button",13,16),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.closePreview())}),e.YNc(17,et,1,0,"TimesIcon",14),e.YNc(18,nt,1,0,null,8),e.qZA()(),e.YNc(19,at,2,10,"div",14),e.qZA()}if(2&n){const t=e.oxw();e.uIk("aria-modal",t.maskVisible),e.xp6(3),e.uIk("aria-label",t.rightAriaLabel()),e.xp6(1),e.Q6J("ngIf",!t.rotateRightIconTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",t.rotateRightIconTemplate),e.xp6(1),e.uIk("aria-label",t.leftAriaLabel()),e.xp6(1),e.Q6J("ngIf",!t.rotateLeftIconTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",t.rotateLeftIconTemplate),e.xp6(1),e.Q6J("disabled",t.isZoomOutDisabled),e.uIk("aria-label",t.zoomOutAriaLabel()),e.xp6(1),e.Q6J("ngIf",!t.zoomOutIconTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",t.zoomOutIconTemplate),e.xp6(1),e.Q6J("disabled",t.isZoomInDisabled),e.uIk("aria-label",t.zoomInAriaLabel()),e.xp6(1),e.Q6J("ngIf",!t.zoomInIconTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",t.zoomInIconTemplate),e.xp6(1),e.uIk("aria-label",t.closeAriaLabel()),e.xp6(2),e.Q6J("ngIf",!t.closeIconTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",t.closeIconTemplate),e.xp6(1),e.Q6J("ngIf",t.previewVisible)}}let H=(()=>{class n{document;config;cd;el;imageClass;imageStyle;styleClass;style;src;srcSet;sizes;previewImageSrc;previewImageSrcSet;previewImageSizes;alt;width;height;loading;appendTo;preview=!1;showTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";onShow=new e.vpe;onHide=new e.vpe;onImageError=new e.vpe;mask;previewButton;closeButton;templates;indicatorTemplate;rotateRightIconTemplate;rotateLeftIconTemplate;zoomOutIconTemplate;zoomInIconTemplate;closeIconTemplate;maskVisible=!1;previewVisible=!1;rotate=0;scale=1;previewClick=!1;container;wrapper;get isZoomOutDisabled(){return this.scale-this.zoomSettings.step<=this.zoomSettings.min}get isZoomInDisabled(){return this.scale+this.zoomSettings.step>=this.zoomSettings.max}zoomSettings={default:1,step:.1,max:1.5,min:.5};constructor(t,o,i,a){this.document=t,this.config=o,this.cd=i,this.el=a}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"indicator":default:this.indicatorTemplate=t.template;break;case"rotaterighticon":this.rotateRightIconTemplate=t.template;break;case"rotatelefticon":this.rotateLeftIconTemplate=t.template;break;case"zoomouticon":this.zoomOutIconTemplate=t.template;break;case"zoominicon":this.zoomInIconTemplate=t.template;break;case"closeicon":this.closeIconTemplate=t.template}})}onImageClick(){this.preview&&(this.maskVisible=!0,this.previewVisible=!0,_.p.blockBodyScroll())}onMaskClick(){this.previewClick||this.closePreview(),this.previewClick=!1}onMaskKeydown(t){"Escape"===t.code&&(this.onMaskClick(),setTimeout(()=>{_.p.focus(this.previewButton.nativeElement)},25),t.preventDefault())}onPreviewImageClick(){this.previewClick=!0}rotateRight(){this.rotate+=90,this.previewClick=!0}rotateLeft(){this.rotate-=90,this.previewClick=!0}zoomIn(){this.scale=this.scale+this.zoomSettings.step,this.previewClick=!0}zoomOut(){this.scale=this.scale-this.zoomSettings.step,this.previewClick=!0}onAnimationStart(t){switch(t.toState){case"visible":this.container=t.element,this.wrapper=this.container?.parentElement,this.appendContainer(),this.moveOnTop(),setTimeout(()=>{_.p.focus(this.closeButton.nativeElement)},25);break;case"void":_.p.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(t){switch(t.toState){case"void":T.P9.clear(this.wrapper),this.maskVisible=!1,this.container=null,this.wrapper=null,this.cd.markForCheck(),this.onHide.emit({});break;case"visible":this.onShow.emit({})}}moveOnTop(){T.P9.set("modal",this.wrapper,this.config.zIndex.modal)}appendContainer(){this.appendTo&&("body"===this.appendTo?this.document.body.appendChild(this.wrapper):_.p.appendChild(this.wrapper,this.appendTo))}imagePreviewStyle(){return{transform:"rotate("+this.rotate+"deg) scale("+this.scale+")"}}containerClass(){return{"p-image p-component":!0,"p-image-preview-container":this.preview}}handleToolbarClick(t){t.stopPropagation()}closePreview(){this.previewVisible=!1,this.rotate=0,this.scale=this.zoomSettings.default,_.p.unblockBodyScroll()}imageError(t){this.onImageError.emit(t)}rightAriaLabel(){return this.config.translation.aria?this.config.translation.aria.rotateRight:void 0}leftAriaLabel(){return this.config.translation.aria?this.config.translation.aria.rotateLeft:void 0}zoomInAriaLabel(){return this.config.translation.aria?this.config.translation.aria.zoomIn:void 0}zoomOutAriaLabel(){return this.config.translation.aria?this.config.translation.aria.zoomOut:void 0}closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}onKeydownHandler(t){this.previewVisible&&this.closePreview()}static \u0275fac=function(o){return new(o||n)(e.Y36(g.K0),e.Y36(m.b4),e.Y36(e.sBO),e.Y36(e.SBq))};static \u0275cmp=e.Xpm({type:n,selectors:[["p-image"]],contentQueries:function(o,i,a){if(1&o&&e.Suo(a,m.jx,4),2&o){let r;e.iGM(r=e.CRH())&&(i.templates=r)}},viewQuery:function(o,i){if(1&o&&(e.Gf(De,5),e.Gf(Ue,5),e.Gf(Oe,5)),2&o){let a;e.iGM(a=e.CRH())&&(i.mask=a.first),e.iGM(a=e.CRH())&&(i.previewButton=a.first),e.iGM(a=e.CRH())&&(i.closeButton=a.first)}},hostAttrs:[1,"p-element"],hostBindings:function(o,i){1&o&&e.NdJ("keydown.escape",function(r){return i.onKeydownHandler(r)},!1,e.evT)},inputs:{imageClass:"imageClass",imageStyle:"imageStyle",styleClass:"styleClass",style:"style",src:"src",srcSet:"srcSet",sizes:"sizes",previewImageSrc:"previewImageSrc",previewImageSrcSet:"previewImageSrcSet",previewImageSizes:"previewImageSizes",alt:"alt",width:"width",height:"height",loading:"loading",appendTo:"appendTo",preview:"preview",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide",onImageError:"onImageError"},decls:4,vars:16,consts:[[3,"ngClass","ngStyle"],[3,"ngStyle","error"],["type","button","class","p-image-preview-indicator","style","border: 'none';",3,"ngStyle","click",4,"ngIf"],["class","p-image-mask p-component-overlay p-component-overlay-enter","role","dialog","pFocusTrap","",3,"click","keydown",4,"ngIf"],["type","button",1,"p-image-preview-indicator",2,"border","'none'",3,"ngStyle","click"],["previewButton",""],[4,"ngIf","ngIfElse"],["defaultTemplate",""],[4,"ngTemplateOutlet"],[3,"styleClass"],["role","dialog","pFocusTrap","",1,"p-image-mask","p-component-overlay","p-component-overlay-enter",3,"click","keydown"],["mask",""],[1,"p-image-toolbar",3,"click"],["type","button",1,"p-image-action","p-link",3,"click"],[4,"ngIf"],["type","button",1,"p-image-action","p-link",3,"disabled","click"],["closeButton",""],[1,"p-image-preview",3,"ngStyle","click"]],template:function(o,i){1&o&&(e.TgZ(0,"span",0)(1,"img",1),e.NdJ("error",function(r){return i.imageError(r)}),e.qZA(),e.YNc(2,Le,5,6,"button",2),e.YNc(3,lt,20,19,"div",3),e.qZA()),2&o&&(e.Tol(i.styleClass),e.Q6J("ngClass",i.containerClass())("ngStyle",i.style),e.xp6(1),e.Tol(i.imageClass),e.Q6J("ngStyle",i.imageStyle),e.uIk("src",i.src,e.LSH)("srcset",i.srcSet)("sizes",i.sizes)("alt",i.alt)("width",i.width)("height",i.height)("loading",i.loading),e.xp6(1),e.Q6J("ngIf",i.preview),e.xp6(1),e.Q6J("ngIf",i.maskVisible))},dependencies:function(){return[g.mk,g.O5,g.tP,g.PC,ie,ne,re,oe,ae,le.q,se.i]},styles:["@layer primeng{.p-image-mask{display:flex;align-items:center;justify-content:center}.p-image-preview-container{position:relative;display:inline-block;line-height:0}.p-image-preview-indicator{position:absolute;left:0;top:0;width:100%;height:100%;outline:none;border:none;padding:0;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s}.p-image-preview-icon.pi{font-size:1.5rem}.p-image-preview-icon.p-icon{scale:1.5}.p-image-preview-container:hover>.p-image-preview-indicator{opacity:1;cursor:pointer}.p-image-preview-container>img{cursor:pointer}.p-image-toolbar{position:absolute;top:0;right:0;display:flex;z-index:1}.p-image-action.p-link{display:flex;justify-content:center;align-items:center}.p-image-action.p-link[disabled]{opacity:.5}.p-image-preview{transition:transform .15s;max-width:100vw;max-height:100vh}}\n"],encapsulation:2,data:{animation:[(0,A.X$)("animation",[(0,A.eR)("void => visible",[(0,A.oB)({transform:"scale(0.7)",opacity:0}),(0,A.jt)("{{showTransitionParams}}")]),(0,A.eR)("visible => void",[(0,A.jt)("{{hideTransitionParams}}",(0,A.oB)({transform:"scale(0.7)",opacity:0}))])])]},changeDetection:0})}return n})(),rt=(()=>{class n{static \u0275fac=function(o){return new(o||n)};static \u0275mod=e.oAB({type:n});static \u0275inj=e.cJS({imports:[g.ez,m.m8,ie,ne,re,oe,ae,le.q,se.o,m.m8]})}return n})();var J=u(9653),ce=u(5609),Z=u(3714),de=u(1122),K=u(4055),st=u(1230),pe=u(1865),ue=u(7902),C=u(9552),ct=u(4844),M=u(315),S=u(4104),dt=u(6340),pt=u(3745),ge=u(3362),_e=u(2314),ut=u(2591),me=u(6005),he=u(4562),gt=u(1604),_t=u(3833),mt=u(6392),ht=u(7273),fe=u(8717),ve=u(1712),V=u(4480),G=u(6489),P=u(8645);const ft=["container"],vt=["resizeHelper"],bt=["reorderIndicatorUp"],Tt=["reorderIndicatorDown"],Ct=["table"],wt=["scrollableView"],St=["scrollableFrozenView"];function yt(n,l){if(1&n&&e._UZ(0,"i"),2&n){const t=e.oxw(2);e.Tol("p-treetable-loading-icon pi-spin "+t.loadingIcon)}}function xt(n,l){1&n&&e._UZ(0,"SpinnerIcon",18),2&n&&e.Q6J("spin",!0)("styleClass","p-treetable-loading-icon")}function It(n,l){}function Et(n,l){1&n&&e.YNc(0,It,0,0,"ng-template")}function Zt(n,l){if(1&n&&(e.TgZ(0,"span",19),e.YNc(1,Et,1,0,null,20),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t.loadingIconTemplate)}}function kt(n,l){if(1&n&&(e.ynx(0),e.YNc(1,xt,1,2,"SpinnerIcon",16),e.YNc(2,Zt,2,1,"span",17),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.loadingIconTemplate),e.xp6(1),e.Q6J("ngIf",t.loadingIconTemplate)}}function At(n,l){if(1&n&&(e.TgZ(0,"div",12)(1,"div",13),e.YNc(2,yt,1,2,"i",14),e.YNc(3,kt,3,2,"ng-container",15),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.loadingIcon),e.xp6(1),e.Q6J("ngIf",!t.loadingIcon)}}function Mt(n,l){1&n&&e.GkF(0)}function Nt(n,l){if(1&n&&(e.TgZ(0,"div",21),e.YNc(1,Mt,1,0,"ng-container",20),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.captionTemplate)}}function Ft(n,l){1&n&&e.GkF(0)}function Dt(n,l){if(1&n&&e.YNc(0,Ft,1,0,"ng-container",20),2&n){const t=e.oxw(3);e.Q6J("ngTemplateOutlet",t.paginatorFirstPageLinkIconTemplate)}}function Ut(n,l){1&n&&e.YNc(0,Dt,1,1,"ng-template",23)}function Ot(n,l){1&n&&e.GkF(0)}function Jt(n,l){if(1&n&&e.YNc(0,Ot,1,0,"ng-container",20),2&n){const t=e.oxw(3);e.Q6J("ngTemplateOutlet",t.paginatorPreviousPageLinkIconTemplate)}}function Pt(n,l){1&n&&e.YNc(0,Jt,1,1,"ng-template",24)}function qt(n,l){1&n&&e.GkF(0)}function zt(n,l){if(1&n&&e.YNc(0,qt,1,0,"ng-container",20),2&n){const t=e.oxw(3);e.Q6J("ngTemplateOutlet",t.paginatorLastPageLinkIconTemplate)}}function Lt(n,l){1&n&&e.YNc(0,zt,1,1,"ng-template",25)}function Vt(n,l){1&n&&e.GkF(0)}function Rt(n,l){if(1&n&&e.YNc(0,Vt,1,0,"ng-container",20),2&n){const t=e.oxw(3);e.Q6J("ngTemplateOutlet",t.paginatorNextPageLinkIconTemplate)}}function Bt(n,l){1&n&&e.YNc(0,Rt,1,1,"ng-template",26)}function Qt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"p-paginator",22),e.NdJ("onPageChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.onPageChange(i))}),e.YNc(1,Ut,1,0,null,15),e.YNc(2,Pt,1,0,null,15),e.YNc(3,Lt,1,0,null,15),e.YNc(4,Bt,1,0,null,15),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("rows",t.rows)("first",t.first)("totalRecords",t.totalRecords)("pageLinkSize",t.pageLinks)("alwaysShow",t.alwaysShowPaginator)("rowsPerPageOptions",t.rowsPerPageOptions)("templateLeft",t.paginatorLeftTemplate)("templateRight",t.paginatorRightTemplate)("dropdownAppendTo",t.paginatorDropdownAppendTo)("currentPageReportTemplate",t.currentPageReportTemplate)("showFirstLastIcon",t.showFirstLastIcon)("dropdownItemTemplate",t.paginatorDropdownItemTemplate)("showCurrentPageReport",t.showCurrentPageReport)("showJumpToPageDropdown",t.showJumpToPageDropdown)("showPageLinks",t.showPageLinks)("styleClass",t.paginatorStyleClass)("locale",t.paginatorLocale),e.xp6(1),e.Q6J("ngIf",t.paginatorFirstPageLinkIconTemplate),e.xp6(1),e.Q6J("ngIf",t.paginatorPreviousPageLinkIconTemplate),e.xp6(1),e.Q6J("ngIf",t.paginatorLastPageLinkIconTemplate),e.xp6(1),e.Q6J("ngIf",t.paginatorNextPageLinkIconTemplate)}}function Yt(n,l){1&n&&e.GkF(0)}function Ht(n,l){1&n&&e.GkF(0)}function Kt(n,l){1&n&&e.GkF(0)}const x=function(n){return{$implicit:n}};function Gt(n,l){if(1&n&&(e.TgZ(0,"div",27)(1,"table",28,29),e.YNc(3,Yt,1,0,"ng-container",30),e.TgZ(4,"thead",31),e.YNc(5,Ht,1,0,"ng-container",30),e.qZA(),e._UZ(6,"tbody",32),e.TgZ(7,"tfoot",33),e.YNc(8,Kt,1,0,"ng-container",30),e.qZA()()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",t.tableStyleClass)("ngStyle",t.tableStyle),e.xp6(2),e.Q6J("ngTemplateOutlet",t.colGroupTemplate)("ngTemplateOutletContext",e.VKq(10,x,t.columns)),e.xp6(2),e.Q6J("ngTemplateOutlet",t.headerTemplate)("ngTemplateOutletContext",e.VKq(12,x,t.columns)),e.xp6(1),e.Q6J("pTreeTableBody",t.columns)("pTreeTableBodyTemplate",t.bodyTemplate),e.xp6(2),e.Q6J("ngTemplateOutlet",t.footerTemplate)("ngTemplateOutletContext",e.VKq(14,x,t.columns))}}const jt=function(n){return{width:n}};function $t(n,l){if(1&n&&e._UZ(0,"div",38,39),2&n){const t=e.oxw(2);e.Q6J("ttScrollableView",t.frozenColumns)("frozen",!0)("ngStyle",e.VKq(4,jt,t.frozenWidth))("scrollHeight",t.scrollHeight)}}const Wt=function(n,l){return{left:n,width:l}};function Xt(n,l){if(1&n&&(e.TgZ(0,"div",34),e.YNc(1,$t,2,6,"div",35),e._UZ(2,"div",36,37),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.frozenColumns||t.frozenBodyTemplate),e.xp6(1),e.Q6J("ttScrollableView",t.columns)("frozen",!1)("scrollHeight",t.scrollHeight)("ngStyle",e.WLB(5,Wt,t.frozenWidth,"calc(100% - "+t.frozenWidth+")"))}}function en(n,l){1&n&&e.GkF(0)}function tn(n,l){if(1&n&&e.YNc(0,en,1,0,"ng-container",20),2&n){const t=e.oxw(3);e.Q6J("ngTemplateOutlet",t.paginatorFirstPageLinkIconTemplate)}}function nn(n,l){1&n&&e.YNc(0,tn,1,1,"ng-template",23)}function on(n,l){1&n&&e.GkF(0)}function an(n,l){if(1&n&&e.YNc(0,on,1,0,"ng-container",20),2&n){const t=e.oxw(3);e.Q6J("ngTemplateOutlet",t.paginatorPreviousPageLinkIconTemplate)}}function ln(n,l){1&n&&e.YNc(0,an,1,1,"ng-template",24)}function rn(n,l){1&n&&e.GkF(0)}function sn(n,l){if(1&n&&e.YNc(0,rn,1,0,"ng-container",20),2&n){const t=e.oxw(3);e.Q6J("ngTemplateOutlet",t.paginatorLastPageLinkIconTemplate)}}function cn(n,l){1&n&&e.YNc(0,sn,1,1,"ng-template",25)}function dn(n,l){1&n&&e.GkF(0)}function pn(n,l){if(1&n&&e.YNc(0,dn,1,0,"ng-container",20),2&n){const t=e.oxw(3);e.Q6J("ngTemplateOutlet",t.paginatorNextPageLinkIconTemplate)}}function un(n,l){1&n&&e.YNc(0,pn,1,1,"ng-template",26)}function gn(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"p-paginator",40),e.NdJ("onPageChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.onPageChange(i))}),e.YNc(1,nn,1,0,null,15),e.YNc(2,ln,1,0,null,15),e.YNc(3,cn,1,0,null,15),e.YNc(4,un,1,0,null,15),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("rows",t.rows)("first",t.first)("totalRecords",t.totalRecords)("pageLinkSize",t.pageLinks)("alwaysShow",t.alwaysShowPaginator)("rowsPerPageOptions",t.rowsPerPageOptions)("templateLeft",t.paginatorLeftTemplate)("templateRight",t.paginatorRightTemplate)("dropdownAppendTo",t.paginatorDropdownAppendTo)("currentPageReportTemplate",t.currentPageReportTemplate)("showFirstLastIcon",t.showFirstLastIcon)("dropdownItemTemplate",t.paginatorDropdownItemTemplate)("showCurrentPageReport",t.showCurrentPageReport)("showJumpToPageDropdown",t.showJumpToPageDropdown)("showPageLinks",t.showPageLinks)("styleClass",t.paginatorStyleClass)("locale",t.paginatorLocale),e.xp6(1),e.Q6J("ngIf",t.paginatorFirstPageLinkIconTemplate),e.xp6(1),e.Q6J("ngIf",t.paginatorPreviousPageLinkIconTemplate),e.xp6(1),e.Q6J("ngIf",t.paginatorLastPageLinkIconTemplate),e.xp6(1),e.Q6J("ngIf",t.paginatorNextPageLinkIconTemplate)}}function _n(n,l){1&n&&e.GkF(0)}function mn(n,l){if(1&n&&(e.TgZ(0,"div",41),e.YNc(1,_n,1,0,"ng-container",20),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.summaryTemplate)}}function hn(n,l){1&n&&e._UZ(0,"div",42,43)}function fn(n,l){1&n&&e._UZ(0,"ArrowDownIcon")}function vn(n,l){}function bn(n,l){1&n&&e.YNc(0,vn,0,0,"ng-template")}function Tn(n,l){if(1&n&&(e.TgZ(0,"span",44,45),e.YNc(2,fn,1,0,"ArrowDownIcon",15),e.YNc(3,bn,1,0,null,20),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",!t.reorderIndicatorUpIconTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",t.reorderIndicatorUpIconTemplate)}}function Cn(n,l){1&n&&e._UZ(0,"ArrowUpIcon")}function wn(n,l){}function Sn(n,l){1&n&&e.YNc(0,wn,0,0,"ng-template")}function yn(n,l){if(1&n&&(e.TgZ(0,"span",46,47),e.YNc(2,Cn,1,0,"ArrowUpIcon",15),e.YNc(3,Sn,1,0,null,20),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",!t.reorderIndicatorDownIconTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",t.reorderIndicatorDownIconTemplate)}}const xn=function(n,l,t,o,i){return{"p-treetable p-component":!0,"p-treetable-hoverable-rows":n,"p-treetable-auto-layout":l,"p-treetable-resizable":t,"p-treetable-resizable-fit":o,"p-treetable-flex-scrollable":i}},In=["pTreeTableBody",""];function En(n,l){1&n&&e.GkF(0)}const Zn=function(n,l,t,o){return{$implicit:n,node:l,rowData:t,columns:o}};function kn(n,l){if(1&n&&(e.ynx(0),e.YNc(1,En,1,0,"ng-container",2),e.BQk()),2&n){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",o.template)("ngTemplateOutletContext",e.l5B(2,Zn,t,t.node,t.node.data,o.columns))}}function An(n,l){1&n&&e.YNc(0,kn,2,7,"ng-container",1),2&n&&e.Q6J("ngIf",l.$implicit.visible)}function Mn(n,l){1&n&&e.GkF(0)}const Nn=function(n,l){return{$implicit:n,frozen:l}};function Fn(n,l){if(1&n&&(e.ynx(0),e.YNc(1,Mn,1,0,"ng-container",2),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.tt.emptyMessageTemplate)("ngTemplateOutletContext",e.WLB(2,Nn,t.columns,t.frozen))}}const Dn=["scrollHeader"],Un=["scrollHeaderBox"],On=["scrollBody"],Jn=["scrollTable"],Pn=["loadingTable"],qn=["scrollFooter"],zn=["scrollFooterBox"],Ln=["scrollableAligner"],Vn=["scroller"],Rn=["ttScrollableView",""];function Bn(n,l){1&n&&e.GkF(0)}function Qn(n,l){1&n&&e.GkF(0)}function Yn(n,l){1&n&&e.GkF(0)}const be=function(n,l){return{$implicit:n,options:l}};function Hn(n,l){if(1&n&&e.YNc(0,Yn,1,0,"ng-container",5),2&n){const t=l.$implicit,o=l.options;e.oxw(2);const i=e.MAs(11);e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.WLB(2,be,t,o))}}function Kn(n,l){1&n&&e.GkF(0)}const Gn=function(n){return{options:n}};function jn(n,l){if(1&n&&e.YNc(0,Kn,1,0,"ng-container",5),2&n){const t=l.options,o=e.oxw(3);e.Q6J("ngTemplateOutlet",o.loaderTemplate)("ngTemplateOutletContext",e.VKq(2,Gn,t))}}function $n(n,l){1&n&&(e.ynx(0),e.YNc(1,jn,1,4,"ng-template",14),e.BQk())}const Wn=function(n){return{height:n}};function Xn(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"p-scroller",11,12),e.NdJ("onLazyLoad",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.tt.onLazyItemLoad(i))}),e.YNc(2,Hn,1,5,"ng-template",13),e.YNc(3,$n,2,0,"ng-container",8),e.qZA()}if(2&n){const t=e.oxw();e.Akn(e.VKq(8,Wn,"flex"!==t.tt.scrollHeight?t.tt.scrollHeight:void 0)),e.Q6J("items",t.tt.serializedValue)("scrollHeight","flex"!==t.scrollHeight?void 0:"100%")("itemSize",t.tt.virtualScrollItemSize||t.tt._virtualRowHeight)("lazy",t.tt.lazy)("options",t.tt.virtualScrollOptions),e.xp6(3),e.Q6J("ngIf",t.loaderTemplate)}}function ei(n,l){1&n&&e.GkF(0)}const ti=function(n,l){return{"max-height":n,"overflow-y":l}},ni=function(){return{}};function ii(n,l){if(1&n&&(e.ynx(0),e.TgZ(1,"div",15,16),e.YNc(3,ei,1,0,"ng-container",5),e.qZA(),e.BQk()),2&n){const t=e.oxw(),o=e.MAs(11);e.xp6(1),e.Q6J("ngStyle",e.WLB(3,ti,"flex"!==t.tt.scrollHeight?t.scrollHeight:void 0,!t.frozen&&t.tt.scrollHeight?"scroll":void 0)),e.xp6(2),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.WLB(7,be,t.serializedValue,e.DdM(6,ni)))}}function oi(n,l){1&n&&e.GkF(0)}function ai(n,l){1&n&&e._UZ(0,"div",21,22)}function li(n,l){if(1&n&&(e.TgZ(0,"table",17,18),e.YNc(2,oi,1,0,"ng-container",5),e._UZ(3,"tbody",19),e.qZA(),e.YNc(4,ai,2,0,"div",20)),2&n){const t=l.$implicit,o=l.options,i=e.oxw();e.Akn(o.contentStyle),e.Tol(i.tt.tableStyleClass),e.Q6J("ngClass",o.contentStyleClass)("ngStyle",i.tt.tableStyle),e.xp6(2),e.Q6J("ngTemplateOutlet",i.frozen&&i.tt.frozenColGroupTemplate||i.tt.colGroupTemplate)("ngTemplateOutletContext",e.VKq(13,x,i.columns)),e.xp6(1),e.Q6J("pTreeTableBody",i.columns)("pTreeTableBodyTemplate",i.frozen&&i.tt.frozenBodyTemplate||i.tt.bodyTemplate)("serializedNodes",t)("frozen",i.frozen),e.xp6(1),e.Q6J("ngIf",i.frozen)}}function ri(n,l){1&n&&e.GkF(0)}function si(n,l){1&n&&e.GkF(0)}function ci(n,l){if(1&n&&(e.TgZ(0,"div",23,24)(2,"div",25,26)(4,"table",27),e.YNc(5,ri,1,0,"ng-container",5),e.TgZ(6,"tfoot",28),e.YNc(7,si,1,0,"ng-container",5),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngClass",t.tt.tableStyleClass)("ngStyle",t.tt.tableStyle),e.xp6(1),e.Q6J("ngTemplateOutlet",t.frozen&&t.tt.frozenColGroupTemplate||t.tt.colGroupTemplate)("ngTemplateOutletContext",e.VKq(6,x,t.columns)),e.xp6(2),e.Q6J("ngTemplateOutlet",t.frozen&&t.tt.frozenFooterTemplate||t.tt.footerTemplate)("ngTemplateOutletContext",e.VKq(8,x,t.columns))}}function Si(n,l){1&n&&e.GkF(0)}function yi(n,l){if(1&n&&(e.ynx(0),e.YNc(1,Si,1,0,"ng-container",1),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.inputTemplate)}}function xi(n,l){1&n&&e.GkF(0)}function Ii(n,l){if(1&n&&(e.ynx(0),e.YNc(1,xi,1,0,"ng-container",1),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.outputTemplate)}}function Ei(n,l){1&n&&e._UZ(0,"ChevronDownIcon"),2&n&&e.uIk("aria-hidden",!0)}function Zi(n,l){1&n&&e._UZ(0,"ChevronRightIcon"),2&n&&e.uIk("aria-hidden",!0)}function ki(n,l){if(1&n&&(e.ynx(0),e.YNc(1,Ei,1,1,"ChevronDownIcon",1),e.YNc(2,Zi,1,1,"ChevronRightIcon",1),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.rowNode.node.expanded),e.xp6(1),e.Q6J("ngIf",!t.rowNode.node.expanded)}}function Ai(n,l){}function Mi(n,l){1&n&&e.YNc(0,Ai,0,0,"ng-template")}let j=(()=>{class n{sortSource=new P.x;selectionSource=new P.x;contextMenuSource=new P.x;uiUpdateSource=new P.x;totalRecordsSource=new P.x;sortSource$=this.sortSource.asObservable();selectionSource$=this.selectionSource.asObservable();contextMenuSource$=this.contextMenuSource.asObservable();uiUpdateSource$=this.uiUpdateSource.asObservable();totalRecordsSource$=this.totalRecordsSource.asObservable();onSort(t){this.sortSource.next(t)}onSelectionChange(){this.selectionSource.next(null)}onContextMenu(t){this.contextMenuSource.next(t)}onUIUpdate(t){this.uiUpdateSource.next(t)}onTotalRecordsChange(t){this.totalRecordsSource.next(t)}static \u0275fac=function(o){return new(o||n)};static \u0275prov=e.Yz7({token:n,factory:n.\u0275fac})}return n})(),N=(()=>{class n{document;renderer;el;cd;zone;tableService;filterService;columns;style;styleClass;tableStyle;tableStyleClass;autoLayout;lazy=!1;lazyLoadOnInit=!0;paginator;rows;first=0;pageLinks=5;rowsPerPageOptions;alwaysShowPaginator=!0;paginatorPosition="bottom";paginatorStyleClass;paginatorDropdownAppendTo;currentPageReportTemplate="{currentPage} of {totalPages}";showCurrentPageReport;showJumpToPageDropdown;showFirstLastIcon=!0;showPageLinks=!0;defaultSortOrder=1;sortMode="single";resetPageOnSort=!0;customSort;selectionMode;contextMenuSelection;contextMenuSelectionMode="separate";dataKey;metaKeySelection;compareSelectionBy="deepEquals";rowHover;loading;loadingIcon;showLoader=!0;scrollable;scrollHeight;virtualScroll;virtualScrollItemSize;virtualScrollOptions;virtualScrollDelay=150;frozenWidth;frozenColumns;resizableColumns;columnResizeMode="fit";reorderableColumns;contextMenu;rowTrackBy=(t,o)=>o;filters={};globalFilterFields;filterDelay=300;filterMode="lenient";filterLocale;paginatorLocale;get totalRecords(){return this._totalRecords}set totalRecords(t){this._totalRecords=t,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(t){this._sortField=t}get sortOrder(){return this._sortOrder}set sortOrder(t){this._sortOrder=t}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(t){this._multiSortMeta=t}get selection(){return this._selection}set selection(t){this._selection=t}get value(){return this._value}set value(t){this._value=t}get virtualRowHeight(){return this._virtualRowHeight}set virtualRowHeight(t){this._virtualRowHeight=t,console.warn("The virtualRowHeight property is deprecated, use virtualScrollItemSize property instead.")}_virtualRowHeight=28;selectionChange=new e.vpe;contextMenuSelectionChange=new e.vpe;onFilter=new e.vpe;onNodeExpand=new e.vpe;onNodeCollapse=new e.vpe;onPage=new e.vpe;onSort=new e.vpe;onLazyLoad=new e.vpe;sortFunction=new e.vpe;onColResize=new e.vpe;onColReorder=new e.vpe;onNodeSelect=new e.vpe;onNodeUnselect=new e.vpe;onContextMenuSelect=new e.vpe;onHeaderCheckboxToggle=new e.vpe;onEditInit=new e.vpe;onEditComplete=new e.vpe;onEditCancel=new e.vpe;containerViewChild;resizeHelperViewChild;reorderIndicatorUpViewChild;reorderIndicatorDownViewChild;tableViewChild;scrollableViewChild;scrollableFrozenViewChild;templates;_value=[];serializedValue;_totalRecords=0;_multiSortMeta;_sortField;_sortOrder=1;filteredNodes;filterTimeout;colGroupTemplate;captionTemplate;headerTemplate;bodyTemplate;footerTemplate;summaryTemplate;emptyMessageTemplate;paginatorLeftTemplate;paginatorRightTemplate;paginatorDropdownItemTemplate;frozenHeaderTemplate;frozenBodyTemplate;frozenFooterTemplate;frozenColGroupTemplate;loadingIconTemplate;reorderIndicatorUpIconTemplate;reorderIndicatorDownIconTemplate;sortIconTemplate;checkboxIconTemplate;headerCheckboxIconTemplate;togglerIconTemplate;paginatorFirstPageLinkIconTemplate;paginatorLastPageLinkIconTemplate;paginatorPreviousPageLinkIconTemplate;paginatorNextPageLinkIconTemplate;lastResizerHelperX;reorderIconWidth;reorderIconHeight;draggedColumn;dropPosition;preventSelectionSetterPropagation;_selection;selectionKeys={};rowTouched;editingCell;editingCellData;editingCellField;editingCellClick;documentEditListener;initialized;toggleRowIndex;ngOnInit(){this.lazy&&this.lazyLoadOnInit&&!this.virtualScroll&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"caption":this.captionTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"body":this.bodyTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"summary":this.summaryTemplate=t.template;break;case"colgroup":this.colGroupTemplate=t.template;break;case"emptymessage":this.emptyMessageTemplate=t.template;break;case"paginatorleft":this.paginatorLeftTemplate=t.template;break;case"paginatorright":this.paginatorRightTemplate=t.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=t.template;break;case"frozenheader":this.frozenHeaderTemplate=t.template;break;case"frozenbody":this.frozenBodyTemplate=t.template;break;case"frozenfooter":this.frozenFooterTemplate=t.template;break;case"frozencolgroup":this.frozenColGroupTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template;break;case"reorderindicatorupicon":this.reorderIndicatorUpIconTemplate=t.template;break;case"reorderindicatordownicon":this.reorderIndicatorDownIconTemplate=t.template;break;case"sorticon":this.sortIconTemplate=t.template;break;case"checkboxicon":this.checkboxIconTemplate=t.template;break;case"headercheckboxicon":this.headerCheckboxIconTemplate=t.template;break;case"togglericon":this.togglerIconTemplate=t.template;break;case"paginatorfirstpagelinkicon":this.paginatorFirstPageLinkIconTemplate=t.template;break;case"paginatorlastpagelinkicon":this.paginatorLastPageLinkIconTemplate=t.template;break;case"paginatorpreviouspagelinkicon":this.paginatorPreviousPageLinkIconTemplate=t.template;break;case"paginatornextpagelinkicon":this.paginatorNextPageLinkIconTemplate=t.template}})}constructor(t,o,i,a,r,s,d){this.document=t,this.renderer=o,this.el=i,this.cd=a,this.zone=r,this.tableService=s,this.filterService=d}ngOnChanges(t){t.value&&(this._value=t.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,"single"==this.sortMode&&this.sortField?this.sortSingle():"multiple"==this.sortMode&&this.multiSortMeta?this.sortMultiple():this.hasFilter()&&this._filter()),this.updateSerializedValue(),this.tableService.onUIUpdate(this.value)),t.sortField&&(this._sortField=t.sortField.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),t.sortOrder&&(this._sortOrder=t.sortOrder.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),t.multiSortMeta&&(this._multiSortMeta=t.multiSortMeta.currentValue,"multiple"===this.sortMode&&this.sortMultiple()),t.selection&&(this._selection=t.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1)}updateSerializedValue(){this.serializedValue=[],this.paginator?this.serializePageNodes():this.serializeNodes(null,this.filteredNodes||this.value,0,!0)}serializeNodes(t,o,i,a){if(o&&o.length)for(let r of o){r.parent=t;const s={node:r,parent:t,level:i,visible:a&&(!t||t.expanded)};this.serializedValue.push(s),s.visible&&r.expanded&&this.serializeNodes(r,r.children,i+1,s.visible)}}serializePageNodes(){let t=this.filteredNodes||this.value;if(this.serializedValue=[],t&&t.length){const o=this.lazy?0:this.first;for(let i=o;i<o+this.rows;i++){let a=t[i];a&&(this.serializedValue.push({node:a,parent:null,level:0,visible:!0}),this.serializeNodes(a,a.children,1,!0))}}}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let t of this._selection)this.selectionKeys[String(T.gb.resolveFieldData(t.data,this.dataKey))]=1;else this.selectionKeys[String(T.gb.resolveFieldData(this._selection.data,this.dataKey))]=1}onPageChange(t){this.first=t.first,this.rows=t.rows,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.serializePageNodes(),this.onPage.emit({first:this.first,rows:this.rows}),this.tableService.onUIUpdate(this.value),this.scrollable&&this.resetScrollTop()}sort(t){let o=t.originalEvent;if("single"===this.sortMode&&(this._sortOrder=this.sortField===t.field?-1*this.sortOrder:this.defaultSortOrder,this._sortField=t.field,this.sortSingle(),this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()),"multiple"===this.sortMode){let i=o.metaKey||o.ctrlKey,a=this.getSortMeta(t.field);a?i?a.order=-1*a.order:(this._multiSortMeta=[{field:t.field,order:-1*a.order}],this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()):((!i||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()),this.multiSortMeta.push({field:t.field,order:this.defaultSortOrder})),this.sortMultiple()}}sortSingle(){if(this.sortField&&this.sortOrder){this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.sortNodes(this.value),this.hasFilter()&&this._filter());let t={field:this.sortField,order:this.sortOrder};this.onSort.emit(t),this.tableService.onSort(t),this.updateSerializedValue()}}sortNodes(t){if(t&&0!==t.length){this.customSort?this.sortFunction.emit({data:t,mode:this.sortMode,field:this.sortField,order:this.sortOrder}):t.sort((o,i)=>{let a=T.gb.resolveFieldData(o.data,this.sortField),r=T.gb.resolveFieldData(i.data,this.sortField),s=null;return s=null==a&&null!=r?-1:null!=a&&null==r?1:null==a&&null==r?0:"string"==typeof a&&"string"==typeof r?a.localeCompare(r,void 0,{numeric:!0}):a<r?-1:a>r?1:0,this.sortOrder*s});for(let o of t)this.sortNodes(o.children)}}sortMultiple(){this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.sortMultipleNodes(this.value),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.updateSerializedValue(),this.tableService.onSort(this.multiSortMeta))}sortMultipleNodes(t){if(t&&0!==t.length){this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):t.sort((o,i)=>this.multisortField(o,i,this.multiSortMeta,0));for(let o of t)this.sortMultipleNodes(o.children)}}multisortField(t,o,i,a){if(T.gb.isEmpty(this.multiSortMeta)||T.gb.isEmpty(i[a]))return 0;let r=T.gb.resolveFieldData(t.data,i[a].field),s=T.gb.resolveFieldData(o.data,i[a].field),d=null;if(null==r&&null!=s?d=-1:null!=r&&null==s?d=1:null==r&&null==s&&(d=0),"string"==typeof r||r instanceof String){if(r.localeCompare&&r!=s)return i[a].order*r.localeCompare(s,void 0,{numeric:!0})}else d=r<s?-1:1;return r==s?i.length-1>a?this.multisortField(t,o,i,a+1):0:i[a].order*d}getSortMeta(t){if(this.multiSortMeta&&this.multiSortMeta.length)for(let o=0;o<this.multiSortMeta.length;o++)if(this.multiSortMeta[o].field===t)return this.multiSortMeta[o];return null}isSorted(t){if("single"===this.sortMode)return this.sortField&&this.sortField===t;if("multiple"===this.sortMode){let o=!1;if(this.multiSortMeta)for(let i=0;i<this.multiSortMeta.length;i++)if(this.multiSortMeta[i].field==t){o=!0;break}return o}}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta,forceUpdate:()=>this.cd.detectChanges()}}onLazyItemLoad(t){this.onLazyLoad.emit({...this.createLazyLoadMetadata(),...t,rows:t.last-t.first})}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(t){this.scrollableViewChild&&this.scrollableViewChild.scrollToVirtualIndex(t),this.scrollableFrozenViewChild&&this.scrollableViewChild.scrollToVirtualIndex(t)}scrollTo(t){this.scrollableViewChild&&this.scrollableViewChild.scrollTo(t),this.scrollableFrozenViewChild&&this.scrollableViewChild.scrollTo(t)}isEmpty(){let t=this.filteredNodes||this.value;return null==t||0==t.length}getBlockableElement(){return this.el.nativeElement.children[0]}onColumnResizeBegin(t){let o=_.p.getOffset(this.containerViewChild?.nativeElement).left;this.lastResizerHelperX=t.pageX-o+this.containerViewChild?.nativeElement.scrollLeft,t.preventDefault()}onColumnResize(t){let o=_.p.getOffset(this.containerViewChild?.nativeElement).left;_.p.addClass(this.containerViewChild?.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild?.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=t.pageX-o+this.containerViewChild?.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(t,o){let i=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,a=o.offsetWidth,r=a+i;if(a+i>parseInt(o.style.minWidth||15)){if("fit"===this.columnResizeMode){let d=o.nextElementSibling;for(;!d.offsetParent;)d=d.nextElementSibling;if(d){let p=d.offsetWidth-i;if(r>15&&p>parseInt(d.style.minWidth||15))if(this.scrollable){let v=this.findParentScrollableView(o),b=_.p.findSingle(v,".p-treetable-scrollable-body table")||_.p.findSingle(v,".p-scroller-viewport table"),y=_.p.findSingle(v,"table.p-treetable-scrollable-header-table"),I=_.p.findSingle(v,"table.p-treetable-scrollable-footer-table"),E=_.p.index(o);this.resizeColGroup(y,E,r,p),this.resizeColGroup(b,E,r,p),this.resizeColGroup(I,E,r,p)}else o.style.width=r+"px",d&&(d.style.width=p+"px")}}else if("expand"===this.columnResizeMode)if(this.scrollable){let d=this.findParentScrollableView(o),p=_.p.findSingle(d,".p-treetable-scrollable-body")||_.p.findSingle(d,".p-scroller-viewport"),h=_.p.findSingle(d,".p-treetable-scrollable-header"),v=_.p.findSingle(d,".p-treetable-scrollable-footer"),b=_.p.findSingle(d,".p-treetable-scrollable-body table")||_.p.findSingle(d,".p-scroller-viewport table"),y=_.p.findSingle(d,"table.p-treetable-scrollable-header-table"),I=_.p.findSingle(d,"table.p-treetable-scrollable-footer-table");b.style.width=b.offsetWidth+i+"px",y.style.width=y.offsetWidth+i+"px",I&&(I.style.width=I.offsetWidth+i+"px");let E=_.p.index(o);const B=o?b.offsetWidth+i:r,Q=o?y.offsetWidth+i:r,X=this.containerViewChild?.nativeElement.offsetWidth>=B;let ee=(Me,Ne,Fe,Cr)=>{Me&&Ne&&(Me.style.width=Cr?Fe+_.p.calculateScrollbarWidth(p)+"px":"auto",Ne.style.width=Fe+"px")};ee(p,b,B,X),ee(h,y,Q,X),ee(v,I,Q,X),this.resizeColGroup(y,E,r,null),this.resizeColGroup(b,E,r,null),this.resizeColGroup(I,E,r,null)}else{this.tableViewChild.nativeElement.style.width=this.tableViewChild?.nativeElement.offsetWidth+i+"px",o.style.width=r+"px";let d=this.tableViewChild?.nativeElement.style.width;this.containerViewChild.nativeElement.style.width=d+"px"}this.onColResize.emit({element:o,delta:i})}this.resizeHelperViewChild.nativeElement.style.display="none",_.p.removeClass(this.containerViewChild?.nativeElement,"p-unselectable-text")}findParentScrollableView(t){if(t){let o=t.parentElement;for(;o&&!_.p.hasClass(o,"p-treetable-scrollable-view");)o=o.parentElement;return o}return null}resizeColGroup(t,o,i,a){if(t){let r="COLGROUP"===t.children[0].nodeName?t.children[0]:null;if(!r)throw"Scrollable tables require a colgroup to support resizable columns";{let s=r.children[o],d=s.nextElementSibling;s.style.width=i+"px",d&&a&&(d.style.width=a+"px")}}}onColumnDragStart(t,o){this.reorderIconWidth=_.p.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild?.nativeElement),this.reorderIconHeight=_.p.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild?.nativeElement),this.draggedColumn=o,t.dataTransfer.setData("text","b")}onColumnDragEnter(t,o){if(this.reorderableColumns&&this.draggedColumn&&o){t.preventDefault();let i=_.p.getOffset(this.containerViewChild?.nativeElement),a=_.p.getOffset(o);if(this.draggedColumn!=o){let r=a.left-i.left,d=a.left+o.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=a.top-i.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=a.top-i.top+o.offsetHeight+"px",t.pageX>d?(this.reorderIndicatorUpViewChild.nativeElement.style.left=r+o.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=r+o.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=r-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=r-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block"}else t.dataTransfer.dropEffect="none"}}onColumnDragLeave(t){this.reorderableColumns&&this.draggedColumn&&(t.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(t,o){if(t.preventDefault(),this.draggedColumn){let i=_.p.indexWithinGroup(this.draggedColumn,"ttreorderablecolumn"),a=_.p.indexWithinGroup(o,"ttreorderablecolumn"),r=i!=a;r&&(a-i==1&&-1===this.dropPosition||i-a==1&&1===this.dropPosition)&&(r=!1),r&&a<i&&1===this.dropPosition&&(a+=1),r&&a>i&&-1===this.dropPosition&&(a-=1),r&&(T.gb.reorderArray(this.columns,i,a),this.onColReorder.emit({dragIndex:i,dropIndex:a,columns:this.columns})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}handleRowClick(t){let o=t.originalEvent.target.nodeName;if("INPUT"!=o&&"BUTTON"!=o&&"A"!=o&&!_.p.hasClass(t.originalEvent.target,"p-clickable")){if(this.selectionMode){this.preventSelectionSetterPropagation=!0;let i=t.rowNode,a=this.isSelected(i.node),r=!this.rowTouched&&this.metaKeySelection,s=this.dataKey?String(T.gb.resolveFieldData(i.node.data,this.dataKey)):null;if(r){let d=t.originalEvent,p=d.metaKey||d.ctrlKey;if(a&&p){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let h=this.findIndexInSelection(i.node);this._selection=this.selection.filter((v,b)=>b!=h),this.selectionChange.emit(this.selection),s&&delete this.selectionKeys[s]}this.onNodeUnselect.emit({originalEvent:t.originalEvent,node:i.node,type:"row"})}else this.isSingleSelectionMode()?(this._selection=i.node,this.selectionChange.emit(i.node),s&&(this.selectionKeys={},this.selectionKeys[s]=1)):this.isMultipleSelectionMode()&&(p?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,i.node],this.selectionChange.emit(this.selection),s&&(this.selectionKeys[s]=1)),this.onNodeSelect.emit({originalEvent:t.originalEvent,node:i.node,type:"row",index:t.rowIndex})}else if("single"===this.selectionMode)a?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:t.originalEvent,node:i.node,type:"row"})):(this._selection=i.node,this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:t.originalEvent,node:i.node,type:"row",index:t.rowIndex}),s&&(this.selectionKeys={},this.selectionKeys[s]=1));else if("multiple"===this.selectionMode)if(a){let d=this.findIndexInSelection(i.node);this._selection=this.selection.filter((p,h)=>h!=d),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:t.originalEvent,node:i.node,type:"row"}),s&&delete this.selectionKeys[s]}else this._selection=this.selection?[...this.selection,i.node]:[i.node],this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:t.originalEvent,node:i.node,type:"row",index:t.rowIndex}),s&&(this.selectionKeys[s]=1);this.tableService.onSelectionChange()}this.rowTouched=!1}}handleRowTouchEnd(t){this.rowTouched=!0}handleRowRightClick(t){if(this.contextMenu){const o=t.rowNode.node;if("separate"===this.contextMenuSelectionMode)this.contextMenuSelection=o,this.contextMenuSelectionChange.emit(o),this.onContextMenuSelect.emit({originalEvent:t.originalEvent,node:o}),this.contextMenu.show(t.originalEvent),this.tableService.onContextMenu(o);else if("joint"===this.contextMenuSelectionMode){this.preventSelectionSetterPropagation=!0;let i=this.isSelected(o),a=this.dataKey?String(T.gb.resolveFieldData(o.data,this.dataKey)):null;i||(this.isSingleSelectionMode()?(this.selection=o,this.selectionChange.emit(o)):this.isMultipleSelectionMode()&&(this.selection=[o],this.selectionChange.emit(this.selection)),a&&(this.selectionKeys[a]=1)),this.contextMenu.show(t.originalEvent),this.onContextMenuSelect.emit({originalEvent:t.originalEvent,node:o})}}}toggleNodeWithCheckbox(t){this.selection=this.selection||[],this.preventSelectionSetterPropagation=!0;let o=t.rowNode.node;this.isSelected(o)?(this.propagateSelectionDown(o,!1),t.rowNode.parent&&this.propagateSelectionUp(o.parent,!1),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:t,node:o})):(this.propagateSelectionDown(o,!0),t.rowNode.parent&&this.propagateSelectionUp(o.parent,!0),this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:t,node:o})),this.tableService.onSelectionChange()}toggleNodesWithCheckbox(t,o){let i=this.filteredNodes||this.value;if(this._selection=o&&i?i.slice():[],o){if(i&&i.length)for(let a of i)this.propagateSelectionDown(a,!0)}else this._selection=[],this.selectionKeys={};this.preventSelectionSetterPropagation=!0,this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:t,checked:o})}propagateSelectionUp(t,o){if(t.children&&t.children.length){let a=0,r=!1,s=this.dataKey?String(T.gb.resolveFieldData(t.data,this.dataKey)):null;for(let d of t.children)this.isSelected(d)?a++:d.partialSelected&&(r=!0);if(o&&a==t.children.length)this._selection=[...this.selection||[],t],t.partialSelected=!1,s&&(this.selectionKeys[s]=1);else{if(!o){let d=this.findIndexInSelection(t);d>=0&&(this._selection=this.selection.filter((p,h)=>h!=d),s&&delete this.selectionKeys[s])}t.partialSelected=!!(r||a>0&&a!=t.children.length)}}let i=t.parent;i&&this.propagateSelectionUp(i,o)}propagateSelectionDown(t,o){let i=this.findIndexInSelection(t),a=this.dataKey?String(T.gb.resolveFieldData(t.data,this.dataKey)):null;if(o&&-1==i?(this._selection=[...this.selection||[],t],a&&(this.selectionKeys[a]=1)):!o&&i>-1&&(this._selection=this.selection.filter((r,s)=>s!=i),a&&delete this.selectionKeys[a]),t.partialSelected=!1,t.children&&t.children.length)for(let r of t.children)this.propagateSelectionDown(r,o)}isSelected(t){return!(!t||!this.selection)&&(this.dataKey?void 0!==this.selectionKeys[T.gb.resolveFieldData(t.data,this.dataKey)]:Array.isArray(this.selection)?this.findIndexInSelection(t)>-1:this.equals(t,this.selection))}findIndexInSelection(t){let o=-1;if(this.selection&&this.selection.length)for(let i=0;i<this.selection.length;i++)if(this.equals(t,this.selection[i])){o=i;break}return o}isSingleSelectionMode(){return"single"===this.selectionMode}isMultipleSelectionMode(){return"multiple"===this.selectionMode}equals(t,o){return"equals"===this.compareSelectionBy?t===o:T.gb.equals(t.data,o.data,this.dataKey)}filter(t,o,i){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(t)?this.filters[o]&&delete this.filters[o]:this.filters[o]={value:t,matchMode:i},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay)}filterGlobal(t,o){this.filter(t,"global",o)}isFilterBlank(t){return null==t||!!("string"==typeof t&&0==t.trim().length||Array.isArray(t)&&0==t.length)}_filter(){if(this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(this.hasFilter()){let o;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");o=this.globalFilterFields||this.columns}this.filteredNodes=[];const i="strict"===this.filterMode;let a=!1;for(let r of this.value){let h,s={...r},d=!0,p=!1;for(let b in this.filters)if(this.filters.hasOwnProperty(b)&&"global"!==b){let y=this.filters[b];if(h={filterField:b,filterValue:y.value,filterConstraint:this.filterService.filters[y.matchMode||"startsWith"],isStrictMode:i},(i&&!(this.findFilteredNodes(s,h)||this.isFilterMatched(s,h))||!i&&!(this.isFilterMatched(s,h)||this.findFilteredNodes(s,h)))&&(d=!1),!d)break}if(this.filters.global&&!p&&o){let y,b={...s};h={filterField:y,filterValue:this.filters.global.value,filterConstraint:this.filterService.filters[this.filters.global.matchMode],isStrictMode:i,globalFilterFieldsArray:o},(i&&(this.findFilteredNodes(b,h)||this.isFilterMatched(b,h))||!i&&(this.isFilterMatched(b,h)||this.findFilteredNodes(b,h)))&&(p=!0,s=b)}let v=d;this.filters.global&&(v=d&&p),v&&this.filteredNodes.push(s),a=a||!d||p||d&&this.filteredNodes.length>0||!p&&0===this.filteredNodes.length}a||(this.filteredNodes=null),this.paginator&&(this.totalRecords=this.filteredNodes?this.filteredNodes.length:this.value?this.value.length:0)}else this.filteredNodes=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0)}this.first=0;const t=this.filteredNodes||this.value;this.onFilter.emit({filters:this.filters,filteredValue:t}),this.tableService.onUIUpdate(t),this.updateSerializedValue(),this.scrollable&&this.resetScrollTop()}findFilteredNodes(t,o){if(t){let i=!1;if(t.children){let a=[...t.children];t.children=[];for(let r of a){let s={...r};this.isFilterMatched(s,o)&&(i=!0,t.children.push(s))}}if(i)return!0}}isFilterMatched(t,o){let{filterField:i,filterValue:a,filterConstraint:r,isStrictMode:s,globalFilterFieldsArray:d}=o,p=!1;const h=v=>r(T.gb.resolveFieldData(t.data,v),a,this.filterLocale);return p=d?.length?d.some(v=>h(v.field||v)):h(i),(!p||s&&!this.isNodeLeaf(t))&&(p=this.findFilteredNodes(t,{filterField:i,filterValue:a,filterConstraint:r,isStrictMode:s,globalFilterFieldsArray:d})||p),p}isNodeLeaf(t){return!1!==t.leaf&&!(t.children&&t.children.length)}hasFilter(){let t=!0;for(let o in this.filters)if(this.filters.hasOwnProperty(o)){t=!1;break}return!t}reset(){this._sortField=null,this._sortOrder=1,this._multiSortMeta=null,this.tableService.onSort(null),this.filteredNodes=null,this.filters={},this.first=0,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}updateEditingCell(t,o,i){this.editingCell=t,this.editingCellData=o,this.editingCellField=i,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&0===_.p.find(this.editingCell,".ng-invalid.ng-dirty").length}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=this.renderer.listen(this.document,"click",t=>{this.editingCell&&!this.editingCellClick&&this.isEditingCellValid()&&(_.p.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData}),this.editingCellField=null,this.editingCellData=null,this.unbindDocumentEditListener()),this.editingCellClick=!1}))}unbindDocumentEditListener(){this.documentEditListener&&(this.documentEditListener(),this.documentEditListener=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.editingCellField=null,this.editingCellData=null,this.initialized=null}static \u0275fac=function(o){return new(o||n)(e.Y36(g.K0),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(j),e.Y36(m.iZ))};static \u0275cmp=e.Xpm({type:n,selectors:[["p-treeTable"]],contentQueries:function(o,i,a){if(1&o&&e.Suo(a,m.jx,4),2&o){let r;e.iGM(r=e.CRH())&&(i.templates=r)}},viewQuery:function(o,i){if(1&o&&(e.Gf(ft,5),e.Gf(vt,5),e.Gf(bt,5),e.Gf(Tt,5),e.Gf(Ct,5),e.Gf(wt,5),e.Gf(St,5)),2&o){let a;e.iGM(a=e.CRH())&&(i.containerViewChild=a.first),e.iGM(a=e.CRH())&&(i.resizeHelperViewChild=a.first),e.iGM(a=e.CRH())&&(i.reorderIndicatorUpViewChild=a.first),e.iGM(a=e.CRH())&&(i.reorderIndicatorDownViewChild=a.first),e.iGM(a=e.CRH())&&(i.tableViewChild=a.first),e.iGM(a=e.CRH())&&(i.scrollableViewChild=a.first),e.iGM(a=e.CRH())&&(i.scrollableFrozenViewChild=a.first)}},hostAttrs:[1,"p-element"],inputs:{columns:"columns",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",autoLayout:"autoLayout",lazy:"lazy",lazyLoadOnInit:"lazyLoadOnInit",paginator:"paginator",rows:"rows",first:"first",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:"alwaysShowPaginator",paginatorPosition:"paginatorPosition",paginatorStyleClass:"paginatorStyleClass",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",defaultSortOrder:"defaultSortOrder",sortMode:"sortMode",resetPageOnSort:"resetPageOnSort",customSort:"customSort",selectionMode:"selectionMode",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:"metaKeySelection",compareSelectionBy:"compareSelectionBy",rowHover:"rowHover",loading:"loading",loadingIcon:"loadingIcon",showLoader:"showLoader",scrollable:"scrollable",scrollHeight:"scrollHeight",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",virtualScrollDelay:"virtualScrollDelay",frozenWidth:"frozenWidth",frozenColumns:"frozenColumns",resizableColumns:"resizableColumns",columnResizeMode:"columnResizeMode",reorderableColumns:"reorderableColumns",contextMenu:"contextMenu",rowTrackBy:"rowTrackBy",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:"filterDelay",filterMode:"filterMode",filterLocale:"filterLocale",paginatorLocale:"paginatorLocale",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",value:"value",virtualRowHeight:"virtualRowHeight"},outputs:{selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onFilter:"onFilter",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onPage:"onPage",onSort:"onSort",onLazyLoad:"onLazyLoad",sortFunction:"sortFunction",onColResize:"onColResize",onColReorder:"onColReorder",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onContextMenuSelect:"onContextMenuSelect",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel"},features:[e._Bn([j]),e.TTD],decls:12,vars:20,consts:[["data-scrollselectors",".p-treetable-scrollable-body",3,"ngStyle","ngClass"],["container",""],["class","p-treetable-loading",4,"ngIf"],["class","p-treetable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","locale","onPageChange",4,"ngIf"],["class","p-treetable-wrapper",4,"ngIf"],["class","p-treetable-scrollable-wrapper",4,"ngIf"],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","locale","onPageChange",4,"ngIf"],["class","p-treetable-footer",4,"ngIf"],["class","p-column-resizer-helper","style","display:none",4,"ngIf"],["class","p-treetable-reorder-indicator-up","style","display: none;",4,"ngIf"],["class","p-treetable-reorder-indicator-down","style","display: none;",4,"ngIf"],[1,"p-treetable-loading"],[1,"p-treetable-loading-overlay","p-component-overlay"],[3,"class",4,"ngIf"],[4,"ngIf"],[3,"spin","styleClass",4,"ngIf"],["class","p-treetable-loading-icon",4,"ngIf"],[3,"spin","styleClass"],[1,"p-treetable-loading-icon"],[4,"ngTemplateOutlet"],[1,"p-treetable-header"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","locale","onPageChange"],["pTemplate","firstpagelinkicon"],["pTemplate","previouspagelinkicon"],["pTemplate","lastpagelinkicon"],["pTemplate","nextpagelinkicon"],[1,"p-treetable-wrapper"],["role","table",3,"ngClass","ngStyle"],["table",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","rowgroup",1,"p-treetable-thead"],["role","rowgroup",1,"p-treetable-tbody",3,"pTreeTableBody","pTreeTableBodyTemplate"],["role","rowgroup",1,"p-treetable-tfoot"],[1,"p-treetable-scrollable-wrapper"],["class","p-treetable-scrollable-view p-treetable-frozen-view",3,"ttScrollableView","frozen","ngStyle","scrollHeight",4,"ngIf"],[1,"p-treetable-scrollable-view",3,"ttScrollableView","frozen","scrollHeight","ngStyle"],["scrollableView",""],[1,"p-treetable-scrollable-view","p-treetable-frozen-view",3,"ttScrollableView","frozen","ngStyle","scrollHeight"],["scrollableFrozenView",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","locale","onPageChange"],[1,"p-treetable-footer"],[1,"p-column-resizer-helper",2,"display","none"],["resizeHelper",""],[1,"p-treetable-reorder-indicator-up",2,"display","none"],["reorderIndicatorUp",""],[1,"p-treetable-reorder-indicator-down",2,"display","none"],["reorderIndicatorDown",""]],template:function(o,i){1&o&&(e.TgZ(0,"div",0,1),e.YNc(2,At,4,2,"div",2),e.YNc(3,Nt,2,1,"div",3),e.YNc(4,Qt,5,21,"p-paginator",4),e.YNc(5,Gt,9,16,"div",5),e.YNc(6,Xt,4,8,"div",6),e.YNc(7,gn,5,21,"p-paginator",7),e.YNc(8,mn,2,1,"div",8),e.YNc(9,hn,2,0,"div",9),e.YNc(10,Tn,4,2,"span",10),e.YNc(11,yn,4,2,"span",11),e.qZA()),2&o&&(e.Tol(i.styleClass),e.Q6J("ngStyle",i.style)("ngClass",e.qbA(14,xn,i.rowHover||"single"===i.selectionMode||"multiple"===i.selectionMode,i.autoLayout,i.resizableColumns,i.resizableColumns&&"fit"===i.columnResizeMode,i.scrollable&&"flex"===i.scrollHeight)),e.xp6(2),e.Q6J("ngIf",i.loading&&i.showLoader),e.xp6(1),e.Q6J("ngIf",i.captionTemplate),e.xp6(1),e.Q6J("ngIf",i.paginator&&("top"===i.paginatorPosition||"both"==i.paginatorPosition)),e.xp6(1),e.Q6J("ngIf",!i.scrollable),e.xp6(1),e.Q6J("ngIf",i.scrollable),e.xp6(1),e.Q6J("ngIf",i.paginator&&("bottom"===i.paginatorPosition||"both"==i.paginatorPosition)),e.xp6(1),e.Q6J("ngIf",i.summaryTemplate),e.xp6(1),e.Q6J("ngIf",i.resizableColumns),e.xp6(1),e.Q6J("ngIf",i.reorderableColumns),e.xp6(1),e.Q6J("ngIf",i.reorderableColumns))},dependencies:function(){return[g.mk,g.O5,g.tP,g.PC,ve.D,m.jx,fe.L,ge.v,_e.H,Ni,Te]},styles:["@layer primeng{.p-treetable{position:relative}.p-treetable table{border-collapse:collapse;width:100%;table-layout:fixed}.p-treetable .p-sortable-column{cursor:pointer;-webkit-user-select:none;user-select:none}.p-treetable .p-sortable-column .p-column-title,.p-treetable .p-sortable-column .p-sortable-column-icon,.p-treetable .p-sortable-column .p-sortable-column-badge{vertical-align:middle}.p-treetable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-treetable-auto-layout>.p-treetable-wrapper{overflow-x:auto}.p-treetable-auto-layout>.p-treetable-wrapper>table{table-layout:auto}.p-treetable-hoverable-rows .p-treetable-tbody>tr{cursor:pointer}.p-treetable-toggler{cursor:pointer;-webkit-user-select:none;user-select:none;display:inline-flex;align-items:center;justify-content:center;vertical-align:middle;overflow:hidden;position:relative}p-treetabletoggler+p-treetablecheckbox .p-checkbox{vertical-align:middle}p-treetabletoggler+p-treetablecheckbox+span{vertical-align:middle}.p-treetable-scrollable-wrapper{position:relative}.p-treetable-scrollable-header,.p-treetable-scrollable-footer{overflow:hidden}.p-treetable-scrollable-body{overflow:auto;position:relative}.p-treetable-scrollable-body>table>.p-treetable-tbody>tr:first-child>td{border-top:0 none}.p-treetable-virtual-table{position:absolute}.p-treetable-frozen-view .p-treetable-scrollable-body{overflow:hidden}.p-treetable-frozen-view>.p-treetable-scrollable-body>table>.p-treetable-tbody>tr>td:last-child{border-right:0 none}.p-treetable-unfrozen-view{position:absolute;top:0}.p-treetable-flex-scrollable,.p-treetable-flex-scrollable .p-treetable-scrollable-wrapper,.p-treetable-flex-scrollable .p-treetable-scrollable-view{display:flex;flex-direction:column;flex:1;height:100%}.p-treetable-flex-scrollable .p-treetable-virtual-scrollable-body{flex:1}.p-treetable-resizable>.p-treetable-wrapper{overflow-x:auto}.p-treetable-resizable .p-treetable-thead>tr>th,.p-treetable-resizable .p-treetable-tfoot>tr>td,.p-treetable-resizable .p-treetable-tbody>tr>td{overflow:hidden}.p-treetable-resizable .p-resizable-column{background-clip:padding-box;position:relative}.p-treetable-resizable-fit .p-resizable-column:last-child .p-column-resizer{display:none}.p-treetable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-treetable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-treetable .p-row-editor-init,.p-treetable .p-row-editor-save,.p-treetable .p-row-editor-cancel,.p-treetable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-treetable-reorder-indicator-up,.p-treetable-reorder-indicator-down{position:absolute;display:none}[ttReorderableColumn]{cursor:move}.p-treetable .p-treetable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-treetable .p-scroller-loading{transform:none!important;min-height:0;position:sticky;top:0;left:0}}\n"],encapsulation:2})}return n})(),Te=(()=>{class n{tt;treeTableService;cd;columns;template;frozen;serializedNodes;scrollerOptions;subscription;constructor(t,o,i){this.tt=t,this.treeTableService=o,this.cd=i,this.subscription=this.tt.tableService.uiUpdateSource$.subscribe(()=>{this.tt.virtualScroll&&this.cd.detectChanges()})}getScrollerOption(t,o){return this.tt.virtualScroll&&(o=o||this.scrollerOptions)?o[t]:null}getRowIndex(t){const o=this.getScrollerOption("getItemOptions");return o?o(t).index:t}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(o){return new(o||n)(e.Y36(N),e.Y36(j),e.Y36(e.sBO))};static \u0275cmp=e.Xpm({type:n,selectors:[["","pTreeTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:["pTreeTableBody","columns"],template:["pTreeTableBodyTemplate","template"],frozen:"frozen",serializedNodes:"serializedNodes",scrollerOptions:"scrollerOptions"},attrs:In,decls:2,vars:3,consts:[["ngFor","",3,"ngForOf","ngForTrackBy"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(o,i){1&o&&(e.YNc(0,An,1,1,"ng-template",0),e.YNc(1,Fn,2,5,"ng-container",1)),2&o&&(e.Q6J("ngForOf",i.serializedNodes||i.tt.serializedValue)("ngForTrackBy",i.tt.rowTrackBy),e.xp6(1),e.Q6J("ngIf",i.tt.isEmpty()))},dependencies:[g.sg,g.O5,g.tP],encapsulation:2})}return n})(),Ni=(()=>{class n{platformId;renderer;tt;el;zone;columns;frozen;scrollHeaderViewChild;scrollHeaderBoxViewChild;scrollBodyViewChild;scrollTableViewChild;scrollLoadingTableViewChild;scrollFooterViewChild;scrollFooterBoxViewChild;scrollableAlignerViewChild;scroller;headerScrollListener;bodyScrollListener;footerScrollListener;frozenSiblingBody;totalRecordsSubscription;_scrollHeight;preventBodyScrollPropagation;get scrollHeight(){return this._scrollHeight}set scrollHeight(t){this._scrollHeight=t,null!=t&&(t.includes("%")||t.includes("calc"))&&console.log('Percentage scroll height calculation is removed in favor of the more performant CSS based flex mode, use scrollHeight="flex" instead.')}constructor(t,o,i,a,r){this.platformId=t,this.renderer=o,this.tt=i,this.el=a,this.zone=r}ngAfterViewInit(){if(this.frozen)this.scrollableAlignerViewChild&&this.scrollableAlignerViewChild.nativeElement&&(this.scrollableAlignerViewChild.nativeElement.style.height=_.p.calculateScrollbarHeight()+"px");else{(this.tt.frozenColumns||this.tt.frozenBodyTemplate)&&_.p.addClass(this.el.nativeElement,"p-treetable-unfrozen-view");let t=this.el.nativeElement.previousElementSibling;t&&(this.frozenSiblingBody=_.p.findSingle(t,this.tt.virtualScroll?".p-scroller-viewport":".p-treetable-scrollable-body"));let o=_.p.calculateScrollbarWidth();this.scrollHeaderBoxViewChild.nativeElement.style.paddingRight=o+"px",this.scrollFooterBoxViewChild&&this.scrollFooterBoxViewChild.nativeElement&&(this.scrollFooterBoxViewChild.nativeElement.style.paddingRight=o+"px")}this.bindEvents()}bindEvents(){(0,g.NF)(this.platformId)&&this.zone.runOutsideAngular(()=>{this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.headerScrollListener=this.renderer.listen(this.scrollHeaderBoxViewChild?.nativeElement,"scroll",this.onHeaderScroll.bind(this))),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.footerScrollListener=this.renderer.listen(this.scrollFooterViewChild.nativeElement,"scroll",this.onFooterScroll.bind(this))),this.frozen||(this.bodyScrollListener=this.renderer.listen(this.tt.virtualScroll?(this.scroller?.getElementRef()).nativeElement:this.scrollBodyViewChild?.nativeElement,"scroll",this.onBodyScroll.bind(this)))})}unbindEvents(){(0,g.NF)(this.platformId)&&(this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&this.headerScrollListener&&(this.headerScrollListener(),this.headerScrollListener=null),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&this.footerScrollListener&&(this.footerScrollListener(),this.footerScrollListener=null),this.scrollBodyViewChild&&this.scrollBodyViewChild.nativeElement&&this.bodyScrollListener&&(this.bodyScrollListener(),this.bodyScrollListener=null),this.scroller&&this.scroller.getElementRef()&&this.bodyScrollListener&&(this.bodyScrollListener(),this.bodyScrollListener=null))}onHeaderScroll(){const t=this.scrollHeaderViewChild?.nativeElement.scrollLeft;this.scrollBodyViewChild.nativeElement.scrollLeft=t,this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.scrollFooterViewChild.nativeElement.scrollLeft=t),this.preventBodyScrollPropagation=!0}onFooterScroll(){const t=this.scrollFooterViewChild?.nativeElement.scrollLeft;this.scrollBodyViewChild.nativeElement.scrollLeft=t,this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.scrollHeaderViewChild.nativeElement.scrollLeft=t),this.preventBodyScrollPropagation=!0}onBodyScroll(t){this.preventBodyScrollPropagation?this.preventBodyScrollPropagation=!1:(this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.scrollHeaderBoxViewChild.nativeElement.style.marginLeft=-1*t.target.scrollLeft+"px"),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.scrollFooterBoxViewChild.nativeElement.style.marginLeft=-1*t.target.scrollLeft+"px"),this.frozenSiblingBody&&(this.frozenSiblingBody.scrollTop=t.target.scrollTop))}scrollToVirtualIndex(t){this.scroller&&this.scroller.scrollToIndex(t)}scrollTo(t){this.scroller?this.scroller.scrollTo(t):this.scrollBodyViewChild?.nativeElement.scrollTo?this.scrollBodyViewChild.nativeElement.scrollTo(t):(this.scrollBodyViewChild.nativeElement.scrollLeft=t.left,this.scrollBodyViewChild.nativeElement.scrollTop=t.top)}ngOnDestroy(){this.unbindEvents(),this.frozenSiblingBody=null}static \u0275fac=function(o){return new(o||n)(e.Y36(e.Lbi),e.Y36(e.Qsj),e.Y36(N),e.Y36(e.SBq),e.Y36(e.R0b))};static \u0275cmp=e.Xpm({type:n,selectors:[["","ttScrollableView",""]],viewQuery:function(o,i){if(1&o&&(e.Gf(Dn,5),e.Gf(Un,5),e.Gf(On,5),e.Gf(Jn,5),e.Gf(Pn,5),e.Gf(qn,5),e.Gf(zn,5),e.Gf(Ln,5),e.Gf(Vn,5)),2&o){let a;e.iGM(a=e.CRH())&&(i.scrollHeaderViewChild=a.first),e.iGM(a=e.CRH())&&(i.scrollHeaderBoxViewChild=a.first),e.iGM(a=e.CRH())&&(i.scrollBodyViewChild=a.first),e.iGM(a=e.CRH())&&(i.scrollTableViewChild=a.first),e.iGM(a=e.CRH())&&(i.scrollLoadingTableViewChild=a.first),e.iGM(a=e.CRH())&&(i.scrollFooterViewChild=a.first),e.iGM(a=e.CRH())&&(i.scrollFooterBoxViewChild=a.first),e.iGM(a=e.CRH())&&(i.scrollableAlignerViewChild=a.first),e.iGM(a=e.CRH())&&(i.scroller=a.first)}},hostAttrs:[1,"p-element"],inputs:{columns:["ttScrollableView","columns"],frozen:"frozen",scrollHeight:"scrollHeight"},attrs:Rn,decls:13,vars:13,consts:[[1,"p-treetable-scrollable-header"],["scrollHeader",""],[1,"p-treetable-scrollable-header-box"],["scrollHeaderBox",""],[1,"p-treetable-scrollable-header-table",3,"ngClass","ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","rowgroup",1,"p-treetable-thead"],["styleClass","p-treetable-scrollable-body",3,"items","style","scrollHeight","itemSize","lazy","options","onLazyLoad",4,"ngIf"],[4,"ngIf"],["buildInItems",""],["class","p-treetable-scrollable-footer",4,"ngIf"],["styleClass","p-treetable-scrollable-body",3,"items","scrollHeight","itemSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","content"],["pTemplate","loader"],[1,"p-treetable-scrollable-body",3,"ngStyle"],["scrollBody",""],["role","table",3,"ngClass","ngStyle"],["scrollTable",""],["role","rowgroup",1,"p-treetable-tbody",3,"pTreeTableBody","pTreeTableBodyTemplate","serializedNodes","frozen"],["style","background-color:transparent",4,"ngIf"],[2,"background-color","transparent"],["scrollableAligner",""],[1,"p-treetable-scrollable-footer"],["scrollFooter",""],[1,"p-treetable-scrollable-footer-box"],["scrollFooterBox",""],[1,"p-treetable-scrollable-footer-table",3,"ngClass","ngStyle"],["role","rowgroup",1,"p-treetable-tfoot"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0,1)(2,"div",2,3)(4,"table",4),e.YNc(5,Bn,1,0,"ng-container",5),e.TgZ(6,"thead",6),e.YNc(7,Qn,1,0,"ng-container",5),e.qZA()()()(),e.YNc(8,Xn,4,10,"p-scroller",7),e.YNc(9,ii,4,10,"ng-container",8),e.YNc(10,li,5,15,"ng-template",null,9,e.W1O),e.YNc(12,ci,8,10,"div",10)),2&o&&(e.xp6(4),e.Q6J("ngClass",i.tt.tableStyleClass)("ngStyle",i.tt.tableStyle),e.xp6(1),e.Q6J("ngTemplateOutlet",i.frozen&&i.tt.frozenColGroupTemplate||i.tt.colGroupTemplate)("ngTemplateOutletContext",e.VKq(9,x,i.columns)),e.xp6(2),e.Q6J("ngTemplateOutlet",i.frozen&&i.tt.frozenHeaderTemplate||i.tt.headerTemplate)("ngTemplateOutletContext",e.VKq(11,x,i.columns)),e.xp6(1),e.Q6J("ngIf",i.tt.virtualScroll),e.xp6(1),e.Q6J("ngIf",!i.tt.virtualScroll),e.xp6(3),e.Q6J("ngIf",i.tt.footerTemplate))},dependencies:[g.mk,g.O5,g.tP,g.PC,m.jx,G.T,Te],encapsulation:2})}return n})(),Ce=(()=>{class n{tt;el;zone;data;field;ttEditableColumnDisabled;constructor(t,o,i){this.tt=t,this.el=o,this.zone=i}ngAfterViewInit(){this.isEnabled()&&_.p.addClass(this.el.nativeElement,"p-editable-column")}onClick(t){if(this.isEnabled())if(this.tt.editingCellClick=!0,this.tt.editingCell){if(this.tt.editingCell!==this.el.nativeElement){if(!this.tt.isEditingCellValid())return;_.p.removeClass(this.tt.editingCell,"p-cell-editing"),this.openCell()}}else this.openCell()}openCell(){this.tt.updateEditingCell(this.el.nativeElement,this.data,this.field),_.p.addClass(this.el.nativeElement,"p-cell-editing"),this.tt.onEditInit.emit({field:this.field,data:this.data}),this.tt.editingCellClick=!0,this.zone.runOutsideAngular(()=>{setTimeout(()=>{let t=_.p.findSingle(this.el.nativeElement,"input, textarea");t&&t.focus()},50)})}closeEditingCell(){_.p.removeClass(this.tt.editingCell,"p-checkbox-icon"),this.tt.editingCell=null,this.tt.unbindDocumentEditListener()}onKeyDown(t){this.isEnabled()&&(13!=t.keyCode||t.shiftKey?27==t.keyCode?(this.tt.isEditingCellValid()&&(_.p.removeClass(this.tt.editingCell,"p-cell-editing"),this.closeEditingCell(),this.tt.onEditCancel.emit({field:this.field,data:this.data})),t.preventDefault()):9==t.keyCode&&(this.tt.onEditComplete.emit({field:this.field,data:this.data}),t.shiftKey?this.moveToPreviousCell(t):this.moveToNextCell(t)):(this.tt.isEditingCellValid()&&(_.p.removeClass(this.tt.editingCell,"p-cell-editing"),this.closeEditingCell(),this.tt.onEditComplete.emit({field:this.field,data:this.data})),t.preventDefault()))}findCell(t){if(t){let o=t;for(;o&&!_.p.hasClass(o,"p-cell-editing");)o=o.parentElement;return o}return null}moveToPreviousCell(t){let o=this.findCell(t.target),a=this.findPreviousEditableColumn(o);a&&(_.p.invokeElementMethod(a,"click"),t.preventDefault())}moveToNextCell(t){let o=this.findCell(t.target),a=this.findNextEditableColumn(o);a&&(_.p.invokeElementMethod(a,"click"),t.preventDefault())}findPreviousEditableColumn(t){let o=t.previousElementSibling;if(!o){let i=t.parentElement?t.parentElement.previousElementSibling:null;i&&(o=i.lastElementChild)}return o?_.p.hasClass(o,"p-editable-column")?o:this.findPreviousEditableColumn(o):null}findNextEditableColumn(t){let o=t.nextElementSibling;if(!o){let i=t.parentElement?t.parentElement.nextElementSibling:null;i&&(o=i.firstElementChild)}return o?_.p.hasClass(o,"p-editable-column")?o:this.findNextEditableColumn(o):null}isEnabled(){return!0!==this.ttEditableColumnDisabled}static \u0275fac=function(o){return new(o||n)(e.Y36(N),e.Y36(e.SBq),e.Y36(e.R0b))};static \u0275dir=e.lG2({type:n,selectors:[["","ttEditableColumn",""]],hostAttrs:[1,"p-element"],hostBindings:function(o,i){1&o&&e.NdJ("click",function(r){return i.onClick(r)})("keydown",function(r){return i.onKeyDown(r)})},inputs:{data:["ttEditableColumn","data"],field:["ttEditableColumnField","field"],ttEditableColumnDisabled:"ttEditableColumnDisabled"}})}return n})(),Fi=(()=>{class n{tt;editableColumn;templates;inputTemplate;outputTemplate;constructor(t,o){this.tt=t,this.editableColumn=o}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"input":this.inputTemplate=t.template;break;case"output":this.outputTemplate=t.template}})}static \u0275fac=function(o){return new(o||n)(e.Y36(N),e.Y36(Ce))};static \u0275cmp=e.Xpm({type:n,selectors:[["p-treeTableCellEditor"]],contentQueries:function(o,i,a){if(1&o&&e.Suo(a,m.jx,4),2&o){let r;e.iGM(r=e.CRH())&&(i.templates=r)}},hostAttrs:[1,"p-element"],decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(o,i){1&o&&(e.YNc(0,yi,2,1,"ng-container",0),e.YNc(1,Ii,2,1,"ng-container",0)),2&o&&(e.Q6J("ngIf",i.tt.editingCell===i.editableColumn.el.nativeElement),e.xp6(1),e.Q6J("ngIf",!i.tt.editingCell||i.tt.editingCell!==i.editableColumn.el.nativeElement))},dependencies:[g.O5,g.tP],encapsulation:2})}return n})(),Di=(()=>{class n{tt;rowNode;constructor(t){this.tt=t}onClick(t){this.rowNode.node.expanded=!this.rowNode.node.expanded,this.rowNode.node.expanded?this.tt.onNodeExpand.emit({originalEvent:t,node:this.rowNode.node}):this.tt.onNodeCollapse.emit({originalEvent:t,node:this.rowNode.node}),this.tt.updateSerializedValue(),this.tt.tableService.onUIUpdate(this.tt.value),t.preventDefault()}static \u0275fac=function(o){return new(o||n)(e.Y36(N))};static \u0275cmp=e.Xpm({type:n,selectors:[["p-treeTableToggler"]],hostAttrs:[1,"p-element"],inputs:{rowNode:"rowNode"},decls:3,vars:11,consts:[["type","button","tabindex","-1","pRipple","",1,"p-treetable-toggler","p-link",3,"click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(o,i){1&o&&(e.TgZ(0,"button",0),e.NdJ("click",function(r){return i.onClick(r)}),e.YNc(1,ki,3,2,"ng-container",1),e.YNc(2,Mi,1,0,null,2),e.qZA()),2&o&&(e.Udp("visibility",!1===i.rowNode.node.leaf||i.rowNode.node.children&&i.rowNode.node.children.length?"visible":"hidden")("margin-left",16*i.rowNode.level+"px"),e.uIk("data-pc-section","rowtoggler")("data-pc-group-section","rowactionbutton"),e.xp6(1),e.Q6J("ngIf",!i.tt.togglerIconTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",i.tt.togglerIconTemplate)("ngTemplateOutletContext",e.VKq(9,x,i.rowNode.node.expanded)))},dependencies:function(){return[g.O5,g.tP,V.H,me.v,he.X]},encapsulation:2})}return n})(),Ui=(()=>{class n{static \u0275fac=function(o){return new(o||n)};static \u0275mod=e.oAB({type:n});static \u0275inj=e.cJS({imports:[g.ez,ve.U,V.T,G.v,fe.L,ge.v,_e.H,_t.V,ht.m,mt.W,ut.n,gt.V,me.v,he.X,m.m8,G.v]})}return n})(),Oi=(()=>{class n{styleClass;style;shape="rectangle";animation="wave";borderRadius;size;width="100%";height="1rem";containerClass(){return{"p-skeleton p-component":!0,"p-skeleton-circle":"circle"===this.shape,"p-skeleton-none":"none"===this.animation}}containerStyle(){return this.size?{...this.style,width:this.size,height:this.size,borderRadius:this.borderRadius}:{...this.style,width:this.width,height:this.height,borderRadius:this.borderRadius}}static \u0275fac=function(o){return new(o||n)};static \u0275cmp=e.Xpm({type:n,selectors:[["p-skeleton"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",shape:"shape",animation:"animation",borderRadius:"borderRadius",size:"size",width:"width",height:"height"},decls:1,vars:7,consts:[[3,"ngClass","ngStyle"]],template:function(o,i){1&o&&e._UZ(0,"div",0),2&o&&(e.Tol(i.styleClass),e.Q6J("ngClass",i.containerClass())("ngStyle",i.containerStyle()),e.uIk("data-pc-name","skeleton")("aria-hidden",!0)("data-pc-section","root"))},dependencies:[g.mk,g.PC],styles:['@layer primeng{.p-skeleton{position:relative;overflow:hidden}.p-skeleton:after{content:"";animation:p-skeleton-animation 1.2s infinite;height:100%;left:0;position:absolute;right:0;top:0;transform:translate(-100%);z-index:1}.p-skeleton.p-skeleton-circle{border-radius:50%}.p-skeleton-none:after{animation:none}}@keyframes p-skeleton-animation{0%{transform:translate(-100%)}to{transform:translate(100%)}}\n'],encapsulation:2,changeDetection:0})}return n})(),Ji=(()=>{class n{static \u0275fac=function(o){return new(o||n)};static \u0275mod=e.oAB({type:n});static \u0275inj=e.cJS({imports:[g.ez]})}return n})();var we=u(3904);const Pi=function(n,l){return{"p-button-icon":!0,"p-button-icon-left":n,"p-button-icon-right":l}};function qi(n,l){if(1&n&&e._UZ(0,"span",3),2&n){const t=e.oxw();e.Tol(t.checked?t.onIcon:t.offIcon),e.Q6J("ngClass",e.WLB(4,Pi,"left"===t.iconPos,"right"===t.iconPos)),e.uIk("data-pc-section","icon")}}function zi(n,l){if(1&n&&(e.TgZ(0,"span",4),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.uIk("data-pc-section","label"),e.xp6(1),e.Oqu(t.checked?t.hasOnLabel?t.onLabel:"":t.hasOffLabel?t.offLabel:"")}}const Li=function(n,l,t){return{"p-button p-togglebutton p-component":!0,"p-button-icon-only":n,"p-highlight":l,"p-disabled":t}},Vi={provide:c.JU,useExisting:(0,e.Gpc)(()=>Se),multi:!0};let Se=(()=>{class n{cd;onLabel;offLabel;onIcon;offIcon;ariaLabel;ariaLabelledBy;disabled;style;styleClass;inputId;tabindex;iconPos="left";onChange=new e.vpe;checked=!1;onModelChange=()=>{};onModelTouched=()=>{};constructor(t){this.cd=t}toggle(t){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:t,checked:this.checked}),this.cd.markForCheck())}onKeyDown(t){switch(t.code){case"Enter":case"Space":this.toggle(t),t.preventDefault()}}onBlur(){this.onModelTouched()}writeValue(t){this.checked=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}get hasOnLabel(){return this.onLabel&&this.onLabel.length>0}get hasOffLabel(){return this.onLabel&&this.onLabel.length>0}static \u0275fac=function(o){return new(o||n)(e.Y36(e.sBO))};static \u0275cmp=e.Xpm({type:n,selectors:[["p-toggleButton"]],hostAttrs:[1,"p-element"],inputs:{onLabel:"onLabel",offLabel:"offLabel",onIcon:"onIcon",offIcon:"offIcon",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",style:"style",styleClass:"styleClass",inputId:"inputId",tabindex:"tabindex",iconPos:"iconPos"},outputs:{onChange:"onChange"},features:[e._Bn([Vi])],decls:3,vars:16,consts:[["role","switch","pRipple","",3,"ngClass","ngStyle","click","keydown"],[3,"class","ngClass",4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass"],[1,"p-button-label"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0),e.NdJ("click",function(r){return i.toggle(r)})("keydown",function(r){return i.onKeyDown(r)}),e.YNc(1,qi,1,7,"span",1),e.YNc(2,zi,2,2,"span",2),e.qZA()),2&o&&(e.Tol(i.styleClass),e.Q6J("ngClass",e.kEZ(12,Li,i.onIcon&&i.offIcon&&!i.hasOnLabel&&!i.hasOffLabel,i.checked,i.disabled))("ngStyle",i.style),e.uIk("tabindex",i.disabled?null:"0")("aria-checked",i.checked)("aria-labelledby",i.ariaLabelledBy)("aria-label",i.ariaLabel)("data-pc-name","togglebutton")("data-pc-section","root"),e.xp6(1),e.Q6J("ngIf",i.onIcon||i.offIcon),e.xp6(1),e.Q6J("ngIf",i.onLabel||i.offLabel))},dependencies:[g.mk,g.O5,g.PC,V.H],styles:['@layer primeng{.p-button[_ngcontent-%COMP%]{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label[_ngcontent-%COMP%]{flex:1 1 auto}.p-button-icon-right[_ngcontent-%COMP%]{order:1}.p-button[_ngcontent-%COMP%]:disabled{cursor:default;pointer-events:none}.p-button-icon-only[_ngcontent-%COMP%]{justify-content:center}.p-button-icon-only[_ngcontent-%COMP%]:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical[_ngcontent-%COMP%]{flex-direction:column}.p-button-icon-bottom[_ngcontent-%COMP%]{order:2}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{margin:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child){border-right:0 none}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus{position:relative;z-index:1}p-button[iconpos=right][_ngcontent-%COMP%]   spinnericon[_ngcontent-%COMP%]{order:1}}'],changeDetection:0})}return n})(),Ri=(()=>{class n{static \u0275fac=function(o){return new(o||n)};static \u0275mod=e.oAB({type:n});static \u0275inj=e.cJS({imports:[g.ez,V.T]})}return n})();var ye=u(7680),Bi=u(1967),R=u(3173),f=u(5878);function Qi(n,l){1&n&&e._uU(0," Enlarge ")}function Yi(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",51),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.removeFile())}),e.qZA()}2&n&&e.Q6J("text",!0)}function Hi(n,l){}function Ki(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"p-fileUpload",52,53),e.NdJ("onSelect",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.onUserImageUpload(i))}),e.YNc(2,Hi,0,0,"ng-template",54),e.qZA()}2&n&&e.Q6J("multiple",!1)("showUploadButton",!1)}function Gi(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1,"First Name is required"),e.qZA())}function ji(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1,"Invalid First Name"),e.qZA())}function $i(n,l){if(1&n&&(e.TgZ(0,"div",55),e.YNc(1,Gi,2,0,"span",56),e.YNc(2,ji,2,0,"span",56),e.qZA()),2&n){const t=e.oxw();let o,i;e.xp6(1),e.Q6J("ngIf",null==(o=t.personalInformationForm.get("first_name"))||null==o.errors?null:o.errors.required),e.xp6(1),e.Q6J("ngIf",null==(i=t.personalInformationForm.get("first_name"))?null:i.hasError("pattern"))}}function Wi(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1,"Last Name is required"),e.qZA())}function Xi(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1,"Invalid Last Name"),e.qZA())}function eo(n,l){if(1&n&&(e.TgZ(0,"div",55),e.YNc(1,Wi,2,0,"span",56),e.YNc(2,Xi,2,0,"span",56),e.qZA()),2&n){const t=e.oxw();let o,i;e.xp6(1),e.Q6J("ngIf",null==(o=t.personalInformationForm.get("last_name"))||null==o.errors?null:o.errors.required),e.xp6(1),e.Q6J("ngIf",null==(i=t.personalInformationForm.get("last_name"))?null:i.hasError("pattern"))}}function to(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1,"Contact number is required"),e.qZA())}function no(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1,"Invalid Contact number "),e.qZA())}function io(n,l){if(1&n&&(e.TgZ(0,"div",55),e.YNc(1,to,2,0,"span",56),e.YNc(2,no,2,0,"span",56),e.qZA()),2&n){const t=e.oxw();let o,i;e.xp6(1),e.Q6J("ngIf",null==(o=t.personalInformationForm.get("contact_no"))||null==o.errors?null:o.errors.required),e.xp6(1),e.Q6J("ngIf",null==(i=t.personalInformationForm.get("contact_no"))?null:i.hasError("pattern"))}}function oo(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1,"City is required"),e.qZA())}function ao(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1,"Invalid City "),e.qZA())}function lo(n,l){if(1&n&&(e.TgZ(0,"div",55),e.YNc(1,oo,2,0,"span",56),e.YNc(2,ao,2,0,"span",56),e.qZA()),2&n){const t=e.oxw();let o,i;e.xp6(1),e.Q6J("ngIf",null==(o=t.personalInformationForm.get("city"))||null==o.errors?null:o.errors.required),e.xp6(1),e.Q6J("ngIf",null==(i=t.personalInformationForm.get("city"))?null:i.hasError("pattern"))}}function ro(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1,"State is required"),e.qZA())}function so(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1,"Invalid State "),e.qZA())}function co(n,l){if(1&n&&(e.TgZ(0,"div",55),e.YNc(1,ro,2,0,"span",56),e.YNc(2,so,2,0,"span",56),e.qZA()),2&n){const t=e.oxw();let o,i;e.xp6(1),e.Q6J("ngIf",null==(o=t.personalInformationForm.get("state"))||null==o.errors?null:o.errors.required),e.xp6(1),e.Q6J("ngIf",null==(i=t.personalInformationForm.get("state"))?null:i.hasError("pattern"))}}function po(n,l){1&n&&(e.TgZ(0,"div",57)(1,"span",58),e._uU(2,"Passwords do not match"),e.qZA()())}const xe=function(){return["6010"]},uo=function(){return{width:"350px"}};let go=(()=>{class n{fb;messageService;authenticationService;usersRolesService;rolesService;personalInformationForm;changePasswordDialog=!1;newPassword="";repeatNewPassword="";userCurrentImage;showImageCancel=!1;constructor(t,o,i,a,r){this.fb=t,this.messageService=o,this.authenticationService=i,this.usersRolesService=a,this.rolesService=r}ngOnInit(){this.initForms(),this.getCurrentUser()}getCurrentUser(){this.usersRolesService.getCurrentUser().subscribe(t=>{(t=JSON.parse(t)).image&&!t.image.includes("http")&&!t.image.includes(";base64,")&&(t.image="data:image/jpeg;base64,"+t.image),this.userCurrentImage=t.image,this.personalInformationForm.patchValue(t)})}initForms(){this.personalInformationForm=this.fb.group({id_:[null],roles:[{value:"",disabled:!0},[c.kI.required]],status:[{value:"",disabled:!0},[c.kI.required]],first_name:[null,[c.kI.required,c.kI.pattern("[a-zA-Z ]+$")]],last_name:[null,[c.kI.required,c.kI.pattern("[a-zA-Z ]+$")]],email:[{value:"",disabled:!0},[c.kI.required,c.kI.email]],contact_no:[null,[c.kI.required,c.kI.pattern("^[+0-9]+$")]],address:[null,[c.kI.required]],state:[null,[c.kI.required,c.kI.pattern("[a-zA-Z ]+$")]],city:[null,[c.kI.required,c.kI.pattern("[a-zA-Z ]+$")]],zip:[null,[c.kI.required]],image:[""],org_id:[null]})}savePersonalInformation(){this.showImageCancel=!1,this.usersRolesService.editUser(JSON.parse(JSON.stringify(this.personalInformationForm.value))).subscribe(t=>{t.image&&!t.image.includes("http")&&!t.image.includes("data:image/jpeg;base64,")&&(t.image="data:image/jpeg;base64,"+t.image),localStorage.setItem("user",JSON.stringify(t)),this.authenticationService.userSubject.next(t),this.userCurrentImage=t.image,this.personalInformationForm.patchValue(t),this.removeFile(),this.messageService.add({severity:"success",summary:"Success",detail:"Personal information updated successfully"})},t=>{console.log(t),this.messageService.add({severity:"error",summary:"Failure",detail:"Personal information not updated"})})}removeFile(){this.personalInformationForm.value.image=this.userCurrentImage,this.showImageCancel=!1}onUserImageUpload(t){const o=new FileReader;o.readAsDataURL(t.files[0]),o.onload=()=>{this.personalInformationForm.value.image=o.result,this.showImageCancel=!0}}savePassword(){this.usersRolesService.changePassword({password:this.newPassword,retype_password:this.repeatNewPassword},this.personalInformationForm.value.id_).subscribe(()=>{this.messageService.add({severity:"success",summary:"Success",detail:"Password changed Successfully"}),this.changePasswordDialog=!1})}static \u0275fac=function(o){return new(o||n)(e.Y36(c.qu),e.Y36(m.ez),e.Y36(f.$h),e.Y36(f.Xb),e.Y36(f.Nj))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-account-settings"]],features:[e._Bn([m.ez])],decls:89,vars:24,consts:[[1,"grid"],[1,"col-12"],[1,"card","p-fluid"],[1,"flex","align-items-center","justify-content-between","mb-3"],[1,"text-xl","font-bold","letter-spacing-01"],[1,"flex"],["pButton","","pRipple","","label","Save",1,"w-8rem",3,"disabled","click"],["pButton","","pRipple","","label","Change Password",1,"w-11rem","p-button-text",3,"disabled","click"],["appendTo","body",3,"popup"],["menu",""],[3,"formGroup"],[1,"p-formgrid","grid"],[1,"md:col-2","col-12"],["htmlFor","personalPhoto"],["alt","Image","imageClass","w-full",3,"src","preview"],["pTemplate","indicator"],["icon","pi pi-times","label","Cancel","severity","warning",3,"text","click",4,"ngIf"],["mode","basic","name","myfile[]","chooseLabel","Upload Photo","accept",".jpeg, .jpg, .png",3,"multiple","showUploadButton","onSelect",4,"ngIf"],[1,"md:col-10","col-12"],[1,"field","md:col-6","col-12"],["htmlFor","first_name",1,"required"],["pInputText","","id","first_name","type","text","formControlName","first_name"],["class","font-bold text-red-600",4,"ngIf"],["htmlFor","last_name",1,"required"],["pInputText","","id","last_name","type","text","formControlName","last_name"],["htmlFor","role",1,"required"],["pInputText","","id","role","type","text","formControlName","roles"],["htmlFor","status",1,"required"],["pInputText","","id","status","type","text","formControlName","status"],[1,"field","col"],["htmlFor","email",1,"required"],["pInputText","","id","email","type","email","formControlName","email"],["htmlFor","contact_no",1,"required"],["pInputText","","id","contact_no","type","text","formControlName","contact_no"],["htmlFor","address",1,"required"],["pInputText","","type","text","id","address","formControlName","address"],["htmlFor","city",1,"required"],["pInputText","","id","city","type","text","formControlName","city"],["htmlFor","state",1,"required"],["pInputText","","type","text","id","state","formControlName","state"],["htmlFor","zip",1,"required"],["pInputText","","id","zip","type","text","formControlName","zip"],["header","Change Password",3,"visible","modal","visibleChange"],["htmlFor","newPassword"],["pInputText","","id","newPassword","type","password",1,"mt-2",3,"ngModel","ngModelChange"],["htmlFor","repeatPassword"],["pInputText","","id","repeatPassword","type","password",1,"mt-2",3,"ngModel","ngModelChange"],["class","col-12 my-3",4,"ngIf"],[1,"col-12","text-center","mt-4"],["pButton","","pRipple","","label","Cancel",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save",1,"ml-3",3,"disabled","click"],["icon","pi pi-times","label","Cancel","severity","warning",3,"text","click"],["mode","basic","name","myfile[]","chooseLabel","Upload Photo","accept",".jpeg, .jpg, .png",3,"multiple","showUploadButton","onSelect"],["fileUploader",""],["pTemplate","content"],[1,"font-bold","text-red-600"],[4,"ngIf"],[1,"col-12","my-3"],[1,"alert","alert-danger","text-orange-700","font-bold"]],template:function(o,i){if(1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),e._uU(6,"Personal Information"),e.qZA(),e.TgZ(7,"div",5)(8,"button",6),e.NdJ("click",function(){return i.savePersonalInformation()}),e.qZA(),e.TgZ(9,"button",7),e.NdJ("click",function(){return i.changePasswordDialog=!0}),e.qZA(),e._UZ(10,"p-tieredMenu",8,9),e.qZA()(),e.TgZ(12,"form",10)(13,"div",11)(14,"div",12)(15,"div",11)(16,"div",1)(17,"label",13),e._uU(18,"\xa0"),e.qZA(),e.TgZ(19,"p-image",14),e.YNc(20,Qi,1,0,"ng-template",15),e.qZA(),e.YNc(21,Yi,1,1,"p-button",16),e.YNc(22,Ki,3,2,"p-fileUpload",17),e.qZA()()(),e.TgZ(23,"div",18)(24,"div",11)(25,"div",19)(26,"label",20),e._uU(27,"First Name "),e.qZA(),e._UZ(28,"input",21),e.YNc(29,$i,3,2,"div",22),e.qZA(),e.TgZ(30,"div",19)(31,"label",23),e._uU(32,"Last Name"),e.qZA(),e._UZ(33,"input",24),e.YNc(34,eo,3,2,"div",22),e.qZA(),e.TgZ(35,"div",19)(36,"label",25),e._uU(37,"Role"),e.qZA(),e._UZ(38,"input",26),e.qZA(),e.TgZ(39,"div",19)(40,"label",27),e._uU(41,"Account Status"),e.qZA(),e._UZ(42,"input",28),e.qZA()()()(),e.TgZ(43,"div",11)(44,"div",29)(45,"label",30),e._uU(46,"Email"),e.qZA(),e._UZ(47,"input",31),e.qZA(),e.TgZ(48,"div",29)(49,"label",32),e._uU(50,"Contact Number"),e.qZA(),e._UZ(51,"input",33),e.YNc(52,io,3,2,"div",22),e.qZA()(),e.TgZ(53,"div",11)(54,"div",29)(55,"label",34),e._uU(56,"Address"),e.qZA(),e._UZ(57,"input",35),e.qZA(),e.TgZ(58,"div",29)(59,"label",36),e._uU(60,"City"),e.qZA(),e._UZ(61,"input",37),e.YNc(62,lo,3,2,"div",22),e.qZA()(),e.TgZ(63,"div",11)(64,"div",29)(65,"label",38),e._uU(66,"State"),e.qZA(),e._UZ(67,"input",39),e.YNc(68,co,3,2,"div",22),e.qZA(),e.TgZ(69,"div",29)(70,"label",40),e._uU(71,"Zip"),e.qZA(),e._UZ(72,"input",41),e.qZA()()()()()(),e.TgZ(73,"p-dialog",42),e.NdJ("visibleChange",function(r){return i.changePasswordDialog=r}),e.TgZ(74,"div",0)(75,"div",1)(76,"label",43),e._uU(77,"New Password"),e.qZA(),e._UZ(78,"br"),e.TgZ(79,"input",44),e.NdJ("ngModelChange",function(r){return i.newPassword=r}),e.qZA()(),e.TgZ(80,"div",1)(81,"label",45),e._uU(82,"Repeat New Password"),e.qZA(),e._UZ(83,"br"),e.TgZ(84,"input",46),e.NdJ("ngModelChange",function(r){return i.repeatNewPassword=r}),e.qZA()(),e.YNc(85,po,3,0,"div",47),e.TgZ(86,"div",48)(87,"button",49),e.NdJ("click",function(){return i.changePasswordDialog=!1}),e.qZA(),e.TgZ(88,"button",50),e.NdJ("click",function(){return i.savePassword()}),e.qZA()()()()),2&o){let a,r,s,d,p;e.xp6(8),e.Q6J("disabled",!i.rolesService.hasAccess(e.DdM(21,xe))||!i.personalInformationForm.valid),e.xp6(1),e.Q6J("disabled",!i.rolesService.hasAccess(e.DdM(22,xe))),e.xp6(1),e.Q6J("popup",!0),e.xp6(2),e.Q6J("formGroup",i.personalInformationForm),e.xp6(7),e.Q6J("src",i.personalInformationForm.value.image||"assets/demo/images/other/user.png")("preview",!0),e.xp6(2),e.Q6J("ngIf",i.showImageCancel),e.xp6(1),e.Q6J("ngIf",!i.showImageCancel),e.xp6(7),e.Q6J("ngIf",(null==(a=i.personalInformationForm.get("first_name"))?null:a.invalid)&&(null==(a=i.personalInformationForm.get("first_name"))?null:a.touched)),e.xp6(5),e.Q6J("ngIf",(null==(r=i.personalInformationForm.get("last_name"))?null:r.invalid)&&(null==(r=i.personalInformationForm.get("last_name"))?null:r.touched)),e.xp6(18),e.Q6J("ngIf",(null==(s=i.personalInformationForm.get("contact_no"))?null:s.invalid)&&(null==(s=i.personalInformationForm.get("contact_no"))?null:s.touched)),e.xp6(10),e.Q6J("ngIf",(null==(d=i.personalInformationForm.get("city"))?null:d.invalid)&&(null==(d=i.personalInformationForm.get("city"))?null:d.touched)),e.xp6(6),e.Q6J("ngIf",(null==(p=i.personalInformationForm.get("state"))?null:p.invalid)&&(null==(p=i.personalInformationForm.get("state"))?null:p.touched)),e.xp6(5),e.Akn(e.DdM(23,uo)),e.Q6J("visible",i.changePasswordDialog)("modal",!0),e.xp6(6),e.Q6J("ngModel",i.newPassword),e.xp6(5),e.Q6J("ngModel",i.repeatNewPassword),e.xp6(1),e.Q6J("ngIf",""!==i.newPassword&&""!==i.repeatNewPassword&&i.newPassword!==i.repeatNewPassword),e.xp6(3),e.Q6J("disabled",i.newPassword!=i.repeatNewPassword||""==i.newPassword||""==i.repeatNewPassword)}},dependencies:[g.O5,Z.o,m.jx,c._Y,c.Fj,c.JJ,c.JL,c.On,w.Hq,w.zx,c.sg,c.u,M.yp,Y.p,H,S.FN,z.V],styles:["[_nghost-%COMP%]     .p-fileupload-choose{background:transparent;border:0;color:#5a335c}"]})}return n})();function _o(n,l){1&n&&(e.TgZ(0,"div")(1,"div",20),e._uU(2,"Enter Speed in range 0 to 100"),e.qZA()())}const mo=function(){return["6040"]},ho=function(n){return{"ng-invalid ng-dirty":n}};let fo=(()=>{class n{messageService;fb;settingsService;rolesService;commonSettings;commonSettingsForm;constructor(t,o,i,a){this.messageService=t,this.fb=o,this.settingsService=i,this.rolesService=a,this.commonSettingsForm=this.fb.group({min_speed:[null,[c.kI.required,c.kI.min(0),c.kI.max(100)]],speed_unit:[null,[c.kI.required]],roi:[null,[c.kI.required]],event_mapping:[null],event_weight_mapping:[null]},{updateOn:"change"})}ngOnInit(){this.commonSettingsForm.patchValue(this.commonSettings)}get f(){return this.commonSettingsForm.controls}save(){this.settingsService.updateOrgSettings({settings:{org_common_configurations:this.commonSettingsForm.value}}).subscribe(t=>{this.messageService.add({severity:"success",summary:"Success",detail:"Common settings updated successfully"})},t=>{console.log(t),this.messageService.add({severity:"error",summary:"Failure",detail:"Common settings not updated"})})}static \u0275fac=function(o){return new(o||n)(e.Y36(m.ez),e.Y36(c.qu),e.Y36(f.gb),e.Y36(f.Nj))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-common-settings"]],inputs:{commonSettings:"commonSettings"},features:[e._Bn([m.ez])],decls:26,vars:7,consts:[["position","top-right"],[1,"grid"],[1,"col-12"],[1,"card","p-fluid"],[3,"formGroup","ngSubmit"],[1,"flex","align-items-center","justify-content-between","mb-3"],[1,"text-xl","font-bold","letter-spacing-01"],[1,"flex"],["pButton","","pRipple","","label","Save",3,"disabled"],[1,"col-12","md:col-6"],["htmlFor","min_speed",1,"font-semibold"],["pInputText","","id","min_speed","type","number","formControlName","min_speed",3,"ngClass"],[4,"ngIf"],[1,"col-12","md:col-6","pl-4"],["htmlFor","roi",1,"font-semibold"],[1,"mt-3"],["inputId","right","name","roi","value","0","formControlName","roi"],["for","right",1,"ml-2","mr-4"],["inputId","left","name","roi","value","1","formControlName","roi"],["for","left",1,"ml-2"],[1,"ng-dirty","ng-invalid","text-red-700","mt-1"]],template:function(o,i){1&o&&(e._UZ(0,"p-toast",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"form",4),e.NdJ("ngSubmit",function(){return i.save()}),e.TgZ(5,"div",5)(6,"div",6),e._uU(7,"Common Settings"),e.qZA(),e.TgZ(8,"div",7),e._UZ(9,"button",8),e.qZA()(),e.TgZ(10,"div",1)(11,"div",9)(12,"label",10),e._uU(13,"Average Speed Threshold (For DMS Events)"),e.qZA(),e._UZ(14,"input",11),e.YNc(15,_o,3,0,"div",12),e.qZA(),e.TgZ(16,"div",13)(17,"label",14),e._uU(18,"Driver Position (Viewer's Perspective)"),e.qZA(),e.TgZ(19,"div",15),e._UZ(20,"p-radioButton",16),e.TgZ(21,"label",17),e._uU(22,"Right"),e.qZA(),e._UZ(23,"p-radioButton",18),e.TgZ(24,"label",19),e._uU(25,"Left"),e.qZA()()()()()()()()),2&o&&(e.xp6(4),e.Q6J("formGroup",i.commonSettingsForm),e.xp6(5),e.Q6J("disabled",(null==i.f.min_speed.errors?null:i.f.min_speed.errors.required)||(null==i.f.min_speed.errors?null:i.f.min_speed.errors.min)||(null==i.f.min_speed.errors?null:i.f.min_speed.errors.max)||!i.rolesService.hasAccess(e.DdM(4,mo))),e.xp6(5),e.Q6J("ngClass",e.VKq(5,ho,!i.commonSettings.min_speed)),e.xp6(1),e.Q6J("ngIf",(null==i.f.min_speed.errors?null:i.f.min_speed.errors.required)||(null==i.f.min_speed.errors?null:i.f.min_speed.errors.min)||(null==i.f.min_speed.errors?null:i.f.min_speed.errors.max)))},dependencies:[g.mk,g.O5,Z.o,c._Y,c.Fj,c.wV,c.JJ,c.JL,w.Hq,c.sg,c.u,S.FN,pe.EU]})}return n})();var F=u(2001);function vo(n,l){1&n&&(e.TgZ(0,"tr")(1,"th",13),e._uU(2,"Yaw Min"),e.qZA(),e.TgZ(3,"th",13),e._uU(4,"Yaw Max"),e.qZA(),e.TgZ(5,"th",13),e._uU(6,"Pitch Min"),e.qZA(),e.TgZ(7,"th",13),e._uU(8,"Pitch Max"),e.qZA(),e._UZ(9,"th",13),e.qZA())}function bo(n,l){1&n&&(e.TgZ(0,"div")(1,"div",23),e._uU(2,"Enter value in range -90 to 90"),e.qZA()())}function To(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"input",21),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.yaw_min=i)})("ngModelChange",function(i){e.CHM(t);const a=e.oxw(2);return e.KtG(a.inputValidation("yaw_min",i))}),e.qZA(),e.YNc(1,bo,3,0,"div",22)}if(2&n){const t=e.oxw().$implicit,o=e.oxw();e.Q6J("ngModel",t.yaw_min),e.xp6(1),e.Q6J("ngIf",o.isThresholdValid.yaw_min)}}function Co(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit;e.hij(" ",t.yaw_min," ")}}function wo(n,l){1&n&&(e.TgZ(0,"div")(1,"div",23),e._uU(2,"Enter value in range -90 to 90"),e.qZA()())}function So(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"input",21),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.yaw_max=i)})("ngModelChange",function(i){e.CHM(t);const a=e.oxw(2);return e.KtG(a.inputValidation("yaw_max",i))}),e.qZA(),e.YNc(1,wo,3,0,"div",22)}if(2&n){const t=e.oxw().$implicit,o=e.oxw();e.Q6J("ngModel",t.yaw_max),e.xp6(1),e.Q6J("ngIf",o.isThresholdValid.yaw_max)}}function yo(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit;e.hij(" ",t.yaw_max," ")}}function xo(n,l){1&n&&(e.TgZ(0,"div")(1,"div",23),e._uU(2,"Enter value in range -90 to 90"),e.qZA()())}function Io(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"input",21),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.pitch_min=i)})("ngModelChange",function(i){e.CHM(t);const a=e.oxw(2);return e.KtG(a.inputValidation("pitch_max",i))}),e.qZA(),e.YNc(1,xo,3,0,"div",22)}if(2&n){const t=e.oxw().$implicit,o=e.oxw();e.Q6J("ngModel",t.pitch_min),e.xp6(1),e.Q6J("ngIf",o.isThresholdValid.pitch_min)}}function Eo(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit;e.hij(" ",t.pitch_min," ")}}function Zo(n,l){1&n&&(e.TgZ(0,"div")(1,"div",23),e._uU(2,"Enter value in range -90 to 90"),e.qZA()())}function ko(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"input",21),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.pitch_max=i)})("ngModelChange",function(i){e.CHM(t);const a=e.oxw(2);return e.KtG(a.inputValidation("pitch_max",i))}),e.qZA(),e.YNc(1,Zo,3,0,"div",22)}if(2&n){const t=e.oxw().$implicit,o=e.oxw();e.Q6J("ngModel",t.pitch_max),e.xp6(1),e.Q6J("ngIf",o.isThresholdValid.pitch_max)}}function Ao(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit;e.hij(" ",t.pitch_max," ")}}function Mo(n,l){1&n&&e._UZ(0,"button",24)}function No(n,l){1&n&&e._UZ(0,"button",25)}function Fo(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onRowEditCancel())}),e.qZA()}}function Do(n,l){if(1&n&&(e.TgZ(0,"tr",14)(1,"td")(2,"p-cellEditor"),e.YNc(3,To,2,2,"ng-template",15),e.YNc(4,Co,1,1,"ng-template",16),e.qZA()(),e.TgZ(5,"td")(6,"p-cellEditor"),e.YNc(7,So,2,2,"ng-template",15),e.YNc(8,yo,1,1,"ng-template",16),e.qZA()(),e.TgZ(9,"td")(10,"p-cellEditor"),e.YNc(11,Io,2,2,"ng-template",15),e.YNc(12,Eo,1,1,"ng-template",16),e.qZA()(),e.TgZ(13,"td")(14,"p-cellEditor"),e.YNc(15,ko,2,2,"ng-template",15),e.YNc(16,Ao,1,1,"ng-template",16),e.qZA()(),e.TgZ(17,"td")(18,"div",17),e.YNc(19,Mo,1,0,"button",18),e.YNc(20,No,1,0,"button",19),e.YNc(21,Fo,1,0,"button",20),e.qZA()()()),2&n){const o=l.editing;e.Q6J("pEditableRow",l.$implicit),e.xp6(19),e.Q6J("ngIf",!o),e.xp6(1),e.Q6J("ngIf",o),e.xp6(1),e.Q6J("ngIf",o)}}const Uo=function(){return["6040"]},Oo=function(){return{"min-width":"50rem"}};let Jo=(()=>{class n{messageService;settingsService;rolesService;InattentionConfigurationSettings;headPoseThreshold=[];isThresholdValid={yaw_min:!1,yaw_max:!1,pitch_min:!1,pitch_max:!1};constructor(t,o,i){this.messageService=t,this.settingsService=o,this.rolesService=i}ngOnInit(){this.headPoseThreshold=F.F1,this.processHeadPoseThreshold()}processHeadPoseThreshold(){this.headPoseThreshold[0].yaw_min=this.InattentionConfigurationSettings.pose_angle_threshold[0],this.headPoseThreshold[0].yaw_max=this.InattentionConfigurationSettings.pose_angle_threshold[1],this.headPoseThreshold[0].pitch_min=this.InattentionConfigurationSettings.pose_angle_threshold[2],this.headPoseThreshold[0].pitch_max=this.InattentionConfigurationSettings.pose_angle_threshold[3]}save(){const t=[];this.validateHeadPose(this.headPoseThreshold[0].yaw_min)&&this.validateHeadPose(this.headPoseThreshold[0].yaw_max)&&this.validateHeadPose(this.headPoseThreshold[0].pitch_min)&&this.validateHeadPose(this.headPoseThreshold[0].pitch_max)?this.headPoseThreshold[0].yaw_min>this.headPoseThreshold[0].yaw_max?this.messageService.add({severity:"error",summary:"Failure",detail:"Yaw min should be less than or equal to Yaw max"}):this.headPoseThreshold[0].pitch_min>this.headPoseThreshold[0].pitch_max?this.messageService.add({severity:"error",summary:"Failure",detail:"Pitch min should be less than or equal to Pitch max"}):(t.push(this.headPoseThreshold[0].yaw_min),t.push(this.headPoseThreshold[0].yaw_max),t.push(this.headPoseThreshold[0].pitch_min),t.push(this.headPoseThreshold[0].pitch_max),this.settingsService.updateOrgSettings({settings:{org_inattention_configurations:{pose_angle_threshold:t}}}).subscribe(o=>{this.messageService.add({severity:"success",summary:"Success",detail:"Inattention settings updated successfully"})},o=>{console.log(o),this.messageService.add({severity:"error",summary:"Failure",detail:"Inattention settings not updated"})})):this.messageService.add({severity:"error",summary:"Failure",detail:"Head pose angle threshold settings update failed. Range should be between -90 and 90."})}inputValidation(t,o){this.isThresholdValid[t]=!(o>=-90&&o<=90)}validateHeadPose(t){return t>=-90&&t<=90}onRowEditCancel(){this.isThresholdValid={yaw_min:!1,yaw_max:!1,pitch_min:!1,pitch_max:!1}}static \u0275fac=function(o){return new(o||n)(e.Y36(m.ez),e.Y36(f.gb),e.Y36(f.Nj))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-inattention-settings"]],inputs:{InattentionConfigurationSettings:"InattentionConfigurationSettings"},decls:14,vars:6,consts:[["position","top-right"],[1,"grid","mt-2"],[1,"col-12"],[1,"card","p-fluid"],[1,"flex","align-items-center","justify-content-between","mb-3"],[1,"text-xl","font-bold","letter-spacing-01"],[1,"flex"],["pButton","","pRipple","","label","Save",3,"disabled","click"],["appendTo","body",3,"popup"],["menu",""],["dataKey","id","editMode","row",3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],[2,"width","20%"],[3,"pEditableRow"],["pTemplate","input"],["pTemplate","output"],[1,"flex","align-items-center","justify-content-center","gap-2"],["pButton","","pRipple","","type","button","pInitEditableRow","","icon","pi pi-pencil","class","p-button-rounded p-button-text",4,"ngIf"],["pButton","","pRipple","","type","button","pSaveEditableRow","","icon","pi pi-check","class","p-button-rounded p-button-text p-button-success mr-2",4,"ngIf"],["pButton","","pRipple","","type","button","pCancelEditableRow","","icon","pi pi-times","class","p-button-rounded p-button-text p-button-danger",3,"click",4,"ngIf"],["pInputText","","type","number","required","",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"ng-dirty","ng-invalid","text-red-700","mt-1"],["pButton","","pRipple","","type","button","pInitEditableRow","","icon","pi pi-pencil",1,"p-button-rounded","p-button-text"],["pButton","","pRipple","","type","button","pSaveEditableRow","","icon","pi pi-check",1,"p-button-rounded","p-button-text","p-button-success","mr-2"],["pButton","","pRipple","","type","button","pCancelEditableRow","","icon","pi pi-times",1,"p-button-rounded","p-button-text","p-button-danger",3,"click"]],template:function(o,i){1&o&&(e._UZ(0,"p-toast",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6,"Head Pose Angle Thresholds After Applying Offsets"),e.qZA(),e.TgZ(7,"div",6)(8,"button",7),e.NdJ("click",function(){return i.save()}),e.qZA(),e._UZ(9,"p-tieredMenu",8,9),e.qZA()(),e.TgZ(11,"p-table",10),e.YNc(12,vo,10,0,"ng-template",11),e.YNc(13,Do,22,4,"ng-template",12),e.qZA()()()()),2&o&&(e.xp6(8),e.Q6J("disabled",!i.rolesService.hasAccess(e.DdM(4,Uo))),e.xp6(1),e.Q6J("popup",!0),e.xp6(2),e.Q6J("value",i.headPoseThreshold)("tableStyle",e.DdM(5,Oo)))},dependencies:[g.O5,Z.o,C.iA,m.jx,C.YL,C.D$,C.Pv,C.U1,C.wT,c.Fj,c.wV,c.JJ,c.Q7,c.On,w.Hq,M.yp,S.FN]})}return n})();var Po=u(9862),qo=u(3259);function zo(n,l){if(1&n&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.Akn(0===l.index?"width: 38%":"width: 12%"),e.xp6(1),e.hij(" ",t.header," ")}}function Lo(n,l){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,zo,2,4,"th",14),e.TgZ(2,"th",15),e._UZ(3,"i",16),e.qZA()()),2&n){const t=l.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}function Vo(n,l){if(1&n&&(e.TgZ(0,"td"),e._UZ(1,"p-treeTableToggler",20)(2,"p-skeleton"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("rowNode",t)}}function Ro(n,l){1&n&&(e.TgZ(0,"td"),e._UZ(1,"p-skeleton"),e.qZA())}function Bo(n,l){1&n&&(e.TgZ(0,"td"),e._UZ(1,"p-skeleton"),e.qZA())}function Qo(n,l){1&n&&(e.TgZ(0,"td"),e._UZ(1,"p-skeleton"),e.qZA())}function Yo(n,l){1&n&&(e.TgZ(0,"td"),e._UZ(1,"p-skeleton"),e.qZA())}function Ho(n,l){1&n&&(e.TgZ(0,"td"),e._UZ(1,"p-skeleton"),e.qZA())}function Ko(n,l){1&n&&(e.TgZ(0,"td"),e._UZ(1,"p-skeleton"),e.qZA())}function Go(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"input",27),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw(4).rowData;return e.KtG(a.label=i)})("ngModelChange",function(i){e.CHM(t);const a=e.oxw(4),r=a.$implicit,s=a.rowData,d=e.oxw();return e.KtG(d.inputValidation(r,s,i))}),e.qZA()}if(2&n){const t=e.oxw(4).rowData;e.Q6J("ngModel",t.label)("min",t.speedBound.min)("max",t.speedBound.max)}}function jo(n,l){if(1&n&&(e.TgZ(0,"div")(1,"div",28),e._uU(2),e.qZA()()),2&n){const t=e.oxw(4).rowData;e.xp6(2),e.AsE("Enter event speed in range ",t.speedBound.min," to ",t.speedBound.max," ")}}function $o(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"input",29),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw(4).rowData;return e.KtG(a.label=i)})("ngModelChange",function(i){e.CHM(t);const a=e.oxw(4),r=a.$implicit,s=a.rowData,d=e.oxw();return e.KtG(d.textValidation(r,s,i))})("keydown",function(i){e.CHM(t);const a=e.oxw(5);return e.KtG(a.disallowInvalidCharsInEventName(i))}),e.qZA()}if(2&n){const t=e.oxw(4).rowData;e.Q6J("ngModel",t.label)("pattern","^[a-zA-Z0-9\\- _]*$")}}function Wo(n,l){if(1&n&&(e.YNc(0,Go,1,3,"input",25),e.YNc(1,jo,3,2,"div",18),e.YNc(2,$o,1,2,"input",26)),2&n){const t=e.oxw(3).rowData;e.Q6J("ngIf",t.isNumber),e.xp6(1),e.Q6J("ngIf",t.isNumber&&!t.isSpeedBound),e.xp6(1),e.Q6J("ngIf",!t.isNumber)}}function Xo(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw(3).rowData;e.hij(" ",t.label," ")}}function ea(n,l){1&n&&(e.TgZ(0,"p-treeTableCellEditor"),e.YNc(1,Wo,3,3,"ng-template",23),e.YNc(2,Xo,1,1,"ng-template",24),e.qZA())}function ta(n,l){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).rowData;e.xp6(1),e.hij(" ",t.label," ")}}function na(n,l){if(1&n&&(e.TgZ(0,"span",30),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).rowData;e.xp6(1),e.hij(" ",t.label," ")}}function ia(n,l){if(1&n&&(e.TgZ(0,"td",21),e._UZ(1,"p-treeTableToggler",20),e.YNc(2,ea,3,0,"p-treeTableCellEditor",18),e.YNc(3,ta,2,1,"span",18),e.YNc(4,na,2,1,"span",22),e.qZA()),2&n){const t=e.oxw(),o=t.$implicit,i=t.rowData;e.xp6(1),e.Q6J("rowNode",o),e.xp6(1),e.Q6J("ngIf",i.allowEditLabel),e.xp6(1),e.Q6J("ngIf",!i.allowEditLabel&&!i.isParent),e.xp6(1),e.Q6J("ngIf",i.isParent)}}function oa(n,l){if(1&n&&(e.TgZ(0,"div")(1,"div",28),e._uU(2),e.qZA()()),2&n){const t=e.oxw(5).rowData;e.xp6(2),e.AsE("Enter value in range ",t.bound.min," to ",t.bound.max," & upto only 2 decimal places ")}}function aa(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"input",31),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw(4).rowData;return e.KtG(a.threshold=i)})("ngModelChange",function(i){e.CHM(t);const a=e.oxw(4),r=a.$implicit,s=a.rowData,d=e.oxw();return e.KtG(d.inputValidation(r,s,i))}),e.qZA(),e.YNc(1,oa,3,2,"div",18)}if(2&n){const t=e.oxw(4).rowData;e.Q6J("ngModel",t.threshold)("min",t.bound.min)("max",t.bound.max),e.xp6(1),e.Q6J("ngIf",!t.isBound)}}function la(n,l){1&n&&e.YNc(0,aa,2,4,"ng-template",23)}function ra(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw(3).rowData;e.hij(" ",t.threshold," ")}}function sa(n,l){if(1&n&&(e.TgZ(0,"p-treeTableCellEditor"),e.YNc(1,la,1,0,null,18),e.YNc(2,ra,1,1,"ng-template",24),e.qZA()),2&n){const t=e.oxw(2).rowData;e.xp6(1),e.Q6J("ngIf",void 0!==t.threshold)}}function ca(n,l){if(1&n&&(e.TgZ(0,"td",21),e.YNc(1,sa,3,1,"p-treeTableCellEditor",18),e.qZA()),2&n){const t=e.oxw().rowData;e.xp6(1),e.Q6J("ngIf",t.allowThreshold)}}function da(n,l){if(1&n&&e._UZ(0,"p-image",33),2&n){const t=e.oxw(2).rowData;e.Q6J("alt",t.label)("src",t.icon||"assets/demo/images/events/"+t.name+"-grey.svg")}}function pa(n,l){if(1&n&&(e.TgZ(0,"td",21),e.YNc(1,da,1,2,"p-image",32),e.qZA()),2&n){const t=e.oxw().rowData;e.xp6(1),e.Q6J("ngIf",t.allowSevere)}}function ua(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"p-toggleButton",34),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw(3).rowData;return e.KtG(a.isSevere=i)}),e.qZA()}if(2&n){const t=e.oxw(3).rowData;e.Q6J("ngModel",t.isSevere)("onIcon","pi pi-check")}}function ga(n,l){1&n&&e._UZ(0,"i",37)}function _a(n,l){1&n&&e._UZ(0,"i",38)}function ma(n,l){if(1&n&&(e.YNc(0,ga,1,0,"i",35),e.YNc(1,_a,1,0,"i",36)),2&n){const t=e.oxw(3).rowData;e.Q6J("ngIf",!t.isSevere),e.xp6(1),e.Q6J("ngIf",t.isSevere)}}function ha(n,l){1&n&&(e.TgZ(0,"p-treeTableCellEditor"),e.YNc(1,ua,1,2,"ng-template",23),e.YNc(2,ma,2,2,"ng-template",24),e.qZA())}function fa(n,l){if(1&n&&(e.TgZ(0,"td",21),e.YNc(1,ha,3,0,"p-treeTableCellEditor",18),e.qZA()),2&n){const t=e.oxw().rowData;e.xp6(1),e.Q6J("ngIf",t.allowSevere)}}function va(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"p-toggleButton",34),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw(3).rowData;return e.KtG(a.accidentAvoidance=i)}),e.qZA()}if(2&n){const t=e.oxw(3).rowData;e.Q6J("ngModel",t.accidentAvoidance)("onIcon","pi pi-check")}}function ba(n,l){1&n&&e._UZ(0,"i",37)}function Ta(n,l){1&n&&e._UZ(0,"i",38)}function Ca(n,l){if(1&n&&(e.YNc(0,ba,1,0,"i",35),e.YNc(1,Ta,1,0,"i",36)),2&n){const t=e.oxw(3).rowData;e.Q6J("ngIf",!t.accidentAvoidance),e.xp6(1),e.Q6J("ngIf",t.accidentAvoidance)}}function wa(n,l){1&n&&(e.TgZ(0,"p-treeTableCellEditor"),e.YNc(1,va,1,2,"ng-template",23),e.YNc(2,Ca,2,2,"ng-template",24),e.qZA())}function Sa(n,l){if(1&n&&(e.TgZ(0,"td",21),e.YNc(1,wa,3,0,"p-treeTableCellEditor",18),e.qZA()),2&n){const t=e.oxw().rowData;e.xp6(1),e.Q6J("ngIf",t.allowAccident)}}const Ie=function(){return{width:"100%"}};function ya(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",39),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw(3).rowData;return e.KtG(a.weightage=i)}),e.qZA()}if(2&n){const t=e.oxw(3).rowData,o=e.oxw();e.Akn(e.DdM(4,Ie)),e.Q6J("options",o.severityTypes)("ngModel",t.weightage)}}function xa(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw(3).rowData,o=e.oxw();e.hij(" ",o.severityLabelValueMap[t.weightage]," ")}}function Ia(n,l){1&n&&(e.TgZ(0,"p-treeTableCellEditor"),e.YNc(1,ya,1,5,"ng-template",23),e.YNc(2,xa,1,1,"ng-template",24),e.qZA())}function Ea(n,l){if(1&n&&(e.TgZ(0,"td",21),e.YNc(1,Ia,3,0,"p-treeTableCellEditor",18),e.qZA()),2&n){const t=e.oxw().rowData;e.xp6(1),e.Q6J("ngIf",t.allowCategory)}}function Za(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).rowData,a=e.oxw();return e.KtG(a.onRowReset(i.name,i.label))}),e.qZA()}if(2&n){const t=e.oxw(2).rowData;e.Q6J("disabled",!t.isBound)("pTooltip",t.isBound?"Reset":"Please complete the editing")}}function ka(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"td")(1,"button",40),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onRowSave(i))}),e.qZA(),e.YNc(2,Za,1,2,"button",41),e.qZA()}if(2&n){const t=e.oxw().rowData;e.xp6(1),e.Q6J("disabled",!t.isBound)("pTooltip",t.isBound?"Save":"Please complete the editing"),e.xp6(1),e.Q6J("ngIf",!t.disableReset)}}function Aa(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"td")(1,"button",43),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.addCompound())}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",!t.allowCreateCompoundEvent)("pTooltip",t.allowCreateCompoundEvent?"Add compound event":"Only 5 user-defined compound events allowed")}}function Ma(n,l){1&n&&e._UZ(0,"td")}const Na=function(n){return{"parent-row":n}};function Fa(n,l){if(1&n&&(e.TgZ(0,"tr",17),e.YNc(1,Vo,3,1,"td",18),e.YNc(2,Ro,2,0,"td",18),e.YNc(3,Bo,2,0,"td",18),e.YNc(4,Qo,2,0,"td",18),e.YNc(5,Yo,2,0,"td",18),e.YNc(6,Ho,2,0,"td",18),e.YNc(7,Ko,2,0,"td",18),e.YNc(8,ia,5,4,"td",19),e.YNc(9,ca,2,1,"td",19),e.YNc(10,pa,2,1,"td",19),e.YNc(11,fa,2,1,"td",19),e.YNc(12,Sa,2,1,"td",19),e.YNc(13,Ea,2,1,"td",19),e.YNc(14,ka,3,3,"td",18),e.YNc(15,Aa,2,2,"td",18),e.YNc(16,Ma,1,0,"td",18),e.qZA()),2&n){const t=l.rowData,o=e.oxw();e.Q6J("ngClass",e.VKq(17,Na,t.isParent)),e.xp6(1),e.Q6J("ngIf",o.eventUpdateStatus.includes(t.name)||o.eventUpdateStatus.includes(t.parentName)),e.xp6(1),e.Q6J("ngIf",o.eventUpdateStatus.includes(t.name)||o.eventUpdateStatus.includes(t.parentName)),e.xp6(1),e.Q6J("ngIf",o.eventUpdateStatus.includes(t.name)||o.eventUpdateStatus.includes(t.parentName)),e.xp6(1),e.Q6J("ngIf",o.eventUpdateStatus.includes(t.name)||o.eventUpdateStatus.includes(t.parentName)),e.xp6(1),e.Q6J("ngIf",o.eventUpdateStatus.includes(t.name)||o.eventUpdateStatus.includes(t.parentName)),e.xp6(1),e.Q6J("ngIf",o.eventUpdateStatus.includes(t.name)||o.eventUpdateStatus.includes(t.parentName)),e.xp6(1),e.Q6J("ngIf",o.eventUpdateStatus.includes(t.name)||o.eventUpdateStatus.includes(t.parentName)),e.xp6(1),e.Q6J("ngIf",!o.eventUpdateStatus.includes(t.name)&&!o.eventUpdateStatus.includes(t.parentName)),e.xp6(1),e.Q6J("ngIf",!o.eventUpdateStatus.includes(t.name)&&!o.eventUpdateStatus.includes(t.parentName)),e.xp6(1),e.Q6J("ngIf",!o.eventUpdateStatus.includes(t.name)&&!o.eventUpdateStatus.includes(t.parentName)),e.xp6(1),e.Q6J("ngIf",!o.eventUpdateStatus.includes(t.name)&&!o.eventUpdateStatus.includes(t.parentName)),e.xp6(1),e.Q6J("ngIf",!o.eventUpdateStatus.includes(t.name)&&!o.eventUpdateStatus.includes(t.parentName)),e.xp6(1),e.Q6J("ngIf",!o.eventUpdateStatus.includes(t.name)&&!o.eventUpdateStatus.includes(t.parentName)),e.xp6(1),e.Q6J("ngIf",t.allowActions&&!o.eventUpdateStatus.includes(t.name)),e.xp6(1),e.Q6J("ngIf",t.allowCreate),e.xp6(1),e.Q6J("ngIf",!t.allowCreate&&!t.allowActions&&!o.eventUpdateStatus.includes(t.name))}}function Da(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",44)(1,"div",45),e._UZ(2,"i",46),e.qZA(),e.TgZ(3,"span",47),e._uU(4),e.qZA(),e.TgZ(5,"p",48),e._uU(6),e.qZA(),e.TgZ(7,"div",49)(8,"button",50),e.NdJ("click",function(){e.CHM(t),e.oxw();const i=e.MAs(12);return e.KtG(i.accept())}),e.qZA(),e.TgZ(9,"button",51),e.NdJ("click",function(){e.CHM(t),e.oxw();const i=e.MAs(12);return e.KtG(i.reject())}),e.qZA()()()}if(2&n){const t=l.$implicit;e.xp6(4),e.Oqu(t.header),e.xp6(2),e.Oqu(t.message)}}function Ua(n,l){1&n&&(e.TgZ(0,"div"),e._UZ(1,"span",55),e.TgZ(2,"div",28),e._uU(3,"Event name is required."),e.qZA()())}function Oa(n,l){if(1&n&&(e.TgZ(0,"div",62)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=l.$implicit;e.xp6(2),e.Oqu(t.label)}}function Ja(n,l){1&n&&e._uU(0),2&n&&e.hij(" ",l.$implicit.label," ")}function Pa(n,l){1&n&&(e.TgZ(0,"div"),e._UZ(1,"span",55),e.TgZ(2,"div",28),e._uU(3,"Two or more events required."),e.qZA()())}function qa(n,l){1&n&&(e.TgZ(0,"div"),e._UZ(1,"span",55),e.TgZ(2,"div",28),e._uU(3,"Event category is required."),e.qZA()())}const Ee=function(n){return{"ng-invalid ng-dirty":n}},D=function(){return["6060"]};function za(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",52)(1,"div",53)(2,"div",54)(3,"span",55),e._uU(4," Event Name"),e.qZA(),e.TgZ(5,"input",56),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.compoundEventName=i)}),e.qZA()(),e.YNc(6,Ua,4,0,"div",18),e.qZA(),e._UZ(7,"div",53),e.TgZ(8,"div",53)(9,"div",54)(10,"span",55),e._uU(11," Select Events:"),e.qZA(),e.TgZ(12,"p-multiSelect",57),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.compoundSelectedEvents=i)}),e.YNc(13,Oa,3,1,"ng-template",58),e.YNc(14,Ja,1,1,"ng-template",59),e.qZA()(),e.TgZ(15,"div",54),e.YNc(16,Pa,4,0,"div",18),e.qZA()(),e.TgZ(17,"div",53)(18,"div",54)(19,"span",55),e._uU(20," Category"),e.qZA(),e.TgZ(21,"p-dropdown",60),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.compoundCategory=i)}),e.qZA()(),e.TgZ(22,"div",54),e.YNc(23,qa,4,0,"div",18),e.qZA()(),e.TgZ(24,"div",53)(25,"div",54)(26,"span",55),e._uU(27," Severe:"),e.qZA(),e.TgZ(28,"p-toggleButton",61),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.compoundSeverity=i)}),e.qZA()()(),e.TgZ(29,"div",53)(30,"div",54)(31,"span",55),e._uU(32," Accident Avoidance:"),e.qZA(),e.TgZ(33,"p-toggleButton",61),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.compoundAccidentAvoidance=i)}),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.compoundEventName)("ngClass",e.VKq(24,Ee,!t.compoundEventName))("disabled",!t.rolesService.hasAccess(e.DdM(26,D)))("pattern","^[a-zA-Z0-9\\-_]*$"),e.xp6(1),e.Q6J("ngIf",!t.compoundEventName),e.xp6(6),e.Q6J("options",t.eventList)("group",!0)("ngModel",t.compoundSelectedEvents)("filter",!1)("ngClass",e.VKq(27,Ee,!t.compoundSelectedEvents))("disabled",!t.rolesService.hasAccess(e.DdM(29,D))),e.xp6(4),e.Q6J("ngIf",t.compoundSelectedEvents.length<2),e.xp6(5),e.Akn(e.DdM(30,Ie)),e.Q6J("options",t.severityTypes)("ngModel",t.compoundCategory)("disabled",!t.rolesService.hasAccess(e.DdM(31,D))),e.xp6(2),e.Q6J("ngIf",void 0===t.compoundCategory),e.xp6(5),e.Q6J("ngModel",t.compoundSeverity)("onIcon","pi pi-check")("disabled",!t.rolesService.hasAccess(e.DdM(32,D))),e.xp6(5),e.Q6J("ngModel",t.compoundAccidentAvoidance)("onIcon","pi pi-check")("disabled",!t.rolesService.hasAccess(e.DdM(33,D)))}}function La(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",63),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.saveCompoundEvent())}),e.qZA(),e.TgZ(1,"button",64),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.hideCompoundDialog())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",!t.rolesService.hasAccess(e.DdM(2,D)))("disabled",!t.compoundEventName||t.compoundSelectedEvents.length<2||void 0===t.compoundCategory)}}const Va=function(){return{width:"980px"}};let Ra=(()=>{class n{messageService;fb;http;settingsService;rolesService;confirmationService;utilsService;activitySettings;adasSettings;obstructionSettings;fatigueSettings;activitySettingsForm;adasSettingsForm;obstructionSettingsForm;fatigueSettingsForm;primaryEvents;compoundEvents;eventUpdateStatus=[];severityTypes=[{label:"High",value:3},{label:"Moderate",value:2},{label:"Low",value:1},{label:"No Risk",value:0}];severityLabelValueMap=["No Risk","Low","Moderate","High"];cols=[{field:"name",header:"Event Name"},{field:"threshold",header:"Threshold"},{field:"icon",header:"Icon"},{field:"isSevere",header:"Severe"},{field:"accidentAvoidance",header:"Accident Avoidance"},{field:"category",header:"Category"}];events;showAddCompound=!1;allowCreateCompoundEvent=!0;constructor(t,o,i,a,r,s,d){this.messageService=t,this.fb=o,this.http=i,this.settingsService=a,this.rolesService=r,this.confirmationService=s,this.utilsService=d,this.initActivitySettingsForm(),this.initAdasConfigurationSettingsForm(),this.initObstructionConfigurationSettingsForm(),this.initFatigueConfigurationSettingsForm()}ngOnInit(){this.activitySettingsForm.patchValue(this.activitySettings),this.adasSettingsForm.patchValue(this.adasSettings),this.obstructionSettingsForm.patchValue(this.obstructionSettings),this.fatigueSettingsForm.patchValue(this.fatigueSettings),this.getEventsList()}get activityF(){return this.activitySettingsForm.controls}get adasF(){return this.adasSettingsForm.controls}get obstructionsF(){return this.obstructionSettingsForm.controls}get fatigueF(){return this.fatigueSettingsForm.controls}getEventsList(){this.settingsService.getEventsList().subscribe(t=>{this.primaryEvents=t.primary_events,this.compoundEvents=t.compound_events,this.generateEventsTreeTable(t)})}generateInattentionTreeTable(t,o=!1,i=""){let a={data:{name:t.name,label:t.event_configuration.display_label,isSevere:t.event_configuration.is_severe,accidentAvoidance:t.event_configuration.is_accident_avoidance,allowAccident:!o,icon:t.event_configuration.display_icon||"",type:"dms",parentName:o?i:t.name,weightage:t.event_configuration.weightage<0||!t.event_configuration.hasOwnProperty("weightage")?1:t.event_configuration.weightage,isBound:!0,allowEditLabel:!o,allowThreshold:!1,allowIcon:!o,allowSevere:!o,allowCategory:!o,allowActions:!o},children:[{data:{name:"speed",label:"Speed (mi/hr)",parentName:o?i:t.name,allowEditLabel:!1,allowThreshold:!1,allowIcon:!1,allowSevere:!1,allowCategory:!1,allowActions:!1,allowAccident:!1},children:[]}]};if(t.event_configuration.trigger_configuration.hasOwnProperty("speed_duration_trigger_configuration"))for(let r=0;r<4;r++){let s={data:{isNumber:!0,name:r,parentName:o?i:t.name,label:0|t.event_configuration.trigger_configuration.speed_duration_trigger_configuration.speed_threshold[r],threshold:0|t.event_configuration.trigger_configuration.speed_duration_trigger_configuration.duration_threshold[r],isSpeedBound:!1,speedBound:{min:0,max:150},isBound:!1,bound:{min:0,max:100},allowAccident:!1,allowEditLabel:!0,allowThreshold:!0,allowIcon:!1,allowSevere:!1,allowCategory:!1,allowActions:!1}};s.data.speedBound.min<=s.data.threshold&&s.data.threshold<=s.data.speedBound.max&&(s.data.isBound=!0,s.data.isSpeedBound=!0),a.children[0].children.push(s)}return a}generateEventsTreeTable(t){this.events=[],this.eventList.forEach(s=>{s.items=[]});let o=[],i=[],a=[];t.primary_events.forEach(s=>{let d={data:{name:s.name,label:s.event_configuration.display_label,isSevere:s.event_configuration.is_severe,accidentAvoidance:s.event_configuration.is_accident_avoidance,allowAccident:!0,icon:s.event_configuration.display_icon||"",type:s.event_configuration.category.find(p=>["dms","adas","telematics"].includes(p)),weightage:s.event_configuration.weightage<0||!s.event_configuration.hasOwnProperty("weightage")?1:s.event_configuration.weightage,isBound:!0,allowEditLabel:!0,allowThreshold:!1,allowIcon:!0,allowSevere:!0,allowCategory:!0,allowActions:!0}};if("dms"===d.data.type?this.eventList[0].items.push({label:s.event_configuration.display_label,value:s.name}):"adas"===d.data.type?this.eventList[1].items.push({label:s.event_configuration.display_label,value:s.name}):"telematics"===d.data.type&&this.eventList[2].items.push({label:s.event_configuration.display_label,value:s.name}),s.event_configuration.category.includes("dms")){if("inattention"===s.name)d=this.generateInattentionTreeTable(s);else{let p=s.event_configuration.trigger_configuration.hasOwnProperty("confidence_duration_trigger_configuration")?s.event_configuration.trigger_configuration.confidence_duration_trigger_configuration.duration_threshold:0,h=s.event_configuration.trigger_configuration.hasOwnProperty("confidence_duration_trigger_configuration")?s.event_configuration.trigger_configuration.confidence_duration_trigger_configuration.confidence_threshold:.75,v=s.event_configuration.trigger_configuration.hasOwnProperty("speed_duration_trigger_configuration")?s.event_configuration.trigger_configuration.speed_duration_trigger_configuration.speed_threshold[0]:0;d.children=[{data:{name:"confidence",label:"Confidence",parentName:s.name,threshold:h,isBound:0<=h&&h<=1,bound:{min:0,max:1},allowEditLabel:!1,allowThreshold:!0,allowIcon:!1,allowSevere:!1,allowCategory:!1,allowActions:!1,allowAccident:!1}},{data:{name:"speed",label:"Speed (mi/hr)",parentName:s.name,threshold:v,isBound:0<=v&&v<=150,bound:{min:0,max:150},allowEditLabel:!1,allowThreshold:!0,allowIcon:!1,allowSevere:!1,allowCategory:!1,allowActions:!1,allowAccident:!1}},{data:{name:"duration",label:"Duration (sec)",parentName:s.name,threshold:p,isBound:0<=p&&p<=100,bound:{min:0,max:100},allowEditLabel:!1,allowThreshold:!0,allowIcon:!1,allowSevere:!1,allowCategory:!1,allowActions:!1,allowAccident:!1}}]}o.push(d)}else if(s.event_configuration.category.includes("adas")){let p=s.event_configuration.trigger_configuration.hasOwnProperty("speed_duration_trigger_configuration")?s.event_configuration.trigger_configuration.speed_duration_trigger_configuration.duration_threshold[0]:0,h=s.event_configuration.trigger_configuration.hasOwnProperty("speed_duration_trigger_configuration")?s.event_configuration.trigger_configuration.speed_duration_trigger_configuration.speed_threshold[0]:0,v=s.event_configuration.trigger_configuration.hasOwnProperty("timestamps_count_trigger_configuration")?s.event_configuration.trigger_configuration.timestamps_count_trigger_configuration.timestamps_count_threshold:0,b=s.event_configuration.trigger_configuration.hasOwnProperty("pedestrian_count_trigger_configuration")?s.event_configuration.trigger_configuration.pedestrian_count_trigger_configuration.pedestrian_count:0;d.children=[{data:{name:"speed",label:"Speed (mi/hr)",parentName:s.name,threshold:h,isBound:0<=h&&h<=150,bound:{min:0,max:150},allowEditLabel:!1,allowThreshold:!0,allowIcon:!1,allowSevere:!1,allowCategory:!1,allowActions:!1,allowAccident:!1}},{data:{name:"duration",label:"Duration (sec)",parentName:s.name,threshold:p,isBound:0<=p&&p<=100,bound:{min:0,max:100},allowEditLabel:!1,allowThreshold:!0,allowIcon:!1,allowSevere:!1,allowCategory:!1,allowActions:!1,allowAccident:!1}},{data:{name:"timestamp",label:"Timestamp Count (sec)",parentName:s.name,threshold:v,isBound:0<=v&&v<=30,bound:{min:0,max:30},allowEditLabel:!1,allowThreshold:!0,allowIcon:!1,allowSevere:!1,allowCategory:!1,allowActions:!1,allowAccident:!1}},{data:{name:"pedestrian",label:"Pedestrian Count",parentName:s.name,threshold:b,isBound:0<=b&&b<=30,bound:{min:0,max:30},allowEditLabel:!1,allowThreshold:!0,allowIcon:!1,allowSevere:!1,allowCategory:!1,allowActions:!1,allowAccident:!1}}],i.push(d)}else"telematics"===s.event_configuration.category[0]&&a.push(d)}),o.sort((s,d)=>s.data.name.localeCompare(d.data.name)),i.sort((s,d)=>s.data.name.localeCompare(d.data.name)),a.sort((s,d)=>s.data.name.localeCompare(d.data.name));let r=this.generateCompoundEvents(t.compound_events);this.events=[{data:{isParent:!0,name:"dms",label:"Dms",allowAccident:!1,allowEditLabel:!1,allowThreshold:!1,allowIcon:!1,allowSevere:!1,allowCategory:!1,allowActions:!1},children:o},{data:{isParent:!0,name:"adas",label:"Adas",allowAccident:!1,allowEditLabel:!1,allowThreshold:!1,allowIcon:!1,allowSevere:!1,allowCategory:!1,allowActions:!1},children:i},{data:{isParent:!0,name:"telematics",label:"Telematics",allowAccident:!1,allowEditLabel:!1,allowThreshold:!1,allowIcon:!1,allowSevere:!1,allowCategory:!1,allowActions:!1},children:a},{data:{isParent:!0,name:"compound",label:"Compound",allowCreate:!0,allowAccident:!1,allowEditLabel:!1,allowThreshold:!1,allowIcon:!1,allowSevere:!1,allowCategory:!1,allowActions:!1},children:r}],this.expandAll()}expandAll(){this.events.forEach(t=>{this.expandNode(t,!0)})}expandNode(t,o){t.expanded=o}generateCompoundEvents(t){let o=[];return this.allowCreateCompoundEvent=!(t.length>=7),t.forEach(i=>{let a={data:{name:i.name,label:i.event_configuration.display_label,isSevere:i.event_configuration.is_severe,accidentAvoidance:i.event_configuration.is_accident_avoidance,allowAccident:!0,icon:i.event_configuration.display_icon||"",type:"compound",weightage:i.event_configuration.weightage<0||!i.event_configuration.hasOwnProperty("weightage")?1:i.event_configuration.weightage,isBound:!0,allowEditLabel:!0,allowThreshold:!1,allowIcon:!0,allowSevere:!0,allowCategory:!0,allowActions:!0,disableReset:!0},children:[]};i.hasOwnProperty("constituents")?i.constituents.forEach(r=>{let s={data:{name:r.name,label:r.event_configuration.display_label,parentName:i.name,allowAccident:!1,allowEditLabel:!1,allowThreshold:!1,allowIcon:!1,allowSevere:!1,allowCategory:!1,allowActions:!1}};if(r.event_configuration.category.includes("dms"))if("inattention"===r.name)s=this.generateInattentionTreeTable(r,!0,i.name);else{s.data.type="dms";let d=r.event_configuration.trigger_configuration.hasOwnProperty("confidence_duration_trigger_configuration")?r.event_configuration.trigger_configuration.confidence_duration_trigger_configuration.duration_threshold:0,p=r.event_configuration.trigger_configuration.hasOwnProperty("confidence_duration_trigger_configuration")?r.event_configuration.trigger_configuration.confidence_duration_trigger_configuration.confidence_threshold:.75,h=r.event_configuration.trigger_configuration.hasOwnProperty("speed_duration_trigger_configuration")?r.event_configuration.trigger_configuration.speed_duration_trigger_configuration.speed_threshold[0]:0;s.children=[{data:{name:"confidence",label:"Confidence",parentName:i.name,threshold:p,isBound:0<=p&&p<=1,bound:{min:0,max:1},allowAccident:!1,allowEditLabel:!1,allowThreshold:!0,allowIcon:!1,allowSevere:!1,allowCategory:!1,allowActions:!1}},{data:{name:"speed",label:"Speed (mi/hr)",parentName:i.name,threshold:h,isBound:0<=h&&h<=150,bound:{min:0,max:150},allowAccident:!1,allowEditLabel:!1,allowThreshold:!0,allowIcon:!1,allowSevere:!1,allowCategory:!1,allowActions:!1}},{data:{name:"duration",label:"Duration (sec)",parentName:i.name,threshold:d,isBound:0<=d&&d<=100,bound:{min:0,max:100},allowAccident:!1,allowEditLabel:!1,allowThreshold:!0,allowIcon:!1,allowSevere:!1,allowCategory:!1,allowActions:!1}}]}else if(r.event_configuration.category.includes("adas")){s.data.type="adas";let d=r.event_configuration.trigger_configuration.hasOwnProperty("speed_duration_trigger_configuration")?r.event_configuration.trigger_configuration.speed_duration_trigger_configuration.duration_threshold[0]:0,p=r.event_configuration.trigger_configuration.hasOwnProperty("speed_duration_trigger_configuration")?r.event_configuration.trigger_configuration.speed_duration_trigger_configuration.speed_threshold[0]:0,h=r.event_configuration.trigger_configuration.hasOwnProperty("timestamps_count_trigger_configuration")?r.event_configuration.trigger_configuration.timestamps_count_trigger_configuration.timestamps_count_threshold:0,v=r.event_configuration.trigger_configuration.hasOwnProperty("pedestrian_count_trigger_configuration")?r.event_configuration.trigger_configuration.pedestrian_count_trigger_configuration.pedestrian_count:0;s.children=[{data:{name:"speed",label:"Speed (mi/hr)",parentName:i.name,threshold:p,isBound:0<=p&&p<=150,bound:{min:0,max:150},allowAccident:!1,allowEditLabel:!1,allowThreshold:!0,allowIcon:!1,allowSevere:!1,allowCategory:!1,allowActions:!1}},{data:{name:"duration",label:"Duration (sec)",parentName:i.name,threshold:d,isBound:0<=d&&d<=100,bound:{min:0,max:100},allowAccident:!1,allowEditLabel:!1,allowThreshold:!0,allowIcon:!1,allowSevere:!1,allowCategory:!1,allowActions:!1}},{data:{name:"timestamp",label:"Timestamp Count (sec)",parentName:i.name,threshold:h,isBound:0<=h&&h<=30,bound:{min:0,max:30},allowAccident:!1,allowEditLabel:!1,allowThreshold:!0,allowIcon:!1,allowSevere:!1,allowCategory:!1,allowActions:!1}},{data:{name:"pedestrian",label:"Pedestrian Count",parentName:i.name,threshold:v,isBound:0<=v&&v<=30,bound:{min:0,max:30},allowAccident:!1,allowEditLabel:!1,allowThreshold:!0,allowIcon:!1,allowSevere:!1,allowCategory:!1,allowActions:!1}}]}else r.event_configuration.category.includes("telematics")&&(s.data.type="telematics");a.children.push(s),a.data.isBound=!s.hasOwnProperty("children")||(s.children.length>1?!s.children.some(d=>!d.data.isBound):!s.children[0].children.some(d=>!d.data.isBound))}):(a.data.isMultiPrimaryCompound=!0,a.data.label=i.event_configuration.display_label,a.data.allowAccident=a.data.allowActions=a.data.allowCategory=a.data.allowEditLabel=!1,a.data.allowCreate=a.data.allowIcon=a.data.allowSevere=a.data.allowThreshold=!1),o.push(a)}),o}save(){this.settingsService.updateOrgSettings({settings:{org_activity_configurations:this.activitySettingsForm.value,org_adas_configurations:this.adasSettingsForm.value,org_obstruction_configurations:this.obstructionSettingsForm.value,org_fatigue_configurations:this.fatigueSettingsForm.value}}).subscribe(t=>{this.messageService.add({severity:"success",summary:"Success",detail:"Event settings updated successfully"})},t=>{console.log(t),this.messageService.add({severity:"error",summary:"Failure",detail:"Event settings not updated"})})}initActivitySettingsForm(){this.activitySettingsForm=this.fb.group({activity_smoking_duration:[null,[c.kI.required,c.kI.min(0),c.kI.max(30)]],activity_smoking_threshold:[null,[c.kI.required,c.kI.min(.75),c.kI.max(.95)]],activity_eating_drinking_duration:[null,[c.kI.required,c.kI.min(0),c.kI.max(30)]],activity_eating_drinking_threshold:[null,[c.kI.required,c.kI.min(.75),c.kI.max(.95)]],activity_mask_duration:[null,[c.kI.required,c.kI.min(0),c.kI.max(30)]],activity_mask_threshold:[null,[c.kI.required,c.kI.min(.75),c.kI.max(.95)]],activity_phone_duration:[null,[c.kI.required,c.kI.min(0),c.kI.max(30)]],activity_phone_threshold:[null,[c.kI.required,c.kI.min(.75),c.kI.max(.95)]]},{updateOn:"change"})}initAdasConfigurationSettingsForm(){this.adasSettingsForm=this.fb.group({min_speed:[null,[c.kI.required,c.kI.min(0),c.kI.max(100)]]},{updateOn:"change"})}initObstructionConfigurationSettingsForm(){this.obstructionSettingsForm=this.fb.group({no_face_duration:[null,[c.kI.required,c.kI.min(0),c.kI.max(30)]]},{updateOn:"change"})}initFatigueConfigurationSettingsForm(){this.fatigueSettingsForm=this.fb.group({yawn_duration:[null,[c.kI.required,c.kI.min(0),c.kI.max(30)]],yawn_threshold:[null,[c.kI.required,c.kI.min(.75),c.kI.max(.95)]]},{updateOn:"change"})}textValidation(t,o,i){null!==i&&(i.length<3||i.length>40)?(o.isBound=!1,t.parent&&(t.parent.data.isBound=!1,t.parent.parent&&(t.parent.parent.data.isBound=!1))):(o.isBound=!0,t.parent&&(t.parent.data.isBound=!0,t.parent.parent&&(t.parent.parent.data.isBound=!0)))}inputValidation(t,o,i){o.isNumber?null!==i&&i>=o.speedBound.min&&i<=o.speedBound.max?(o.isSpeedBound=!0,t.parent?.parent&&(t.parent.parent.data.isBound=!0,t.parent.parent.parent?.parent&&(t.parent.parent.parent.data.isBound=!0))):(o.isSpeedBound=!1,t.parent?.parent&&(t.parent.parent.data.isBound=!1,t.parent.parent.parent?.parent&&(t.parent.parent.parent.data.isBound=!1))):null!==i&&2===i.toString().split(".").length&&i.toString().split(".")[1].length>2?(o.isBound=!1,t.parent&&(t.parent.data.isBound=!1,t.parent.parent&&(t.parent.parent.data.isBound=!1))):null!==i&&i>=o.bound.min&&i<=o.bound.max?(o.isBound=!0,t.parent&&(t.parent.data.isBound=!0,t.parent.parent&&(t.parent.parent.data.isBound=!0))):(o.isBound=!1,t.parent&&(t.parent.data.isBound=!1,t.parent.parent&&(t.parent.parent.data.isBound=!1)))}eventList=[{label:"Dms",value:"dms",items:[]},{label:"Adas",value:"adas",items:[]},{label:"Telematics",value:"telematics",items:[]}];compoundEventName;compoundSelectedEvents=[];compoundIcon;compoundCategory;compoundSeverity=!1;compoundAccidentAvoidance=!1;addCompound(){this.allowCreateCompoundEvent?(this.showAddCompound=!0,this.setCompoundIcon()):this.messageService.add({severity:"error",summary:"Compound events",detail:"Only 5 user-defined compound events allowed"})}setCompoundIcon(){const t=this.compoundEvents.filter(i=>!i.event_configuration.category.includes("immutable"));this.http.get("assets/demo/images/events/compound_event_"+(t.length<6?t.length+1:1)+".png",{responseType:"blob"}).subscribe(i=>{const a=new FileReader;a.readAsDataURL(i),a.onload=()=>{this.compoundIcon=a.result}},i=>{console.error("Failed to fetch file:",i)})}hideCompoundDialog(){this.showAddCompound=!1,this.compoundEventName=void 0,this.compoundSelectedEvents=[],this.compoundIcon=void 0,this.compoundCategory=void 0,this.compoundSeverity=!1,this.compoundAccidentAvoidance=!1}onIconUpload(t,o){const i=new FileReader;i.readAsDataURL(o.files[0]),i.onload=()=>{t.node.data.icon=i.result}}saveCompoundEvent(){let t={description:"",type:"compound",event_configuration:{display_label:this.compoundEventName,display_icon:this.compoundIcon,is_severe:this.compoundSeverity,category:["compound"],weightage:this.compoundCategory,is_accident_avoidance:this.compoundAccidentAvoidance}},o=[];this.compoundSelectedEvents.forEach(i=>{let a=this.primaryEvents.find(r=>r.name===i);o.push(a)}),t.constituents=o,this.settingsService.addCompoundEvent(t).subscribe(i=>{this.compoundEvents.push(i),this.messageService.add({severity:"success",summary:"Success",detail:"Compound event added successfully"}),this.events[3].children=this.generateCompoundEvents(this.compoundEvents),this.showAddCompound=!1},i=>{console.log(i),this.messageService.add({severity:"error",summary:"Failure",detail:"Compound event not added"})})}getPrimaryEvent(t){let o=JSON.parse(JSON.stringify(this.primaryEvents.find(i=>i.name===t.node.data.name)));return o.event_configuration.display_label=t.node.data.label,o.event_configuration.is_severe=t.node.data.isSevere,o.event_configuration.display_icon=t.node.data.icon,o.event_configuration.weightage=t.node.data.weightage,o.event_configuration.is_accident_avoidance=t.node.data.accidentAvoidance,o.event_configuration.category.includes("telematics")||(o.event_configuration.hasOwnProperty("trigger_configuration")||(o.event_configuration.trigger_configuration={}),o.event_configuration.trigger_configuration.hasOwnProperty("speed_duration_trigger_configuration")||(o.event_configuration.trigger_configuration.speed_duration_trigger_configuration={}),o.event_configuration.trigger_configuration.speed_duration_trigger_configuration.hasOwnProperty("speed_threshold")||(o.event_configuration.trigger_configuration.speed_duration_trigger_configuration.speed_threshold=[]),o.event_configuration.trigger_configuration.speed_duration_trigger_configuration.hasOwnProperty("duration_threshold")||(o.event_configuration.trigger_configuration.speed_duration_trigger_configuration.duration_threshold=[])),o.event_configuration.category.includes("dms")?"inattention"===o.name?t.node.children[0].children.forEach((i,a)=>{o.event_configuration.trigger_configuration.speed_duration_trigger_configuration.speed_threshold[a]=i.data.label,o.event_configuration.trigger_configuration.speed_duration_trigger_configuration.duration_threshold[a]=i.data.threshold}):(o.event_configuration.trigger_configuration.hasOwnProperty("confidence_duration_trigger_configuration")||(o.event_configuration.trigger_configuration.confidence_duration_trigger_configuration={}),o.event_configuration.trigger_configuration.confidence_duration_trigger_configuration.hasOwnProperty("confidence_threshold")||(o.event_configuration.trigger_configuration.confidence_duration_trigger_configuration.confidence_threshold=0),o.event_configuration.trigger_configuration.confidence_duration_trigger_configuration.hasOwnProperty("duration_threshold")||(o.event_configuration.trigger_configuration.confidence_duration_trigger_configuration.duration_threshold=0),o.event_configuration.trigger_configuration.confidence_duration_trigger_configuration.confidence_threshold=t.node.children[0].data.threshold,o.event_configuration.trigger_configuration.speed_duration_trigger_configuration.speed_threshold[0]=t.node.children[1].data.threshold,o.event_configuration.trigger_configuration.speed_duration_trigger_configuration.duration_threshold[0]=t.node.children[2].data.threshold,o.event_configuration.trigger_configuration.confidence_duration_trigger_configuration.duration_threshold=t.node.children[2].data.threshold):o.event_configuration.category.includes("adas")&&(o.event_configuration.trigger_configuration.hasOwnProperty("timestamps_count_trigger_configuration")||(o.event_configuration.trigger_configuration.timestamps_count_trigger_configuration={}),o.event_configuration.trigger_configuration.timestamps_count_trigger_configuration.hasOwnProperty("timestamps_count_threshold")||(o.event_configuration.trigger_configuration.timestamps_count_trigger_configuration.timestamps_count_threshold=0),o.event_configuration.trigger_configuration.hasOwnProperty("pedestrian_count_trigger_configuration")||(o.event_configuration.trigger_configuration.pedestrian_count_trigger_configuration={}),o.event_configuration.trigger_configuration.pedestrian_count_trigger_configuration.hasOwnProperty("pedestrian_count")||(o.event_configuration.trigger_configuration.pedestrian_count_trigger_configuration.pedestrian_count=0),o.event_configuration.trigger_configuration.speed_duration_trigger_configuration.speed_threshold[0]=t.node.children[0].data.threshold,o.event_configuration.trigger_configuration.speed_duration_trigger_configuration.duration_threshold[0]=t.node.children[1].data.threshold,o.event_configuration.trigger_configuration.timestamps_count_trigger_configuration.timestamps_count_threshold=t.node.children[2].data.threshold,o.event_configuration.trigger_configuration.pedestrian_count_trigger_configuration.pedestrian_count=t.node.children[3].data.threshold),o}getCompoundEvent(t){let o=JSON.parse(JSON.stringify(this.compoundEvents.find(i=>i.name===t.node.data.name)));return o.event_configuration.display_label=t.node.data.label,o.event_configuration.is_severe=t.node.data.isSevere,o.event_configuration.display_icon=t.node.data.icon,o.event_configuration.weightage=t.node.data.weightage,o.event_configuration.is_accident_avoidance=t.node.data.accidentAvoidance,t.node.children.forEach(i=>{"dms"===i.data.type?o.constituents.forEach("inattention"===i.data.name?a=>{a.name===i.data.name&&(a.event_configuration.trigger_configuration.hasOwnProperty("speed_duration_trigger_configuration")||(a.event_configuration.trigger_configuration.speed_duration_trigger_configuration={}),a.event_configuration.trigger_configuration.speed_duration_trigger_configuration.hasOwnProperty("speed_threshold")||(a.event_configuration.trigger_configuration.speed_duration_trigger_configuration.speed_threshold=[]),a.event_configuration.trigger_configuration.speed_duration_trigger_configuration.hasOwnProperty("duration_threshold")||(a.event_configuration.trigger_configuration.speed_duration_trigger_configuration.duration_threshold=[]),i.children[0].children.forEach((r,s)=>{a.event_configuration.trigger_configuration.speed_duration_trigger_configuration.speed_threshold[s]=r.data.label,a.event_configuration.trigger_configuration.speed_duration_trigger_configuration.duration_threshold[s]=r.data.threshold}))}:a=>{a.name===i.data.name&&(a.event_configuration.trigger_configuration.hasOwnProperty("confidence_duration_trigger_configuration")||(a.event_configuration.trigger_configuration.confidence_duration_trigger_configuration={}),a.event_configuration.trigger_configuration.hasOwnProperty("speed_duration_trigger_configuration")||(a.event_configuration.trigger_configuration.speed_duration_trigger_configuration={}),a.event_configuration.trigger_configuration.speed_duration_trigger_configuration.hasOwnProperty("speed_threshold")||(a.event_configuration.trigger_configuration.speed_duration_trigger_configuration.speed_threshold=[]),a.event_configuration.trigger_configuration.speed_duration_trigger_configuration.hasOwnProperty("duration_threshold")||(a.event_configuration.trigger_configuration.speed_duration_trigger_configuration.duration_threshold=[]),a.event_configuration.trigger_configuration.confidence_duration_trigger_configuration.confidence_threshold=i.children[0].data.threshold,a.event_configuration.trigger_configuration.speed_duration_trigger_configuration.speed_threshold[0]=i.children[1].data.threshold,a.event_configuration.trigger_configuration.speed_duration_trigger_configuration.duration_threshold[0]=i.children[2].data.threshold,a.event_configuration.trigger_configuration.confidence_duration_trigger_configuration.duration_threshold=i.children[2].data.threshold)}):"adas"===i.data.type&&o.constituents.forEach(a=>{a.name===i.data.name&&(a.event_configuration.trigger_configuration.hasOwnProperty("speed_duration_trigger_configuration")||(a.event_configuration.trigger_configuration.speed_duration_trigger_configuration={}),a.event_configuration.trigger_configuration.speed_duration_trigger_configuration.hasOwnProperty("speed_threshold")||(a.event_configuration.trigger_configuration.speed_duration_trigger_configuration.speed_threshold=[]),a.event_configuration.trigger_configuration.speed_duration_trigger_configuration.hasOwnProperty("duration_threshold")||(a.event_configuration.trigger_configuration.speed_duration_trigger_configuration.duration_threshold=[]),a.event_configuration.trigger_configuration.hasOwnProperty("timestamps_count_trigger_configuration")||(a.event_configuration.trigger_configuration.timestamps_count_trigger_configuration={}),a.event_configuration.trigger_configuration.hasOwnProperty("pedestrian_count_trigger_configuration")||(a.event_configuration.trigger_configuration.pedestrian_count_trigger_configuration={}),a.event_configuration.trigger_configuration.speed_duration_trigger_configuration.speed_threshold[0]=i.children[0].data.threshold,a.event_configuration.trigger_configuration.speed_duration_trigger_configuration.duration_threshold[0]=i.children[1].data.threshold,a.event_configuration.trigger_configuration.timestamps_count_trigger_configuration.timestamps_count_threshold=i.children[2].data.threshold,a.event_configuration.trigger_configuration.pedestrian_count_trigger_configuration.pedestrian_count=i.children[3].data.threshold)})}),o}onRowSave(t){this.confirmationService.confirm({header:`Do you want to update ${t.node.data.label} settings?`,message:"Please confirm to proceed.",accept:()=>{let o;this.eventUpdateStatus.push(t.node.data.name),"compound"===t.node.data.type?(o=this.getCompoundEvent(t),this.settingsService.updateCompoundEvent(o).subscribe(i=>{if(i){this.messageService.add({severity:"success",summary:"Success",detail:`${t.node.data.label} settings updated successfully`});let a=this.compoundEvents.findIndex(r=>r.name===t.node.data.node);this.compoundEvents[a]=i}else this.messageService.add({severity:"error",summary:"Failure",detail:`${t.node.data.label} settings not updated`}),this.rollBackCompoundEvent(t.node.data.name);this.eventUpdateStatus.splice(this.eventUpdateStatus.indexOf(t.node.data.name),1)},i=>{console.log(t.node.data.name,i),this.messageService.add({severity:"error",summary:"Failure",detail:`${t.node.data.label} settings not updated`}),this.rollBackCompoundEvent(t.node.data.name),this.eventUpdateStatus.splice(this.eventUpdateStatus.indexOf(t.node.data.name),1)})):(o=this.getPrimaryEvent(t),this.settingsService.updatePrimaryEvent(o).subscribe(i=>{if(i){this.messageService.add({severity:"success",summary:"Success",detail:`${t.node.data.label} settings updated successfully`});let a=this.primaryEvents.findIndex(r=>r.name===t.node.data.name);this.primaryEvents[a]=i}else this.messageService.add({severity:"error",summary:"Failure",detail:`${t.node.data.label} settings not updated`}),this.rollBackPrimaryEvent(t.node.data.name);this.eventUpdateStatus.splice(this.eventUpdateStatus.indexOf(t.node.data.name),1)},i=>{console.log(t.node.data.name,i),this.messageService.add({severity:"error",summary:"Failure",detail:`${t.node.data.label} settings not updated`}),this.rollBackPrimaryEvent(t.node.data.name),this.eventUpdateStatus.splice(this.eventUpdateStatus.indexOf(t.node.data.name),1)}))},reject:()=>{this.messageService.add({severity:"info",summary:"Rejected",detail:`You have rejected to update ${t.node.data.label} settings`})}})}rollBackPrimaryEvent(t){let o=this.primaryEvents.find(i=>i.name===t);this.events.forEach(i=>{"compound"!==i.data.type&&i.children?.forEach(a=>{if(a.data.name===t)if(a.data.isSevere=o.event_configuration.is_severe,a.data.accidentAvoidance=o.event_configuration.is_accident_avoidance,a.data.weightage=o.event_configuration.weightage,a.data.icon=o.event_configuration.display_icon||"",a.data.label=o.event_configuration.display_label,"inattention"===t&&a.children)a.children[0].children?.forEach((r,s)=>{let d=o.event_configuration.trigger_configuration.hasOwnProperty("speed_duration_trigger_configuration")?o.event_configuration.trigger_configuration.speed_duration_trigger_configuration.speed_threshold[s]:0,p=o.event_configuration.trigger_configuration.hasOwnProperty("speed_duration_trigger_configuration")?o.event_configuration.trigger_configuration.speed_duration_trigger_configuration.duration_threshold[s]:0;r.data.label=d,r.data.threshold=p});else if("dms"===a.data.type&&a.children){let r=o.event_configuration.trigger_configuration.hasOwnProperty("confidence_duration_trigger_configuration")?o.event_configuration.trigger_configuration.confidence_duration_trigger_configuration.confidence_threshold:.75,s=o.event_configuration.trigger_configuration.hasOwnProperty("confidence_duration_trigger_configuration")?o.event_configuration.trigger_configuration.confidence_duration_trigger_configuration.duration_threshold:0,d=o.event_configuration.trigger_configuration.hasOwnProperty("speed_duration_trigger_configuration")?o.event_configuration.trigger_configuration.speed_duration_trigger_configuration.speed_threshold[0]:0;a.children[0].data.threshold=r,a.children[1].data.threshold=d,a.children[2].data.threshold=s}else if("adas"===a.type&&a.children){let r=o.event_configuration.trigger_configuration.hasOwnProperty("speed_duration_trigger_configuration")?o.event_configuration.trigger_configuration.speed_duration_trigger_configuration.speed_threshold[0]:0,s=o.event_configuration.trigger_configuration.hasOwnProperty("speed_duration_trigger_configuration")?o.event_configuration.trigger_configuration.speed_duration_trigger_configuration.duration_threshold[0]:0,d=o.event_configuration.trigger_configuration.hasOwnProperty("timestamps_count_trigger_configuration")?o.event_configuration.trigger_configuration.timestamps_count_trigger_configuration.timestamps_count_threshold:0,p=o.event_configuration.trigger_configuration.hasOwnProperty("pedestrian_count_trigger_configuration")?o.event_configuration.trigger_configuration.pedestrian_count_trigger_configuration.pedestrian_count:0;a.children[0].data.threshold=r,a.children[1].data.threshold=s,a.children[2].data.threshold=d,a.children[3].data.threshold=p}})})}rollBackCompoundEvent(t){let o=this.compoundEvents.find(i=>i.name===t);this.events.forEach(i=>{"compound"===i.data.name&&i.children?.forEach(a=>{a.data.name===t&&(a.data.label=o.event_configuration.display_label,a.data.icon=o.event_configuration.display_icon,a.data.weightage=o.event_configuration.weightage,a.data.isSevere=o.event_configuration.is_severe,a.data.accidentAvoidance=o.event_configuration.is_accident_avoidance,a.children.forEach(r=>{"inattention"===r.data.name?o.constituents.forEach(s=>{s.name===r.data.name&&r.children[0].children.forEach((d,p)=>{let h=s.event_configuration.trigger_configuration.hasOwnProperty("speed_duration_trigger_configuration")?s.event_configuration.trigger_configuration.speed_duration_trigger_configuration.speed_threshold[p]:0,v=s.event_configuration.trigger_configuration.hasOwnProperty("speed_duration_trigger_configuration")?s.event_configuration.trigger_configuration.speed_duration_trigger_configuration.duration_threshold[p]:0;d.data.label=h,d.data.threshold=v})}):"dms"===r.data.type?o.constituents.forEach(s=>{if(s.name===r.data.name){let d=s.event_configuration.trigger_configuration.hasOwnProperty("confidence_duration_trigger_configuration")?s.event_configuration.trigger_configuration.confidence_duration_trigger_configuration.confidence_threshold:.75,p=s.event_configuration.trigger_configuration.hasOwnProperty("speed_duration_trigger_configuration")?s.event_configuration.trigger_configuration.speed_duration_trigger_configuration.speed_threshold[0]:0,h=s.event_configuration.trigger_configuration.hasOwnProperty("confidence_duration_trigger_configuration")?s.event_configuration.trigger_configuration.confidence_duration_trigger_configuration.duration_threshold:0;r.children[0].data.threshold=d,r.children[1].data.threshold=p,r.children[2].data.threshold=h}}):"adas"===r.data.type&&o.constituents.forEach(s=>{if(s.name===r.data.name){let d=s.event_configuration.trigger_configuration.hasOwnProperty("speed_duration_trigger_configuration")?s.event_configuration.trigger_configuration.speed_duration_trigger_configuration.speed_threshold[0]:0,p=s.event_configuration.trigger_configuration.hasOwnProperty("speed_duration_trigger_configuration")?s.event_configuration.trigger_configuration.speed_duration_trigger_configuration.duration_threshold[0]:0,h=s.event_configuration.trigger_configuration.hasOwnProperty("timestamps_count_trigger_configuration")?s.event_configuration.trigger_configuration.timestamps_count_trigger_configuration.timestamps_count_threshold:0,v=s.event_configuration.trigger_configuration.hasOwnProperty("pedestrian_count_trigger_configuration")?s.event_configuration.trigger_configuration.pedestrian_count_trigger_configuration.pedestrian_count:0;r.children[0].data.threshold=d,r.children[1].data.threshold=p,r.children[2].data.threshold=h,r.children[3].data.threshold=v}})}))})})}onRowReset(t,o){this.confirmationService.confirm({header:`Do you want to reset ${o} settings?`,message:"Please confirm to proceed.",accept:()=>{this.eventUpdateStatus.push(t),this.settingsService.resetPrimaryEvent(t).subscribe(i=>{if(i){this.messageService.add({severity:"success",summary:"Success",detail:`${i.event_configuration.display_label} settings updated successfully`});let a=this.primaryEvents.findIndex(r=>r.name===t);this.primaryEvents[a]=i,this.rollBackPrimaryEvent(t)}else this.messageService.add({severity:"error",summary:"Failure",detail:`${i.event_configuration.display_label} settings not updated`}),this.rollBackPrimaryEvent(t);this.eventUpdateStatus.splice(this.eventUpdateStatus.indexOf(t),1)},i=>{console.log(t,i),this.messageService.add({severity:"error",summary:"Failure",detail:`${t} settings not updated`}),this.rollBackPrimaryEvent(t),this.eventUpdateStatus.splice(this.eventUpdateStatus.indexOf(t),1)})},reject:()=>{this.messageService.add({severity:"info",summary:"Rejected",detail:`You have rejected to reset ${o} settings`})}})}getPrimaryEventByName(t){return this.primaryEvents.find(o=>o.name===t)}disallowInvalidCharsInEventName(t){!["Backspace","Tab","ArrowLeft","ArrowRight","Delete","End","Home"].includes(t.key)&&!/[a-zA-Z0-9\-_\s]/.test(t.key)&&t.preventDefault()}static \u0275fac=function(o){return new(o||n)(e.Y36(m.ez),e.Y36(c.qu),e.Y36(Po.eN),e.Y36(f.gb),e.Y36(f.Nj),e.Y36(m.YP),e.Y36(f.FW))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-event-event-settings"]],inputs:{activitySettings:"activitySettings",adasSettings:"adasSettings",obstructionSettings:"obstructionSettings",fatigueSettings:"fatigueSettings"},decls:18,vars:7,consts:[["position","top-right"],[1,"grid","mt-2"],[1,"col-12"],[1,"card","p-fluid"],[1,"flex","align-items-center","justify-content-between","mb-3"],[1,"text-xl","font-bold","letter-spacing-01"],["styleClass","p-treetable-sm",3,"value","columns"],["pTemplate","header"],["pTemplate","body"],["cd",""],["pTemplate","headless"],["header","Compound Event Details",1,"p-fluid","add-compound-modal",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],[3,"style",4,"ngFor","ngForOf"],[2,"width","12%"],[1,"pi","pi-cog"],["ttEditableRow","",3,"ngClass"],[4,"ngIf"],["ttEditableColumn","",4,"ngIf"],[3,"rowNode"],["ttEditableColumn",""],["class","font-bold",4,"ngIf"],["pTemplate","input"],["pTemplate","output"],["pInputText","","type","number","step","1","required","",3,"ngModel","min","max","ngModelChange",4,"ngIf"],["pInputText","","type","text","required","","minlength","3","maxlength","40",3,"ngModel","pattern","ngModelChange","keydown",4,"ngIf"],["pInputText","","type","number","step","1","required","",3,"ngModel","min","max","ngModelChange"],[1,"ng-dirty","ng-invalid","text-red-700","mt-1"],["pInputText","","type","text","required","","minlength","3","maxlength","40",3,"ngModel","pattern","ngModelChange","keydown"],[1,"font-bold"],["pInputText","","type","number","required","","maxlength","4","step","0.05",3,"ngModel","min","max","ngModelChange"],["width","34",3,"alt","src",4,"ngIf"],["width","34",3,"alt","src"],["onLabel","Yes","offLabel","No","offIcon","pi pi-times","required","",3,"ngModel","onIcon","ngModelChange"],["class","pi pi-times","style","color: #EF4444",4,"ngIf"],["class","pi pi-check","style","color: #22C55E",4,"ngIf"],[1,"pi","pi-times",2,"color","#EF4444"],[1,"pi","pi-check",2,"color","#22C55E"],["appendTo","body","placeholder","Select Category",3,"options","ngModel","ngModelChange"],["pButton","","pRipple","","type","button","icon","pi pi-check","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-success","mr-2",2,"pointer-events","auto",3,"disabled","pTooltip","click"],["pButton","","pRipple","","type","button","icon","pi pi-refresh","class","p-button-rounded p-button-text p-button-warning","style","pointer-events: auto","tooltipPosition","top",3,"disabled","pTooltip","click",4,"ngIf"],["pButton","","pRipple","","type","button","icon","pi pi-refresh","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-warning",2,"pointer-events","auto",3,"disabled","pTooltip","click"],["pButton","","pRipple","","type","button","icon","pi pi-plus","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-success",2,"pointer-events","auto",3,"disabled","pTooltip","click"],[1,"flex","flex-column","align-items-center","p-5","surface-overlay","border-round"],[1,"border-circle","bg-primary","inline-flex","justify-content-center","align-items-center","h-6rem","w-6rem","-mt-8"],[1,"pi","pi-trash","text-5xl"],[1,"font-bold","text-2xl","block","mb-2","mt-4"],[1,"mb-0"],[1,"flex","align-items-center","gap-2","mt-4"],["pButton","","label","Save",1,"w-8rem",3,"click"],["pButton","","label","Cancel",1,"p-button-outlined","w-8rem",3,"click"],[1,"grid"],[1,"col-12","md:col-6"],[1,"flex"],[1,"text-900","w-16rem","mt-3","inline-block"],["type","text","pInputText","","autofocus","","minlength","3","maxlength","40","required","",3,"ngModel","ngClass","disabled","pattern","ngModelChange"],["appendTo","body","styleClass","w-full","placeholder","Select Events","display","chip",3,"options","group","ngModel","filter","ngClass","disabled","ngModelChange"],["pTemplate","group"],["pTemplate","default"],["appendTo","body","placeholder","Select Category",3,"options","ngModel","disabled","ngModelChange"],["onLabel","Yes","offLabel","No","offIcon","pi pi-times","required","",3,"ngModel","onIcon","disabled","ngModelChange"],[1,"flex","align-items-center","event-group-wrapper"],["pButton","","pRipple","","label","Add event",1,"ml-3",3,"disabled","click"],["pButton","","pRipple","","label","Cancel",1,"p-button-text",3,"click"]],template:function(o,i){1&o&&(e._UZ(0,"p-toast",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6,"Event Settings"),e.qZA()(),e.TgZ(7,"p-treeTable",6),e.YNc(8,Lo,4,1,"ng-template",7),e.YNc(9,Fa,17,19,"ng-template",8),e.qZA(),e._UZ(10,"p-toast"),e.TgZ(11,"p-confirmDialog",null,9),e.YNc(13,Da,10,2,"ng-template",10),e.qZA()()()(),e.TgZ(14,"p-dialog",11),e.NdJ("visibleChange",function(r){return i.showAddCompound=r}),e._UZ(15,"br"),e.YNc(16,za,34,34,"ng-template",12),e.YNc(17,La,2,3,"ng-template",13),e.qZA()),2&o&&(e.xp6(7),e.Q6J("value",i.events)("columns",i.cols),e.xp6(7),e.Akn(e.DdM(6,Va)),e.Q6J("visible",i.showAddCompound)("modal",!0))},dependencies:[g.mk,g.sg,g.O5,qo.u,Z.o,m.jx,c.Fj,c.wV,c.JJ,c.Q7,c.wO,c.nD,c.c5,c.qQ,c.Fd,c.On,w.Hq,H,S.FN,z.V,L.Lt,K.NU,N,Di,Ce,Fi,Oi,we.Q,Se],styles:[".add-compound-modal[_ngcontent-%COMP%]   p-dropdown[_ngcontent-%COMP%], .add-compound-modal[_ngcontent-%COMP%]   p-fileUpload[_ngcontent-%COMP%], .add-compound-modal[_ngcontent-%COMP%]   p-multiSelect[_ngcontent-%COMP%], .add-compound-modal[_ngcontent-%COMP%]   p-toggleButton[_ngcontent-%COMP%]{width:-webkit-fill-available}.parent-row[_ngcontent-%COMP%]{background:linear-gradient(0deg,rgba(47,111,123,.1),rgba(47,111,123,.1)),#FFFBFE!important}.event-group-wrapper[_ngcontent-%COMP%]{max-height:20rem!important}"]})}return n})(),Ba=(()=>{class n{settings;static \u0275fac=function(o){return new(o||n)};static \u0275cmp=e.Xpm({type:n,selectors:[["app-event-settings"]],inputs:{settings:"settings"},features:[e._Bn([m.ez,m.YP])],decls:3,vars:6,consts:[[3,"commonSettings"],[3,"activitySettings","adasSettings","obstructionSettings","fatigueSettings"],[3,"InattentionConfigurationSettings"]],template:function(o,i){1&o&&e._UZ(0,"app-common-settings",0)(1,"app-event-event-settings",1)(2,"app-inattention-settings",2),2&o&&(e.Q6J("commonSettings",i.settings.org_common_configurations),e.xp6(1),e.Q6J("activitySettings",i.settings.org_activity_configurations)("adasSettings",i.settings.org_adas_configurations)("obstructionSettings",i.settings.org_obstruction_configurations)("fatigueSettings",i.settings.org_fatigue_configurations),e.xp6(1),e.Q6J("InattentionConfigurationSettings",i.settings.org_inattention_configurations))},dependencies:[fo,Jo,Ra]})}return n})();const Qa=function(){return["6070"]};let Ya=(()=>{class n{messageService;rolesService;settingsService;commonSettings;rangeValuesExcellent=[50,100];rangeValuesFair=[20,50];rangeValuesRisky=[0,20];constructor(t,o,i){this.messageService=t,this.rolesService=o,this.settingsService=i}ngOnInit(){this.rangeValuesExcellent=[this.commonSettings.driver_scorecard.excellent_score,100],this.rangeValuesFair=[this.commonSettings.driver_scorecard.fair_score,this.commonSettings.driver_scorecard.excellent_score-1],this.rangeValuesRisky=[0,this.commonSettings.driver_scorecard.fair_score-1]}save(){this.settingsService.updateOrgSettings({settings:{org_common_configurations:{driver_scorecard:{excellent_score:this.rangeValuesExcellent[0],fair_score:this.rangeValuesFair[0]}}}}).subscribe(o=>{this.messageService.add({severity:"success",summary:"Success",detail:"Driver score category settings updated successfully"})},o=>{console.log(o),this.messageService.add({severity:"error",summary:"Failure",detail:"Driver score category settings not updated"})})}handleChangeExcellent(t){this.rangeValuesExcellent=[this.rangeValuesExcellent[0],100],this.rangeValuesExcellent[0]>this.rangeValuesFair[1]?(this.rangeValuesFair=[this.rangeValuesFair[0],this.rangeValuesExcellent[0]-1],this.rangeValuesRisky=[0,this.rangeValuesFair[0]-1]):this.rangeValuesFair=[this.rangeValuesFair[0],this.rangeValuesExcellent[0]-1]}handleChangeFair(t){if(this.rangeValuesFair[0]>this.rangeValuesFair[1]){let o=this.rangeValuesFair[1];this.rangeValuesFair[1]=this.rangeValuesFair[0],this.rangeValuesFair[0]=o}this.rangeValuesExcellent=[this.rangeValuesFair[1]+1,100],this.rangeValuesRisky=[0,this.rangeValuesFair[0]-1]}handleChangeRisky(t){this.rangeValuesRisky=[0,this.rangeValuesRisky[1]],this.rangeValuesRisky[1]>=this.rangeValuesFair[0]?(this.rangeValuesFair=[this.rangeValuesRisky[1]+1,this.rangeValuesFair[1]],this.rangeValuesExcellent=[this.rangeValuesFair[1]+1,100]):this.rangeValuesFair=[this.rangeValuesRisky[1]+1,this.rangeValuesFair[1]]}static \u0275fac=function(o){return new(o||n)(e.Y36(m.ez),e.Y36(f.Nj),e.Y36(f.gb))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-driver-scorecard-settings"]],inputs:{commonSettings:"commonSettings"},decls:43,vars:12,consts:[[1,"grid"],[1,"col-12"],[1,"card","p-fluid"],[1,"flex","align-items-center","justify-content-between","mb-3"],[1,"text-xl","font-bold","letter-spacing-01"],[1,"flex"],["pButton","","pRipple","","label","Save",3,"disabled","click"],["appendTo","body",3,"popup"],["menu",""],[1,"col-12","md:col-2","xl:col-1"],[1,"col-12","md:col-2","xl:col-2"],[3,"ngModel","range","ngModelChange","onChange"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._uU(5,"Driver Score Category Settings"),e.qZA(),e.TgZ(6,"div",5)(7,"button",6),e.NdJ("click",function(){return i.save()}),e.qZA(),e._UZ(8,"p-tieredMenu",7,8),e.qZA()(),e.TgZ(10,"div",1)(11,"div",0)(12,"div",9)(13,"h6"),e._uU(14,"Excellent"),e.qZA()(),e.TgZ(15,"div",10)(16,"label"),e._uU(17),e.qZA(),e._UZ(18,"br")(19,"br"),e.TgZ(20,"p-slider",11),e.NdJ("ngModelChange",function(r){return i.rangeValuesExcellent=r})("onChange",function(r){return i.handleChangeExcellent(r)}),e.qZA()()(),e._UZ(21,"br"),e.TgZ(22,"div",0)(23,"div",9)(24,"h6"),e._uU(25,"Fair"),e.qZA()(),e.TgZ(26,"div",10)(27,"label"),e._uU(28),e.qZA(),e._UZ(29,"br")(30,"br"),e.TgZ(31,"p-slider",11),e.NdJ("ngModelChange",function(r){return i.rangeValuesFair=r})("onChange",function(r){return i.handleChangeFair(r)}),e.qZA()()(),e._UZ(32,"br"),e.TgZ(33,"div",0)(34,"div",9)(35,"h6"),e._uU(36,"Risky"),e.qZA()(),e.TgZ(37,"div",10)(38,"label"),e._uU(39),e.qZA(),e._UZ(40,"br")(41,"br"),e.TgZ(42,"p-slider",11),e.NdJ("ngModelChange",function(r){return i.rangeValuesRisky=r})("onChange",function(r){return i.handleChangeRisky(r)}),e.qZA()()()()()()()),2&o&&(e.xp6(7),e.Q6J("disabled",!i.rolesService.hasAccess(e.DdM(11,Qa))),e.xp6(1),e.Q6J("popup",!0),e.xp6(9),e.hij("Range: ",i.rangeValuesExcellent[0]+" - "+i.rangeValuesExcellent[1],""),e.xp6(3),e.Q6J("ngModel",i.rangeValuesExcellent)("range",!0),e.xp6(8),e.hij("Range: ",i.rangeValuesFair[0]+" - "+i.rangeValuesFair[1],""),e.xp6(3),e.Q6J("ngModel",i.rangeValuesFair)("range",!0),e.xp6(8),e.hij("Range: ",i.rangeValuesRisky[0]+" - "+i.rangeValuesRisky[1],""),e.xp6(3),e.Q6J("ngModel",i.rangeValuesRisky)("range",!0))},dependencies:[c.JJ,c.On,w.Hq,M.yp,ue.iR]})}return n})();function Ha(n,l){}function Ka(n,l){if(1&n&&(e.TgZ(0,"div")(1,"div",20),e._uU(2),e.qZA()()),2&n){const t=e.oxw(2).$implicit,o=e.oxw();e.xp6(2),e.AsE("Enter values in range ",o.scoreVariableBounds[t.name].min," to ",o.scoreVariableBounds[t.name].max,"")}}function Ga(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"input",18),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.value=i)})("ngModelChange",function(i){e.CHM(t);const a=e.oxw().$implicit,r=e.oxw();return e.KtG(r.inputValidation(a.name,i))}),e.qZA(),e.YNc(1,Ka,3,2,"div",19)}if(2&n){const t=e.oxw().$implicit,o=e.oxw();e.Q6J("min",o.scoreVariableBounds[t.name].min)("max",o.scoreVariableBounds[t.name].max)("ngModel",t.value),e.xp6(1),e.Q6J("ngIf",!o.isScoreVariable[t.name])}}function ja(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit;e.hij(" ",t.value," ")}}function $a(n,l){1&n&&e._UZ(0,"button",21)}function Wa(n,l){if(1&n&&e._UZ(0,"button",22),2&n){const t=e.oxw().$implicit,o=e.oxw();e.Q6J("disabled",!o.isScoreVariable[t.name])}}function Xa(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onRowEditCancel(i.name))}),e.qZA()}}function el(n,l){if(1&n&&(e.TgZ(0,"tr",11)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"p-cellEditor"),e.YNc(5,Ga,2,4,"ng-template",12),e.YNc(6,ja,1,1,"ng-template",13),e.qZA()(),e.TgZ(7,"td")(8,"div",14),e.YNc(9,$a,1,0,"button",15),e.YNc(10,Wa,1,1,"button",16),e.YNc(11,Xa,1,0,"button",17),e.qZA()()()),2&n){const t=l.$implicit,o=l.editing,i=e.oxw();e.Q6J("pEditableRow",t),e.xp6(2),e.hij(" ",i.utilsService.formatLabelForCharts(t.name)," "),e.xp6(7),e.Q6J("ngIf",!o),e.xp6(1),e.Q6J("ngIf",o),e.xp6(1),e.Q6J("ngIf",o)}}const tl=function(){return["6040"]},nl=function(){return{"min-width":"50rem"}};let il=(()=>{class n{messageService;settingsService;utilsService;rolesService;commonSettings;scoreVariables=[{name:"avg_distance",value:100},{name:"avg_days",value:22},{name:"distance_multiplier",value:1e3}];constructor(t,o,i,a){this.messageService=t,this.settingsService=o,this.utilsService=i,this.rolesService=a}isScoreVariable={avg_distance:!1,avg_days:!1,distance_multiplier:!1};scoreVariableBounds={avg_distance:{min:1,max:2e3},avg_days:{min:1,max:30},distance_multiplier:{min:1,max:2e3}};ngOnInit(){for(let t in this.commonSettings.driver_score_variables)this.scoreVariables.push({name:t,value:this.commonSettings.driver_score_variables[t]});this.scoreVariables.forEach(t=>{this.inputValidation(t.name,t.value)})}inputValidation(t,o){this.isScoreVariable[t]=o>=this.scoreVariableBounds[t].min&&o<=this.scoreVariableBounds[t].max}onRowEditCancel(t){this.scoreVariables.forEach(o=>{o.name===t&&(o.value=this.commonSettings.driver_score_variables[t])})}saveVariables(){const t={};this.scoreVariables.forEach(o=>{t[o.name]=o.value}),this.commonSettings.driver_score_variables=t,this.settingsService.updateOrgSettings({settings:{org_common_configurations:{driver_score_variables:t}}}).subscribe(o=>{this.messageService.add({severity:"success",summary:"Success",detail:"Driver score variable settings updated Successfully"})},o=>{this.messageService.add({severity:"error",summary:"Failure",detail:"Driver score variable settings not updated"})})}static \u0275fac=function(o){return new(o||n)(e.Y36(m.ez),e.Y36(f.gb),e.Y36(f.FW),e.Y36(f.Nj))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-driver-score-variable-settings"]],inputs:{commonSettings:"commonSettings"},features:[e._Bn([m.ez])],decls:12,vars:5,consts:[["position","top-right"],[1,"grid","mt-2"],[1,"col-12"],[1,"card","p-fluid"],[1,"flex","align-items-center","justify-content-between","mb-3"],[1,"text-xl","font-bold","letter-spacing-01"],[1,"flex"],["pButton","","pRipple","","label","Save",3,"disabled","click"],["dataKey","name","editMode","row",3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],[3,"pEditableRow"],["pTemplate","input"],["pTemplate","output"],[1,"flex","align-items-center","justify-content-center","gap-2"],["pButton","","pRipple","","type","button","pInitEditableRow","","icon","pi pi-pencil","class","p-button-rounded p-button-text",4,"ngIf"],["pButton","","pRipple","","type","button","pSaveEditableRow","","icon","pi pi-check","class","p-button-rounded p-button-text p-button-success mr-2",3,"disabled",4,"ngIf"],["pButton","","pRipple","","type","button","pCancelEditableRow","","icon","pi pi-times","class","p-button-rounded p-button-text p-button-danger",3,"click",4,"ngIf"],["pInputText","","type","number","required","","maxlength","4",3,"min","max","ngModel","ngModelChange"],[4,"ngIf"],[1,"ng-dirty","ng-invalid","text-red-700","mt-1"],["pButton","","pRipple","","type","button","pInitEditableRow","","icon","pi pi-pencil",1,"p-button-rounded","p-button-text"],["pButton","","pRipple","","type","button","pSaveEditableRow","","icon","pi pi-check",1,"p-button-rounded","p-button-text","p-button-success","mr-2",3,"disabled"],["pButton","","pRipple","","type","button","pCancelEditableRow","","icon","pi pi-times",1,"p-button-rounded","p-button-text","p-button-danger",3,"click"]],template:function(o,i){1&o&&(e._UZ(0,"p-toast",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6,"Driver Score Variables"),e.qZA(),e.TgZ(7,"div",6)(8,"button",7),e.NdJ("click",function(){return i.saveVariables()}),e.qZA()()(),e.TgZ(9,"p-table",8),e.YNc(10,Ha,0,0,"ng-template",9),e.YNc(11,el,12,5,"ng-template",10),e.qZA()()()()),2&o&&(e.xp6(8),e.Q6J("disabled",!i.rolesService.hasAccess(e.DdM(3,tl))),e.xp6(1),e.Q6J("value",i.scoreVariables)("tableStyle",e.DdM(4,nl)))},dependencies:[g.O5,Z.o,C.iA,m.jx,C.YL,C.D$,C.Pv,C.U1,C.wT,c.Fj,c.wV,c.JJ,c.Q7,c.nD,c.qQ,c.Fd,c.On,w.Hq,S.FN]})}return n})();function ol(n,l){1&n&&(e.TgZ(0,"div")(1,"div",15),e._uU(2,"Enter a Threshold in range 0.75 to 1 "),e.qZA()())}const al=function(){return["6070"]},ll=function(n){return{"ng-invalid ng-dirty":n}};let rl=(()=>{class n{messageService;fb;settingsService;rolesService;org_frec_configurations;frecSettingsForm;constructor(t,o,i,a){this.messageService=t,this.fb=o,this.settingsService=i,this.rolesService=a,this.frecSettingsForm=this.fb.group({minimum_driver_verification_threshold:[null,[c.kI.required,c.kI.min(.75),c.kI.max(1)]]},{updateOn:"change"})}ngOnInit(){this.frecSettingsForm.patchValue(this.org_frec_configurations)}get frecF(){return this.frecSettingsForm.controls}save(){this.settingsService.updateOrgSettings({settings:{org_frec_configurations:this.frecSettingsForm.value}}).subscribe(t=>{this.messageService.add({severity:"success",summary:"Success",detail:"Driver verification settings updated successfully"})},t=>{console.log(t),this.messageService.add({severity:"error",summary:"Failure",detail:"Driver verification settings not updated"})})}static \u0275fac=function(o){return new(o||n)(e.Y36(m.ez),e.Y36(c.qu),e.Y36(f.gb),e.Y36(f.Nj))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-driver-camera-settings"]],inputs:{org_frec_configurations:"org_frec_configurations"},decls:17,vars:12,consts:[[1,"grid"],[1,"col-12"],[1,"card","p-fluid"],["onclick","save()",3,"formGroup"],[1,"flex","align-items-center","justify-content-between","mb-3"],[1,"text-xl","font-bold","letter-spacing-01"],[1,"flex"],["pButton","","pRipple","","label","Save",3,"disabled","click"],["appendTo","body",3,"popup"],["menu",""],[1,"p-formgrid"],[1,"field","col"],["htmlFor","minimum_driver_verification_threshold"],["id","minimum_driver_verification_threshold","type","number","formControlName","minimum_driver_verification_threshold",3,"showButtons","min","max","step","ngClass"],[4,"ngIf"],[1,"ng-dirty","ng-invalid","text-red-700","mt-1"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"div",4)(5,"div",5),e._uU(6,"Driver Verification Settings"),e.qZA(),e.TgZ(7,"div",6)(8,"button",7),e.NdJ("click",function(){return i.save()}),e.qZA(),e._UZ(9,"p-tieredMenu",8,9),e.qZA()(),e.TgZ(11,"div",10)(12,"div",11)(13,"label",12),e._uU(14,"Confidence Threshold for Driver Verification"),e.qZA(),e._UZ(15,"p-inputNumber",13),e.YNc(16,ol,3,0,"div",14),e.qZA()()()()()()),2&o&&(e.xp6(3),e.Q6J("formGroup",i.frecSettingsForm),e.xp6(5),e.Q6J("disabled",i.frecF.minimum_driver_verification_threshold.errors||!i.rolesService.hasAccess(e.DdM(9,al))),e.xp6(1),e.Q6J("popup",!0),e.xp6(6),e.Q6J("showButtons",!0)("min",.75)("max",1)("step",.01)("ngClass",e.VKq(10,ll,!i.org_frec_configurations.minimum_driver_verification_threshold)),e.xp6(1),e.Q6J("ngIf",i.frecF.minimum_driver_verification_threshold.errors))},dependencies:[g.mk,g.O5,c._Y,c.JJ,c.JL,w.Hq,c.sg,c.u,M.yp,J.Rn]})}return n})(),sl=(()=>{class n{settings;static \u0275fac=function(o){return new(o||n)};static \u0275cmp=e.Xpm({type:n,selectors:[["app-driver-settings"]],inputs:{settings:"settings"},decls:3,vars:3,consts:[[3,"org_frec_configurations"],[3,"commonSettings"]],template:function(o,i){1&o&&e._UZ(0,"app-driver-camera-settings",0)(1,"app-driver-scorecard-settings",1)(2,"app-driver-score-variable-settings",1),2&o&&(e.Q6J("org_frec_configurations",i.settings.org_frec_configurations),e.xp6(1),e.Q6J("commonSettings",i.settings.org_common_configurations),e.xp6(1),e.Q6J("commonSettings",i.settings.org_common_configurations))},dependencies:[Ya,il,rl]})}return n})();function cl(n,l){1&n&&(e.TgZ(0,"div")(1,"div",22),e._uU(2,"Enter a valid url"),e.qZA()())}function dl(n,l){1&n&&(e.TgZ(0,"div")(1,"div",22),e._uU(2,"Enter a valid url"),e.qZA()())}function pl(n,l){1&n&&(e.TgZ(0,"div")(1,"div",22),e._uU(2,"Enter a valid url"),e.qZA()())}function ul(n,l){1&n&&(e.TgZ(0,"div")(1,"div",22),e._uU(2,"Enter a valid url"),e.qZA()())}function gl(n,l){1&n&&(e.TgZ(0,"div")(1,"div",22),e._uU(2,"Enter a valid url"),e.qZA()())}const _l=function(){return["6080"]},q=function(n){return{"ng-invalid ng-dirty":n}};let ml=(()=>{class n{messageService;fb;settingsService;rolesService;callbackUrlSettings;callBackupUrlForm;constructor(t,o,i,a){this.messageService=t,this.fb=o,this.settingsService=i,this.rolesService=a,this.callBackupUrlForm=this.fb.group({webhook_api_url_list:[null,[c.kI.pattern("(https?://)?([\\w.-]+@[\\da-z.-]+)\\.([a-z.]{2,6})([/\\w .-]*)*/?")]],dms_api_url_list:[null,[c.kI.pattern("(https?://)?([\\w.-]+@[\\da-z.-]+)\\.([a-z.]{2,6})([/\\w .-]*)*/?")]],adas_api_url_list:[null,[c.kI.pattern("(https?://)?([\\w.-]+@[\\da-z.-]+)\\.([a-z.]{2,6})([/\\w .-]*)*/?")]],enrollment_api_url_list:[null,[c.kI.pattern("(https?://)?([\\w.-]+@[\\da-z.-]+)\\.([a-z.]{2,6})([/\\w .-]*)*/?")]],verification_api_url_list:[null,[c.kI.pattern("(https?://)?([\\w.-]+@[\\da-z.-]+)\\.([a-z.]{2,6})([/\\w .-]*)*/?")]]},{updateOn:"change"})}ngOnInit(){this.callBackupUrlForm.patchValue(this.callbackUrlSettings)}get f(){return this.callBackupUrlForm.controls}save(){Object.keys(this.callBackupUrlForm.value).forEach(t=>{let o=this.callBackupUrlForm.value[t];this.callBackupUrlForm.value[t]="string"==typeof o?[o]:o}),this.settingsService.updateOrgSettings({settings:{org_callback_url_configurations:this.callBackupUrlForm.value}}).subscribe(t=>{this.messageService.add({severity:"success",summary:"Success",detail:"Callback URL settings updated successfully"})},t=>{console.log(t),this.messageService.add({severity:"error",summary:"Failure",detail:"Callback URL settings not updated"})})}static \u0275fac=function(o){return new(o||n)(e.Y36(m.ez),e.Y36(c.qu),e.Y36(f.gb),e.Y36(f.Nj))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-api-integration-settings"]],inputs:{callbackUrlSettings:"callbackUrlSettings"},features:[e._Bn([m.ez])],decls:38,vars:23,consts:[["position","top-right"],[1,"grid"],[1,"col-12"],[1,"card","p-fluid"],[3,"formGroup","ngSubmit"],[1,"flex","align-items-center","justify-content-between","mb-3"],[1,"text-xl","font-bold","letter-spacing-01"],[1,"flex"],["pButton","","pRipple","","label","Save","type","submit",3,"disabled"],[1,"p-formgrid","grid"],[1,"field","col"],["htmlFor","webhook_api_url_list"],["pInputText","","id","webhook_api_url_list","type","text","formControlName","webhook_api_url_list",3,"ngClass"],[4,"ngIf"],["htmlFor","dms_api_url_list"],["pInputText","","id","dms_api_url_list","type","text","formControlName","dms_api_url_list",3,"ngClass"],["htmlFor","adas_api_url_list"],["pInputText","","id","adas_api_url_list","type","text","formControlName","adas_api_url_list",3,"ngClass"],["htmlFor","enrollment_api_url_list"],["pInputText","","id","enrollment_api_url_list","type","text","formControlName","enrollment_api_url_list",3,"ngClass"],["htmlFor","verification_api_url_list"],["pInputText","","id","verification_api_url_list","type","text","formControlName","verification_api_url_list",3,"ngClass"],[1,"ng-dirty","ng-invalid","text-red-700","mt-1"]],template:function(o,i){1&o&&(e._UZ(0,"p-toast",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"form",4),e.NdJ("ngSubmit",function(){return i.save()}),e.TgZ(5,"div",5)(6,"div",6),e._uU(7,"Callback URL Settings"),e.qZA(),e.TgZ(8,"div",7),e._UZ(9,"button",8),e.qZA()(),e.TgZ(10,"div",9)(11,"div",10)(12,"label",11),e._uU(13,"Webhook API URL"),e.qZA(),e._UZ(14,"input",12),e.YNc(15,cl,3,0,"div",13),e.qZA(),e.TgZ(16,"div",10)(17,"label",14),e._uU(18,"DMS API URL"),e.qZA(),e._UZ(19,"input",15),e.YNc(20,dl,3,0,"div",13),e.qZA()(),e.TgZ(21,"div",9)(22,"div",10)(23,"label",16),e._uU(24,"ADAS API URL"),e.qZA(),e._UZ(25,"input",17),e.YNc(26,pl,3,0,"div",13),e.qZA(),e.TgZ(27,"div",10)(28,"label",18),e._uU(29,"Enrollment API URL"),e.qZA(),e._UZ(30,"input",19),e.YNc(31,ul,3,0,"div",13),e.qZA()(),e.TgZ(32,"div",9)(33,"div",10)(34,"label",20),e._uU(35,"Verification API URL"),e.qZA(),e._UZ(36,"input",21),e.YNc(37,gl,3,0,"div",13),e.qZA()()()()()()),2&o&&(e.xp6(4),e.Q6J("formGroup",i.callBackupUrlForm),e.xp6(5),e.Q6J("disabled",i.callBackupUrlForm.invalid||!i.rolesService.hasAccess(e.DdM(12,_l))),e.xp6(5),e.Q6J("ngClass",e.VKq(13,q,!i.callbackUrlSettings.webhook_api_url_list)),e.xp6(1),e.Q6J("ngIf",null==i.f.webhook_api_url_list.errors?null:i.f.webhook_api_url_list.errors.pattern),e.xp6(4),e.Q6J("ngClass",e.VKq(15,q,!i.callbackUrlSettings.dms_api_url_list)),e.xp6(1),e.Q6J("ngIf",null==i.f.dms_api_url_list.errors?null:i.f.dms_api_url_list.errors.pattern),e.xp6(5),e.Q6J("ngClass",e.VKq(17,q,!i.callbackUrlSettings.adas_api_url_list)),e.xp6(1),e.Q6J("ngIf",null==i.f.adas_api_url_list.errors?null:i.f.adas_api_url_list.errors.pattern),e.xp6(4),e.Q6J("ngClass",e.VKq(19,q,!i.callbackUrlSettings.enrollment_api_url_list)),e.xp6(1),e.Q6J("ngIf",null==i.f.enrollment_api_url_list.errors?null:i.f.enrollment_api_url_list.errors.pattern),e.xp6(5),e.Q6J("ngClass",e.VKq(21,q,!i.callbackUrlSettings.verification_api_url_list)),e.xp6(1),e.Q6J("ngIf",null==i.f.verification_api_url_list.errors?null:i.f.verification_api_url_list.errors.pattern))},dependencies:[g.mk,g.O5,Z.o,c._Y,c.Fj,c.JJ,c.JL,w.Hq,c.sg,c.u,S.FN]})}return n})();function hl(n,l){1&n&&(e.TgZ(0,"tr")(1,"th",24),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",25),e._uU(4,"Compound Event Name "),e._UZ(5,"p-sortIcon",26),e.qZA(),e.TgZ(6,"th",27),e._uU(7,"Events "),e._UZ(8,"p-sortIcon",28),e.qZA(),e._UZ(9,"th"),e.qZA())}function fl(n,l){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",29),e.qZA(),e.TgZ(3,"td",30)(4,"span",31),e._uU(5,"Compound Event"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",30)(8,"span",31),e._uU(9,"Events"),e.qZA(),e._uU(10),e.qZA(),e._UZ(11,"td"),e.qZA()),2&n){const t=l.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.label," "),e.xp6(4),e.hij(" ",t.events," ")}}function vl(n,l){1&n&&(e.TgZ(0,"div"),e._UZ(1,"span",33),e.TgZ(2,"div",41),e._uU(3,"Compound Event Name is required."),e.qZA()())}function bl(n,l){if(1&n&&(e.TgZ(0,"div",42)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=l.$implicit;e.xp6(2),e.Oqu(t.label)}}function Tl(n,l){1&n&&(e.TgZ(0,"div"),e._UZ(1,"span",33),e.TgZ(2,"div",41),e._uU(3,"DMS/ADAS Event is required."),e.qZA()())}function Cl(n,l){if(1&n&&(e.TgZ(0,"div",42)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=l.$implicit;e.xp6(2),e.Oqu(t.label)}}function wl(n,l){1&n&&(e.TgZ(0,"div"),e._UZ(1,"span",33),e.TgZ(2,"div",41),e._uU(3,"Telematics Event is required."),e.qZA()())}const $=function(n){return{"ng-invalid ng-dirty":n}},U=function(){return["6060"]},W=function(){return{width:"250px"}};function Sl(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",0)(1,"div",32)(2,"div",5)(3,"span",33),e._uU(4," Compound Event Name"),e.qZA(),e.TgZ(5,"input",34),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.compound_event_name=i)})("input",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.checkInputSelect())}),e.qZA()(),e.YNc(6,vl,4,0,"div",23),e.qZA(),e.TgZ(7,"div",35)(8,"div",5)(9,"span",33),e._uU(10," Select DMS/ADAS Events:"),e.qZA(),e.TgZ(11,"p-multiSelect",36),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.firstSelectedEvents=i)})("onChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.checkMultiSelect())}),e.YNc(12,bl,3,1,"ng-template",37),e.qZA()(),e.TgZ(13,"div",5),e.YNc(14,Tl,4,0,"div",23),e.qZA()(),e.TgZ(15,"div",35)(16,"div",5)(17,"span",33),e._uU(18," Select TELEMATICS Events: "),e.qZA(),e.TgZ(19,"p-multiSelect",38),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.secondSelectedEvents=i)})("onChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.checkMultiSelect())}),e.YNc(20,Cl,3,1,"ng-template",37),e.qZA()(),e.TgZ(21,"div",5),e.YNc(22,wl,4,0,"div",23),e.qZA()(),e.TgZ(23,"div",35)(24,"div",5)(25,"span",39),e._uU(26," Severity :"),e.qZA(),e.TgZ(27,"p-dropdown",40),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.selected_severity_level=i)}),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.compound_event_name)("ngClass",e.VKq(27,$,t.is_cmp_event_name_empty))("disabled",!t.rolesService.hasAccess(e.DdM(29,U))),e.xp6(1),e.Q6J("ngIf",t.is_cmp_event_name_empty),e.xp6(5),e.Akn(e.DdM(30,W)),e.Q6J("options",t.first_selector_events)("group",!0)("ngModel",t.firstSelectedEvents)("ngClass",e.VKq(31,$,t.is_first_selector_empty))("filter",!1)("disabled",!t.rolesService.hasAccess(e.DdM(33,U))),e.xp6(3),e.Q6J("ngIf",t.is_first_selector_empty),e.xp6(5),e.Akn(e.DdM(34,W)),e.Q6J("options",t.second_selector_events)("group",!0)("ngModel",t.secondSelectedEvents)("ngClass",e.VKq(35,$,t.is_second_selector_empty))("filter",!1)("disabled",!t.rolesService.hasAccess(e.DdM(37,U))),e.xp6(3),e.Q6J("ngIf",t.is_second_selector_empty),e.xp6(5),e.Akn(e.DdM(38,W)),e.Q6J("options",t.severity_levels)("ngModel",t.selected_severity_level)("disabled",!t.rolesService.hasAccess(e.DdM(39,U)))}}function yl(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.saveEvent())}),e.qZA(),e.TgZ(1,"button",44),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.hideDialog())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",!t.rolesService.hasAccess(e.DdM(2,U)))("disabled",t.is_cmp_event_name_empty||t.is_first_selector_empty||t.is_second_selector_empty)}}function xl(n,l){if(1&n&&(e.TgZ(0,"span"),e._uU(1,"Are you sure you want to delete "),e.TgZ(2,"b"),e._uU(3),e.qZA(),e._uU(4,"?"),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Oqu(t.event.name)}}function Il(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.deleteeventDialog=!1)}),e.qZA(),e.TgZ(1,"button",46),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.confirmDelete())}),e.qZA()}}function El(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.deleteeventsDialog=!1)}),e.qZA(),e.TgZ(1,"button",46),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.confirmDeleteSelected())}),e.qZA()}}const Zl=function(){return["compoundEvent","events"]},kl=function(){return[10,20,30]},Al=function(){return{width:"980px"}},Ze=function(){return{width:"450px"}};let Ml=(()=>{class n{messageService;fb;rolesService;eventsService;eventDialog=!1;deleteeventDialog=!1;deleteeventsDialog=!1;event={};events=[];is_cmp_event_name_empty=!0;is_first_selector_empty=!0;is_second_selector_empty=!0;is_severity_selector=!0;first_selector_events=[];second_selector_events=[];compound_events;compound_event_name="";roles=[];selectedEvents=[];firstSelectedEvents=[];secondSelectedEvents=[];selected_severity_level="LOW";cols=[];statuses=[];rowsPerPageOptions=[5,10,20];severity_levels=["HIGH","MEDIUM","LOW"];constructor(t,o,i,a){this.messageService=t,this.fb=o,this.rolesService=i,this.eventsService=a}ngOnInit(){this.getAllEventsList()}getAllEventsList(){this.first_selector_events=[],this.second_selector_events=[],this.eventsService.getEventsLabels().subscribe(t=>{this.events=t,this.events.forEach(o=>{"ADAS"==o.value||"DMS"==o.value?this.first_selector_events.push(o):"TELEMATICS"==o.value?this.second_selector_events.push(o):"COMPOUND_EVENT"==o.value&&(this.compound_events=o.items)})})}checkMultiSelect(){this.is_first_selector_empty=this.firstSelectedEvents.length<1,this.is_second_selector_empty=this.secondSelectedEvents.length<1}openNew(){this.event={},this.eventDialog=!0}deleteSelectedevents(){this.deleteeventsDialog=!0}editEvent(t){this.eventDialog=!0}deleteEvent(t){this.deleteeventDialog=!0,this.event={...t}}confirmDeleteSelected(){this.deleteeventsDialog=!1,this.events=this.events.filter(t=>!this.selectedEvents.includes(t)),this.messageService.add({severity:"success",summary:"Successful",detail:"events Deleted",life:3e3}),this.selectedEvents=[]}confirmDelete(){this.deleteeventDialog=!1,this.events=this.events.filter(t=>t.id!==this.event.id),this.messageService.add({severity:"success",summary:"Successful",detail:"event Deleted",life:3e3}),this.event={}}hideDialog(){this.eventDialog=!1,this.is_cmp_event_name_empty=!1,this.is_first_selector_empty=!1,this.is_second_selector_empty=!1,this.is_severity_selector=!0,this.firstSelectedEvents=[],this.secondSelectedEvents=[],this.compound_events=[],this.compound_event_name="",this.selected_severity_level="LOW"}checkInputSelect(){this.is_cmp_event_name_empty=this.compound_event_name.length<1}saveEvent(){var t=this.compound_events;t.push({events:this.firstSelectedEvents.concat(this.secondSelectedEvents).sort((o,i)=>o>i?1:o<i?-1:0),label:this.compound_event_name,type:"COMPOUND_EVENT",icon:"",value:this.firstSelectedEvents.concat(this.secondSelectedEvents).sort((o,i)=>o>i?1:o<i?-1:0).join("+")}),this.eventsService.addCompoundEvent({items:t}).subscribe(o=>{this.getAllEventsList(),this.events=[...this.events],this.hideDialog(),this.event={},this.messageService.add({severity:"success",summary:"Success",detail:"Event created successfully"})})}onGlobalFilter(t,o){t.filterGlobal(o.target.value,"contains")}static \u0275fac=function(o){return new(o||n)(e.Y36(m.ez),e.Y36(c.qu),e.Y36(f.Nj),e.Y36(f.nC))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-compund-events"]],features:[e._Bn([m.ez])],decls:33,vars:31,consts:[[1,"grid"],[1,"col-12"],[1,"card","p-fluid"],[1,"flex","align-items-center","justify-content-between","mb-3"],[1,"text-xl","font-bold","letter-spacing-01"],[1,"flex"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search Event...",1,"w-full","sm:w-auto",3,"input"],["pButton","","pRipple","","label","Add Compound Event",1,"ml-3",3,"disabled","click"],["appendTo","body",3,"popup"],["menu",""],["responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","selectionMode","multiple","dataKey","id",3,"value","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["header","Compound Event Details",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[2,"width","3rem"],["pSortableColumn","compoundEvent"],["field","compoundEvent"],["pSortableColumn","events"],["field","events"],[3,"value"],[2,"width","17%","min-width","10rem"],[1,"p-column-title"],[1,"col-12","md:col-12"],[1,"text-900","w-16rem","mt-3","inline-block"],["type","text","pInputText","","autofocus","","required","",3,"ngModel","ngClass","disabled","ngModelChange","input"],[1,"col-12","md:col-6"],["defaultLabel","Select a Events","display","chip","appendTo","body",3,"options","group","ngModel","ngClass","filter","disabled","ngModelChange","onChange"],["pTemplate","group"],["appendTo","body","defaultLabel","Select a Events","display","chip",3,"options","group","ngModel","ngClass","filter","disabled","ngModelChange","onChange"],[1,"text-900","w-16rem","mt-3"],["appendTo","body",3,"options","ngModel","disabled","ngModelChange"],[1,"ng-dirty","ng-invalid","text-red-700","mt-1"],[1,"flex","align-items-center"],["pButton","","pRipple","","label","Add event",1,"ml-3",3,"disabled","click"],["pButton","","pRipple","","label","Cancel",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,i){if(1&o){const a=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"p-toast"),e.TgZ(4,"div",3)(5,"div",4),e._uU(6,"Compound Events"),e.qZA(),e.TgZ(7,"div",5)(8,"div",6)(9,"span",7),e._UZ(10,"i",8),e.TgZ(11,"input",9),e.NdJ("input",function(s){e.CHM(a);const d=e.MAs(16);return e.KtG(i.onGlobalFilter(d,s))}),e.qZA()()(),e.TgZ(12,"button",10),e.NdJ("click",function(){return i.openNew()}),e.qZA(),e._UZ(13,"p-tieredMenu",11,12),e.qZA()(),e.TgZ(15,"p-table",13,14),e.NdJ("selectionChange",function(s){return i.selectedEvents=s}),e.YNc(17,hl,10,0,"ng-template",15),e.YNc(18,fl,12,3,"ng-template",16),e.qZA()()()(),e.TgZ(19,"p-dialog",17),e.NdJ("visibleChange",function(s){return i.eventDialog=s}),e.YNc(20,Sl,28,40,"ng-template",18),e.YNc(21,yl,2,3,"ng-template",19),e.qZA(),e.TgZ(22,"p-dialog",20),e.NdJ("visibleChange",function(s){return i.deleteeventDialog=s}),e.TgZ(23,"div",21),e._UZ(24,"i",22),e.YNc(25,xl,5,1,"span",23),e.qZA(),e.YNc(26,Il,2,0,"ng-template",19),e.qZA(),e.TgZ(27,"p-dialog",20),e.NdJ("visibleChange",function(s){return i.deleteeventsDialog=s}),e.TgZ(28,"div",21),e._UZ(29,"i",22),e.TgZ(30,"span"),e._uU(31,"Are you sure you want to delete selected events?"),e.qZA()(),e.YNc(32,El,2,0,"ng-template",19),e.qZA()}2&o&&(e.xp6(12),e.Q6J("disabled",!i.rolesService.hasAccess(e.DdM(25,U))),e.xp6(1),e.Q6J("popup",!0),e.xp6(2),e.Q6J("value",i.compound_events)("columns",i.cols)("rows",10)("globalFilterFields",e.DdM(26,Zl))("rows",10)("paginator",!0)("rowsPerPageOptions",e.DdM(27,kl))("showCurrentPageReport",!0)("selection",i.selectedEvents)("rowHover",!0),e.xp6(4),e.Akn(e.DdM(28,Al)),e.Q6J("visible",i.eventDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(29,Ze)),e.Q6J("visible",i.deleteeventDialog)("modal",!0),e.xp6(3),e.Q6J("ngIf",i.event),e.xp6(2),e.Akn(e.DdM(30,Ze)),e.Q6J("visible",i.deleteeventsDialog)("modal",!0))},dependencies:[g.mk,g.O5,Z.o,C.iA,m.jx,C.lQ,C.fz,C.UA,C.Mo,c.Fj,c.JJ,c.Q7,c.On,w.Hq,M.yp,S.FN,z.V,L.Lt,K.NU],styles:[".p-multiselect-panel .p-multiselect-items{max-height:350px}"]})}return n})();const Nl=function(){return["6030"]};let Fl=(()=>{class n{messageService;fb;settingsService;rolesService;org_cloud_feature_configurations;cloudFeatureSettingsForm;constructor(t,o,i,a){this.messageService=t,this.fb=o,this.settingsService=i,this.rolesService=a,this.cloudFeatureSettingsForm=this.fb.group({enable_dms_feature:[null,[c.kI.required]],enable_face_id_feature:[null,[c.kI.required]],enable_adas_feature:[null,[c.kI.required]],enable_seat_belt_feature:[null,[c.kI.required]],enable_face_obfuscation_feature:[null,[c.kI.required]],enable_background_obfuscation_feature:[null,[c.kI.required]],enable_license_plate_masking_feature:[null,[c.kI.required]],enable_kpi_feature:[null,[c.kI.required]],enable_device_health_feature:[null,[c.kI.required]]},{updateOn:"change"})}ngOnInit(){this.cloudFeatureSettingsForm.patchValue(this.org_cloud_feature_configurations)}get f(){return this.cloudFeatureSettingsForm.controls}save(){this.settingsService.updateOrgSettings({settings:{org_cloud_feature_configurations:this.cloudFeatureSettingsForm.value}}).subscribe(t=>{this.messageService.add({severity:"success",summary:"Success",detail:"Cloud settings updated successfully"})},t=>{console.log(t),this.messageService.add({severity:"error",summary:"Failure",detail:"Cloud settings not updated"})})}static \u0275fac=function(o){return new(o||n)(e.Y36(m.ez),e.Y36(c.qu),e.Y36(f.gb),e.Y36(f.Nj))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-cloud-feature-settings"]],inputs:{org_cloud_feature_configurations:"org_cloud_feature_configurations"},features:[e._Bn([m.ez])],decls:72,vars:3,consts:[["position","top-right"],[1,"grid"],[1,"col-12"],[1,"card","p-fluid"],[3,"formGroup","ngSubmit"],[1,"flex","align-items-center","justify-content-between","mb-3"],[1,"text-xl","font-bold","letter-spacing-01"],[1,"flex"],["pButton","","pRipple","","label","Save",3,"disabled"],[1,"p-formgrid","grid"],[1,"md:col-3","col-6","mt-1","p-fluid"],[1,"ui-fluid","formgrid","grid"],[1,"text-lg","font-bold","letter-spacing-01","col-12"],[1,"field","col-12"],["htmlFor","enable_dms_feature",1,"font-semibold","mt-3"],["formControlName","enable_dms_feature"],["htmlFor","enable_face_id_feature",1,"font-semibold"],["formControlName","enable_face_id_feature"],["htmlFor","enable_adas_feature",1,"font-semibold"],["formControlName","enable_adas_feature"],["htmlFor","enable_seat_belt_feature",1,"font-semibold"],["formControlName","enable_seat_belt_feature"],["htmlFor","enable_face_obfuscation_feature",1,"font-semibold","mt-3"],["formControlName","enable_face_obfuscation_feature"],["htmlFor","enable_background_obfuscation_feature",1,"font-semibold","mt-1"],["formControlName","enable_background_obfuscation_feature"],["htmlFor","enable_license_plate_masking_feature",1,"font-semibold"],["formControlName","enable_license_plate_masking_feature"],["htmlFor","enable_kpi_feature",1,"font-semibold","mt-3"],["formControlName","enable_kpi_feature"],["htmlFor","enable_device_health_feature",1,"font-semibold","mt-3"],["formControlName","enable_device_health_feature"]],template:function(o,i){1&o&&(e._UZ(0,"p-toast",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"form",4),e.NdJ("ngSubmit",function(){return i.save()}),e.TgZ(5,"div",5)(6,"div",6),e._uU(7,"Cloud Feature Settings"),e.qZA(),e.TgZ(8,"div",7),e._UZ(9,"button",8),e.qZA()(),e.TgZ(10,"div",9)(11,"div",10)(12,"div",11)(13,"div",12),e._uU(14,"AI Feature Settings"),e.qZA(),e.TgZ(15,"div",13)(16,"label",14),e._uU(17,"Enable DMS"),e.qZA(),e.TgZ(18,"div"),e._UZ(19,"p-inputSwitch",15),e.qZA()(),e.TgZ(20,"div",13)(21,"label",16),e._uU(22,"Enable FaceID/DriverID"),e.qZA(),e.TgZ(23,"div"),e._UZ(24,"p-inputSwitch",17),e.qZA()(),e.TgZ(25,"div",13)(26,"label",18),e._uU(27,"Enable ADAS"),e.qZA(),e.TgZ(28,"div"),e._UZ(29,"p-inputSwitch",19),e.qZA()(),e.TgZ(30,"div",13)(31,"label",20),e._uU(32,"Enable Seat Belt"),e.qZA(),e.TgZ(33,"div"),e._UZ(34,"p-inputSwitch",21),e.qZA()()()(),e.TgZ(35,"div",10)(36,"div",11)(37,"div",12),e._uU(38,"Privacy Feature Settings"),e.qZA(),e.TgZ(39,"div",13)(40,"label",22),e._uU(41,"Enable Face Obfuscation"),e.qZA(),e.TgZ(42,"div"),e._UZ(43,"p-inputSwitch",23),e.qZA()(),e.TgZ(44,"div",13)(45,"label",24),e._uU(46,"Enable Background Obfuscation"),e.qZA(),e.TgZ(47,"div"),e._UZ(48,"p-inputSwitch",25),e.qZA()(),e.TgZ(49,"div",13)(50,"label",26),e._uU(51,"Enable License Plate Masking"),e.qZA(),e.TgZ(52,"div"),e._UZ(53,"p-inputSwitch",27),e.qZA()()()(),e.TgZ(54,"div",10)(55,"div",11)(56,"div",12),e._uU(57,"Performance Feature Settings"),e.qZA(),e.TgZ(58,"div",13)(59,"label",28),e._uU(60,"Enable KPI Feature"),e.qZA(),e.TgZ(61,"div"),e._UZ(62,"p-inputSwitch",29),e.qZA()()()(),e.TgZ(63,"div",10)(64,"div",11)(65,"div",12),e._uU(66,"Operation Feature Settings"),e.qZA(),e.TgZ(67,"div",13)(68,"label",30),e._uU(69,"Enable Device Health"),e.qZA(),e.TgZ(70,"div"),e._UZ(71,"p-inputSwitch",31),e.qZA()()()()()()()()()),2&o&&(e.xp6(4),e.Q6J("formGroup",i.cloudFeatureSettingsForm),e.xp6(5),e.Q6J("disabled",!i.rolesService.hasAccess(e.DdM(2,Nl))))},dependencies:[c._Y,c.JJ,c.JL,w.Hq,c.sg,c.u,S.FN,ce.Ql]})}return n})();var ke=u(5934),Dl=u(676);function Ul(n,l){1&n&&(e.TgZ(0,"tr")(1,"th",12),e._uU(2,"Vehicle Type"),e.qZA(),e.TgZ(3,"th",13),e._uU(4,"Cost/Mile "),e.qZA(),e.TgZ(5,"th",13),e._uU(6,"Utilization/Vehicle.Day "),e.qZA()())}function Ol(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"td",17)(1,"p-inputNumber",18),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.costPerMile=i)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngModel",t.costPerMile)("prefix",o.orgCurrency)("showButtons",!0)("minFractionDigits",1)("min",0)("max",1e5)}}function Jl(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"td",19)(1,"p-inputNumber",20),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.utilisationPerMile=i)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.MGl("suffix"," ",o.distance_units,""),e.Q6J("ngModel",t.utilisationPerMile)("showButtons",!0)("min",0)("max",1e5)("maxFractionDigits",2)}}const Pl=function(n){return{"surface-50":n}},ql=function(n){return{"font-bold":n}};function zl(n,l){if(1&n&&(e.TgZ(0,"tr",14)(1,"td",12)(2,"span",14),e._uU(3),e.qZA()(),e.YNc(4,Ol,2,6,"td",15),e.YNc(5,Jl,2,6,"td",16),e.qZA()),2&n){const t=l.$implicit,o=l.rowIndex;e.Q6J("ngClass",e.VKq(5,Pl,o%2==0)),e.xp6(2),e.Q6J("ngClass",e.VKq(7,ql,""!==t.unit)),e.xp6(1),e.Oqu(t.vehicleType),e.xp6(1),e.Q6J("ngIf",o<3),e.xp6(1),e.Q6J("ngIf",o<3)}}const Ll=function(){return["6050"]};let Vl=(()=>{class n{messageService;rolesService;settingsService;utilservice;vehicleUtilisationSettings;eventData=[];constructor(t,o,i,a){this.messageService=t,this.rolesService=o,this.settingsService=i,this.utilservice=a}orgCurrency="$";distance_units="mi";ngOnInit(){this.eventData=[{vehicleType:"Large Vehicle",utilisationPerMile:this.vehicleUtilisationSettings.large_vehicle.utilisation_per_mile,costPerMile:this.vehicleUtilisationSettings.large_vehicle.cost_per_mile},{vehicleType:"Medium Vehicle",utilisationPerMile:this.vehicleUtilisationSettings.medium_vehicle.utilisation_per_mile,costPerMile:this.vehicleUtilisationSettings.medium_vehicle.cost_per_mile},{vehicleType:"Small Vehicle",utilisationPerMile:this.vehicleUtilisationSettings.small_vehicle.utilisation_per_mile,costPerMile:this.vehicleUtilisationSettings.small_vehicle.cost_per_mile}],this.settingsService.getOrgSettings().subscribe(o=>{this.distance_units=o.settings.org_common_configurations.speed_unit==F.J_[0].value?"km":"mi"}),this.orgCurrency=this.utilservice.getOrgCurrency()}saveVehicleUtilisation(){this.settingsService.updateOrgSettings({settings:{org_kpi_configurations:{vehicle_utilization:{large_vehicle:{cost_per_mile:this.eventData[0].costPerMile,utilisation_per_mile:this.eventData[0].utilisationPerMile},medium_vehicle:{cost_per_mile:this.eventData[1].costPerMile,utilisation_per_mile:this.eventData[1].utilisationPerMile},small_vehicle:{cost_per_mile:this.eventData[2].costPerMile,utilisation_per_mile:this.eventData[2].utilisationPerMile}}}}}).subscribe(o=>{this.messageService.add({severity:"success",summary:"Success",detail:"Vehicle utilization settings updated successfully"})},o=>{console.log(o),this.messageService.add({severity:"error",summary:"Failure",detail:"Vehicle utilization settings not updated"})})}static \u0275fac=function(o){return new(o||n)(e.Y36(m.ez),e.Y36(f.Nj),e.Y36(f.gb),e.Y36(f.FW))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-vehicle-utilisation-settings"]],inputs:{vehicleUtilisationSettings:"vehicleUtilisationSettings"},features:[e._Bn([m.ez])],decls:13,vars:5,consts:[["position","top-right"],[1,"card","p-fluid"],[1,"flex","align-items-center","justify-content-between","mb-3"],[1,"text-xl","font-bold","letter-spacing-01"],[1,"flex"],["pButton","","pRipple","","label","Save",3,"disabled","click"],[1,"grid"],[1,"col-12"],["responsiveLayout","scroll",3,"value","autoLayout","rowHover"],["dt",""],["pTemplate","header"],["pTemplate","body"],[2,"width","20%","min-width","15rem"],[1,"text-center"],[3,"ngClass"],["class","text-right",4,"ngIf"],["class","align-items-center text-right",4,"ngIf"],[1,"text-right"],["inputStyleClass","w-5rem",1,"text-right",3,"ngModel","prefix","showButtons","minFractionDigits","min","max","ngModelChange"],[1,"align-items-center","text-right"],["type","number","inputStyleClass","w-6rem text-right","mode","decimal",3,"ngModel","showButtons","suffix","min","max","maxFractionDigits","ngModelChange"]],template:function(o,i){1&o&&(e._UZ(0,"p-toast",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4,"Vehicle Utilization"),e.qZA(),e.TgZ(5,"div",4)(6,"button",5),e.NdJ("click",function(){return i.saveVehicleUtilisation()}),e.qZA()()(),e.TgZ(7,"div",6)(8,"div",7)(9,"p-table",8,9),e.YNc(11,Ul,7,0,"ng-template",10),e.YNc(12,zl,6,9,"ng-template",11),e.qZA()()()()),2&o&&(e.xp6(6),e.Q6J("disabled",!i.rolesService.hasAccess(e.DdM(4,Ll))),e.xp6(3),e.Q6J("value",i.eventData)("autoLayout",!0)("rowHover",!0))},dependencies:[g.mk,g.O5,C.iA,m.jx,c.JJ,c.On,w.Hq,S.FN,J.Rn]})}return n})();const Rl=function(){return["6050"]};let Bl=(()=>{class n{messageService;settingsService;rolesService;utilservice;fuelEfficiencySettings;orgCurrency="$";constructor(t,o,i,a){this.messageService=t,this.settingsService=o,this.rolesService=i,this.utilservice=a}ngOnInit(){this.orgCurrency=this.utilservice.getOrgCurrency()}saveFuelEfficiency(){this.settingsService.updateOrgSettings({settings:{org_kpi_configurations:{fuel_efficiency:this.fuelEfficiencySettings}}}).subscribe(t=>{this.messageService.add({severity:"success",summary:"Success",detail:"Fuel efficiency settings updated successfully"})},t=>{console.log(t),this.messageService.add({severity:"error",summary:"Failure",detail:"Fuel efficiency settings not updated"})})}static \u0275fac=function(o){return new(o||n)(e.Y36(m.ez),e.Y36(f.gb),e.Y36(f.Nj),e.Y36(f.FW))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-fuel-efficiency-settings"]],inputs:{fuelEfficiencySettings:"fuelEfficiencySettings"},features:[e._Bn([m.ez])],decls:20,vars:19,consts:[["position","top-right"],[1,"card","p-fluid"],[1,"flex","align-items-center","justify-content-between","mb-3"],[1,"text-xl","font-bold","letter-spacing-01"],[1,"flex"],["pButton","","pRipple","","label","Save",3,"disabled","click"],[1,"grid"],[1,"col-12","md:col-3"],[1,"inline-block","mr-3"],["styleClass","w-10rem","locale","en-US","mode","decimal","inputStyleClass","w-8rem",1,"my-2",3,"ngModel","maxFractionDigits","min","max","showButtons","prefix","minFractionDigits","ngModelChange"],["styleClass","w-10rem","locale","en-US","mode","decimal","suffix"," Gallons","inputStyleClass","w-8rem",1,"my-2",3,"ngModel","min","max","maxFractionDigits","showButtons","ngModelChange"],["styleClass","w-10rem","locale","en-US","mode","decimal","suffix"," KT","inputStyleClass","w-8rem",1,"my-2",3,"ngModel","min","max","maxFractionDigits","showButtons","ngModelChange"]],template:function(o,i){1&o&&(e._UZ(0,"p-toast",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4,"Fuel Efficiency"),e.qZA(),e.TgZ(5,"div",4)(6,"button",5),e.NdJ("click",function(){return i.saveFuelEfficiency()}),e.qZA()()(),e.TgZ(7,"div",6)(8,"div",7)(9,"p",8),e._uU(10,"Fuel Cost/Per Gallon"),e.qZA(),e.TgZ(11,"p-inputNumber",9),e.NdJ("ngModelChange",function(r){return i.fuelEfficiencySettings.fuel_cost=r}),e.qZA()(),e.TgZ(12,"div",7)(13,"p",8),e._uU(14,"Fuel Lost/Idling Hour"),e.qZA(),e.TgZ(15,"p-inputNumber",10),e.NdJ("ngModelChange",function(r){return i.fuelEfficiencySettings.fuel_lost_per_idling_hr=r}),e.qZA()(),e.TgZ(16,"div",7)(17,"p",8),e._uU(18,"Carbon Emissions/Gallon"),e.qZA(),e.TgZ(19,"p-inputNumber",11),e.NdJ("ngModelChange",function(r){return i.fuelEfficiencySettings.carbon_emission_per_hr=r}),e.qZA()()()()),2&o&&(e.xp6(6),e.Q6J("disabled",!i.rolesService.hasAccess(e.DdM(18,Rl))),e.xp6(5),e.Q6J("ngModel",i.fuelEfficiencySettings.fuel_cost)("maxFractionDigits",2)("min",0)("max",1e5)("showButtons",!0)("prefix",i.orgCurrency)("minFractionDigits",1),e.xp6(4),e.Q6J("ngModel",i.fuelEfficiencySettings.fuel_lost_per_idling_hr)("min",0)("max",1e5)("maxFractionDigits",2)("showButtons",!0),e.xp6(4),e.Q6J("ngModel",i.fuelEfficiencySettings.carbon_emission_per_hr)("min",0)("max",1e5)("maxFractionDigits",2)("showButtons",!0))},dependencies:[c.JJ,c.On,w.Hq,S.FN,J.Rn]})}return n})();function Ql(n,l){1&n&&(e.TgZ(0,"tr")(1,"th",12),e._uU(2,"Vehicle Type"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Cost/Accident"),e.qZA()())}function Yl(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"td",15)(1,"p-inputNumber",16),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.costPerAccident=i)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngModel",t.costPerAccident)("prefix",o.orgCurrency)("showButtons",!0)("minFractionDigits",1)("maxFractionDigits",3)("min",0)("max",1e5)}}const Hl=function(n){return{"surface-50":n}},Kl=function(n){return{"font-bold":n}};function Gl(n,l){if(1&n&&(e.TgZ(0,"tr",13)(1,"td",12)(2,"span",13),e._uU(3),e.qZA()(),e.YNc(4,Yl,2,7,"td",14),e.qZA()),2&n){const t=l.$implicit,o=l.rowIndex;e.Q6J("ngClass",e.VKq(4,Hl,o%2==0)),e.xp6(2),e.Q6J("ngClass",e.VKq(6,Kl,""!==t.unit)),e.xp6(1),e.Oqu(t.vehicleType),e.xp6(1),e.Q6J("ngIf",o<3)}}const jl=function(){return["6050"]};let $l=(()=>{class n{messageService;settingsService;rolesService;utilservice;liabillitySettings;eventData=[];constructor(t,o,i,a){this.messageService=t,this.settingsService=o,this.rolesService=i,this.utilservice=a}orgCurrency="$";ngOnInit(){this.eventData=[{vehicleType:"Large Vehicle",costPerAccident:this.liabillitySettings.large_vehicle},{vehicleType:"Medium Vehicle",costPerAccident:this.liabillitySettings.medium_vehicle},{vehicleType:"Small Vehicle",costPerAccident:this.liabillitySettings.small_vehicle}],this.orgCurrency=this.utilservice.getOrgCurrency()}saveLiability(){this.settingsService.updateOrgSettings({settings:{org_kpi_configurations:{liability:{large_vehicle:this.eventData[0].costPerAccident,medium_vehicle:this.eventData[1].costPerAccident,small_vehicle:this.eventData[2].costPerAccident}}}}).subscribe(o=>{this.messageService.add({severity:"success",summary:"Success",detail:"Liability settings updated successfully"})},o=>{console.log(o),this.messageService.add({severity:"error",summary:"Failure",detail:"Liability settings not updated"})})}static \u0275fac=function(o){return new(o||n)(e.Y36(m.ez),e.Y36(f.gb),e.Y36(f.Nj),e.Y36(f.FW))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-liabillity-settings"]],inputs:{liabillitySettings:"liabillitySettings"},features:[e._Bn([m.ez])],decls:13,vars:5,consts:[["position","top-right"],[1,"card","p-fluid"],[1,"flex","align-items-center","justify-content-between","mb-3"],[1,"text-xl","font-bold","letter-spacing-01"],[1,"flex"],["pButton","","pRipple","","label","Save",3,"disabled","click"],[1,"grid"],[1,"col-12"],["responsiveLayout","scroll",3,"value","autoLayout","rowHover"],["dt",""],["pTemplate","header"],["pTemplate","body"],[2,"width","20%","min-width","15rem"],[3,"ngClass"],["class","text-right",4,"ngIf"],[1,"text-right"],["styleClass","w-12rem","inputStyleClass","w-4rem",1,"text-right",3,"ngModel","prefix","showButtons","minFractionDigits","maxFractionDigits","min","max","ngModelChange"]],template:function(o,i){1&o&&(e._UZ(0,"p-toast",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4,"Liabillity"),e.qZA(),e.TgZ(5,"div",4)(6,"button",5),e.NdJ("click",function(){return i.saveLiability()}),e.qZA()()(),e.TgZ(7,"div",6)(8,"div",7)(9,"p-table",8,9),e.YNc(11,Ql,5,0,"ng-template",10),e.YNc(12,Gl,5,8,"ng-template",11),e.qZA()()()()),2&o&&(e.xp6(6),e.Q6J("disabled",!i.rolesService.hasAccess(e.DdM(4,jl))),e.xp6(3),e.Q6J("value",i.eventData)("autoLayout",!0)("rowHover",!0))},dependencies:[g.mk,g.O5,C.iA,m.jx,c.JJ,c.On,w.Hq,S.FN,J.Rn]})}return n})(),Wl=(()=>{class n{org_kpi_configurations;static \u0275fac=function(o){return new(o||n)};static \u0275cmp=e.Xpm({type:n,selectors:[["app-kpi-settings"]],inputs:{org_kpi_configurations:"org_kpi_configurations"},features:[e._Bn([m.ez])],decls:7,vars:3,consts:[[1,"grid","mt-2"],[1,"col-12","md:col-6","mt-3"],[3,"vehicleUtilisationSettings"],[3,"liabillitySettings"],[1,"col-12","mt-3"],[3,"fuelEfficiencySettings"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-vehicle-utilisation-settings",2),e.qZA(),e.TgZ(3,"div",1),e._UZ(4,"app-liabillity-settings",3),e.qZA(),e.TgZ(5,"div",4),e._UZ(6,"app-fuel-efficiency-settings",5),e.qZA()()),2&o&&(e.xp6(2),e.Q6J("vehicleUtilisationSettings",i.org_kpi_configurations.vehicle_utilization),e.xp6(2),e.Q6J("liabillitySettings",i.org_kpi_configurations.liability),e.xp6(2),e.Q6J("fuelEfficiencySettings",i.org_kpi_configurations.fuel_efficiency))},dependencies:[Vl,Bl,$l]})}return n})();function Xl(n,l){1&n&&e._uU(0," Enlarge ")}function er(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"form",11),e.NdJ("ngSubmit",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.saveOrganizationInformation())}),e.TgZ(1,"h5",38),e._uU(2," Org Whitelabel Info "),e.qZA(),e.TgZ(3,"div",12)(4,"div",19)(5,"div",12)(6,"div",20)(7,"label",39),e._uU(8,"Organization Name"),e.qZA(),e._UZ(9,"input",40),e.qZA(),e.TgZ(10,"div",20)(11,"label",41),e._uU(12,"Organization Email"),e.qZA(),e._UZ(13,"input",42),e.qZA(),e.TgZ(14,"div",20)(15,"label",43),e._uU(16,"Organization Url"),e.qZA(),e._UZ(17,"input",44),e.qZA()()()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.orgWhiteLabelForm)}}function tr(n,l){if(1&n&&e._UZ(0,"app-kpi-settings",45),2&n){const t=e.oxw();e.Q6J("org_kpi_configurations",null==t.org_settings||null==t.org_settings.settings?null:t.org_settings.settings.org_kpi_configurations)}}const nr=function(){return["6020"]},ir=function(){return{standalone:!0}},or=function(){return["6045","6050"]};let ar=(()=>{class n{fb;messageService;settingsService;rolesService;store;organizationInformationForm;orgWhiteLabelForm;org_settings;plans=["Traditional Basic","Traditional Plus","Smart Basic","Smart Plus"];speed_units=F.J_;fuel_units=F.xN;selectedSpeedUnit;themes=[{label:"ET Driving Forward",value:"et-drive-forward"},{label:"Earth",value:"earth"},{label:"ET Light",value:"et-light"}];currencies=F.Mf;timezones=F.z;selectedFuelUnit;constructor(t,o,i,a,r){this.fb=t,this.messageService=o,this.settingsService=i,this.rolesService=a,this.store=r}ngOnInit(){this.organizationInformationForm=this.fb.group({name:[null,c.kI.required],status:[{value:null,disabled:!0},[c.kI.required]],org_logo:["",[c.kI.required]],plan_name:[null,c.kI.required],theme:[null,[c.kI.required]],timezone:[{value:""},c.kI.required],currency:[{value:"USD"},[c.kI.required]],account_administrator:[null,[c.kI.required]]}),this.orgWhiteLabelForm=this.fb.group({org_email:[null],org_name:[null],org_url:[null]}),this.org_settings.org_logo&&!this.org_settings.org_logo.includes("http")&&!this.org_settings.org_logo.includes(";base64,")&&(this.org_settings.org_logo="data:image/jpeg;base64,"+this.org_settings.org_logo),this.organizationInformationForm.patchValue(this.org_settings),this.organizationInformationForm.patchValue({org_logo:this.org_settings.org_logo}),this.orgWhiteLabelForm.patchValue(this.org_settings?.settings?.org_white_labelling_configurations),this.selectedSpeedUnit=this.org_settings.settings.org_common_configurations.speed_unit,this.selectedFuelUnit=this.org_settings.settings.org_common_configurations.fuel_unit}onOrgImageUpload(t){const o=new FileReader;o.readAsDataURL(t.files[0]),o.onload=()=>{this.organizationInformationForm.value.org_logo=o.result,this.saveOrganizationInformation()}}saveOrganizationInformation(){const t=JSON.parse(JSON.stringify(this.organizationInformationForm.value));t.org_logo=t.org_logo?.split(",")[1];const o=this.orgWhiteLabelForm.value,i=Object.values(o).some(r=>null!=r),a={...t,settings:{...t.settings,org_common_configurations:{...this.org_settings.settings.org_common_configurations,speed_unit:this.selectedSpeedUnit,fuel_unit:this.selectedFuelUnit},...i&&{org_white_labelling_configurations:o}}};this.settingsService.updateOrgSettings(a).subscribe(r=>{this.store.dispatch((0,ke.MC)({orgSettings:r})),localStorage.setItem("org_settings",JSON.stringify(r)),(this.org_settings.theme!==r.theme||this.org_settings.currency!==r.currency||this.org_settings.org_logo!==r.org_logo)&&window.location.reload(),this.messageService.add({severity:"success",summary:"Success",detail:"Settings updated successfully"}),this.store.dispatch((0,ke.V6)({baseCurrency:"USD"}))},r=>{console.error("Error updating settings:",r),this.messageService.add({severity:"error",summary:"Failure",detail:"Settings update failed"})})}static \u0275fac=function(o){return new(o||n)(e.Y36(c.qu),e.Y36(m.ez),e.Y36(f.gb),e.Y36(f.Nj),e.Y36(Dl.yh))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-organization-settings"]],inputs:{org_settings:"org_settings"},features:[e._Bn([m.ez])],decls:67,vars:24,consts:[["position","top-right"],[1,"grid"],[1,"col-12"],[1,"card","p-fluid"],[1,"flex","align-items-center","justify-content-between","mb-3"],[1,"text-xl","font-bold","letter-spacing-01"],[1,"flex"],["pButton","","pRipple","","label","Save",3,"disabled","click"],["pButton","","pRipple","","type","button","label","Cancel",1,"p-button-text"],["appendTo","body",3,"popup"],["menu",""],[3,"formGroup","ngSubmit"],[1,"p-formgrid","grid"],[1,"md:col-2","col-12"],["htmlFor","personalPhoto"],["alt","Image","imageClass","w-full",3,"src","preview"],["pTemplate","indicator"],["mode","basic","name","myfile[]","chooseLabel","Upload Org Logo","accept",".jpeg, .jpg, .png","chooseIcon","pi pi-upload","chooseLabel","Upload a file (Max 1MB)",3,"multiple","showCancelButton","showUploadButton","maxFileSize","onSelect"],["fileUploader",""],[1,"md:col-10","col-12"],[1,"field","md:col-6","col-12"],["htmlFor","name2",1,"font-semibold"],["pInputText","","type","text","formControlName","name"],["htmlFor","email2",1,"font-semibold"],["formControlName","plan_name",3,"options"],["formControlName","theme","optionLabel","label","optionValue","value",3,"options"],["pInputText","","id","email2","type","text","formControlName","status"],[1,"field","col"],["pInputText","","type","text","formControlName","account_administrator"],["id","timezones","placeholder","Select a timezone","formControlName","timezone","optionLabel","name","optionValue","value","filterBy","name",1,"ml-2",3,"options","filter"],["id","currencies","placeholder","Select a currency","formControlName","currency","optionLabel","name","optionValue","value",1,"ml-2",3,"options"],["id","fuelUnits","placeholder","Select fuel unit","optionLabel","name","optionValue","value",1,"ml-2",3,"ngModel","options","ngModelOptions","ngModelChange"],[1,"col-12","md:col-6"],[1,"field"],["htmlFor","speed_unit",1,"font-semibold"],["optionLabel","name","optionValue","value",3,"options","ngModel","ngModelChange"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"org_kpi_configurations",4,"ngIf"],[1,"mt-2"],["htmlFor","org_name",1,"font-semibold"],["pInputText","","type","text","formControlName","org_name"],["htmlFor","org_email",1,"font-semibold"],["pInputText","","type","text","formControlName","org_email"],["htmlFor","org_url",1,"font-semibold"],["pInputText","","id","org_url","type","text","formControlName","org_url"],[3,"org_kpi_configurations"]],template:function(o,i){1&o&&(e._UZ(0,"p-toast",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6,"Organization Information"),e.qZA(),e.TgZ(7,"div",6)(8,"button",7),e.NdJ("click",function(){return i.saveOrganizationInformation()}),e.qZA(),e._UZ(9,"button",8)(10,"p-tieredMenu",9,10),e.qZA()(),e.TgZ(12,"form",11),e.NdJ("ngSubmit",function(){return i.saveOrganizationInformation()}),e.TgZ(13,"div",12)(14,"div",13)(15,"div",12)(16,"div",2)(17,"label",14),e._uU(18,"\xa0"),e.qZA(),e.TgZ(19,"p-image",15),e.YNc(20,Xl,1,0,"ng-template",16),e.qZA(),e.TgZ(21,"p-fileUpload",17,18),e.NdJ("onSelect",function(r){return i.onOrgImageUpload(r)}),e.qZA()()()(),e.TgZ(23,"div",19)(24,"div",12)(25,"div",20)(26,"label",21),e._uU(27,"Organization Name"),e.qZA(),e._UZ(28,"input",22),e.qZA(),e.TgZ(29,"div",20)(30,"label",23),e._uU(31,"Plan Name"),e.qZA(),e._UZ(32,"p-dropdown",24),e.qZA(),e.TgZ(33,"div",20)(34,"label",21),e._uU(35,"Theme"),e.qZA(),e._UZ(36,"p-dropdown",25),e.qZA(),e.TgZ(37,"div",20)(38,"label",23),e._uU(39,"Account Status"),e.qZA(),e._UZ(40,"input",26),e.qZA()()()(),e.TgZ(41,"div",12)(42,"div",27)(43,"label",21),e._uU(44,"Account Administrator"),e.qZA(),e._UZ(45,"input",28),e.qZA(),e.TgZ(46,"div",27)(47,"label",23),e._uU(48,"Timezone"),e.qZA(),e._UZ(49,"p-dropdown",29),e.qZA()(),e.TgZ(50,"div",12)(51,"div",20)(52,"label",21),e._uU(53,"Default Currency"),e.qZA(),e._UZ(54,"p-dropdown",30),e.qZA(),e.TgZ(55,"div",20)(56,"label",21),e._uU(57,"Fuel Unit"),e.qZA(),e.TgZ(58,"p-dropdown",31),e.NdJ("ngModelChange",function(r){return i.selectedFuelUnit=r}),e.qZA()()()(),e.TgZ(59,"div",1)(60,"div",32)(61,"div",33)(62,"label",34),e._uU(63,"Speed Unit"),e.qZA(),e.TgZ(64,"p-dropdown",35),e.NdJ("ngModelChange",function(r){return i.selectedSpeedUnit=r}),e.qZA()()()(),e.YNc(65,er,18,1,"form",36),e.qZA()()(),e.YNc(66,tr,1,1,"app-kpi-settings",37)),2&o&&(e.xp6(8),e.Q6J("disabled",!i.rolesService.hasAccess(e.DdM(21,nr))),e.xp6(2),e.Q6J("popup",!0),e.xp6(2),e.Q6J("formGroup",i.organizationInformationForm),e.xp6(7),e.Q6J("src",i.organizationInformationForm.value.org_logo||"assets/demo/images/logo.png")("preview",!0),e.xp6(2),e.Q6J("multiple",!1)("showCancelButton",!1)("showUploadButton",!1)("maxFileSize",1e6),e.xp6(11),e.Q6J("options",i.plans),e.xp6(4),e.Q6J("options",i.themes),e.xp6(13),e.Q6J("options",i.timezones)("filter",!0),e.xp6(5),e.Q6J("options",i.currencies),e.xp6(4),e.Q6J("ngModel",i.selectedFuelUnit)("options",i.fuel_units)("ngModelOptions",e.DdM(22,ir)),e.xp6(6),e.Q6J("options",i.speed_units)("ngModel",i.selectedSpeedUnit),e.xp6(1),e.Q6J("ngIf",null==i.org_settings||null==i.org_settings.settings?null:i.org_settings.settings.org_white_labelling_configurations),e.xp6(1),e.Q6J("ngIf",i.rolesService.hasAccess(e.DdM(23,or))&&i.org_settings))},dependencies:[g.O5,Z.o,m.jx,c._Y,c.Fj,c.JJ,c.JL,c.On,w.Hq,c.sg,c.u,M.yp,Y.p,H,S.FN,L.Lt,Wl]})}return n})();function lr(n,l){1&n&&(e.TgZ(0,"div",12),e._UZ(1,"p-progressSpinner",13),e.qZA())}function rr(n,l){1&n&&e._UZ(0,"app-account-settings")}function sr(n,l){if(1&n&&e._UZ(0,"app-organization-settings",14),2&n){const t=e.oxw();e.Q6J("org_settings",t.org_settings)}}function cr(n,l){if(1&n&&e._UZ(0,"app-cloud-feature-settings",15),2&n){const t=e.oxw();e.Q6J("org_cloud_feature_configurations",t.settings.org_cloud_feature_configurations)}}function dr(n,l){if(1&n&&e._UZ(0,"app-driver-settings",16),2&n){const t=e.oxw();e.Q6J("settings",t.settings)}}function pr(n,l){if(1&n&&e._UZ(0,"app-api-integration-settings",17),2&n){const t=e.oxw();e.Q6J("callbackUrlSettings",t.settings.org_callback_url_configurations)}}function ur(n,l){if(1&n&&e._UZ(0,"app-event-settings",16),2&n){const t=e.oxw();e.Q6J("settings",t.settings)}}function gr(n,l){1&n&&e._UZ(0,"app-compund-events")}const Ae=function(){return["6005","6010","6015","6020"]},_r=function(){return["6025","6030"]},mr=function(){return["6065","6070"]},hr=function(){return["6075","6080"]},fr=function(){return["6035","6040"]},vr=function(){return["6055","6060"]};let k=(()=>{class n{router;route;settingsService;rolesService;settings;org_settings;plainMenuItems=[];menu="account-settings";constructor(t,o,i,a){this.router=t,this.route=o,this.settingsService=i,this.rolesService=a,o.url.subscribe(()=>{this.menu=o.snapshot.data.route})}ngOnInit(){this.getSettings(),this.setMenu()}setMenu(){this.plainMenuItems=[{items:[{label:"User Info",icon:"pi pi-fw pi-user",visible:this.rolesService.hasAccess(["6005","6010","6015","6020"]),styleClass:"account-settings"===this.menu?"active":"",command:()=>this.router.navigate(["../account-settings"],{relativeTo:this.route})},{label:"Organization Settings",icon:"pi pi-fw pi-shield",visible:this.rolesService.hasAccess(["6005","6010","6015","6020"]),styleClass:"organization-settings"===this.menu?"active":"",command:()=>this.router.navigate(["../organization-settings"],{relativeTo:this.route})},{label:"Cloud Features",icon:"pi pi-fw pi-cloud",visible:this.rolesService.hasAccess(["6025","6030"]),styleClass:"cloud-feature-settings"===this.menu?"active":"",command:()=>this.router.navigate(["../cloud-feature-settings"],{relativeTo:this.route})},{label:"Events Settings",icon:"pi pi-fw pi-video",visible:this.rolesService.hasAccess(["6035","6040"]),styleClass:"event-settings"===this.menu?"active":"",command:()=>this.router.navigate(["../event-settings"],{relativeTo:this.route})},{label:"Driver Settings",icon:"pi pi-fw pi-users",visible:this.rolesService.hasAccess(["6065","6070"]),styleClass:"driver-settings"===this.menu?"active":"",command:()=>this.router.navigate(["../driver-settings"],{relativeTo:this.route})},{label:"API Integration Settings",icon:"pi pi-fw pi-search",visible:this.rolesService.hasAccess(["6075","6080"]),styleClass:"api-settings"===this.menu?"active":"",command:()=>this.router.navigate(["../api-settings"],{relativeTo:this.route})}]}]}getSettings(){this.settingsService.getOrgSettings().subscribe(t=>{this.org_settings=t,this.settings=t.settings})}static \u0275fac=function(o){return new(o||n)(e.Y36(R.F0),e.Y36(R.gz),e.Y36(f.gb),e.Y36(f.Nj))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-settings"]],features:[e._Bn([m.ez])],decls:14,vars:16,consts:[["position","top-right"],[1,"grid","mt-2"],[1,"col-12","md:col-3"],[1,"card","pt-0","h-full",2,"padding","0 !important"],["styleClass","w-full border-0",3,"model"],[1,"col-12","md:col-9"],["class","spinner-div",4,"ngIf"],[4,"ngIf"],[3,"org_settings",4,"ngIf"],[3,"org_cloud_feature_configurations",4,"ngIf"],[3,"settings",4,"ngIf"],[3,"callbackUrlSettings",4,"ngIf"],[1,"spinner-div"],["styleClass","w-5rem h-5rem"],[3,"org_settings"],[3,"org_cloud_feature_configurations"],[3,"settings"],[3,"callbackUrlSettings"]],template:function(o,i){1&o&&(e._UZ(0,"p-toast",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"p-menu",4),e.qZA()(),e.TgZ(5,"div",5),e.YNc(6,lr,2,0,"div",6),e.YNc(7,rr,1,0,"app-account-settings",7),e.YNc(8,sr,1,1,"app-organization-settings",8),e.YNc(9,cr,1,1,"app-cloud-feature-settings",9),e.YNc(10,dr,1,1,"app-driver-settings",10),e.YNc(11,pr,1,1,"app-api-integration-settings",11),e.YNc(12,ur,1,1,"app-event-settings",10),e.YNc(13,gr,1,0,"app-compund-events",7),e.qZA()()),2&o&&(e.xp6(4),e.Q6J("model",i.plainMenuItems),e.xp6(2),e.Q6J("ngIf",!i.org_settings),e.xp6(1),e.Q6J("ngIf","account-settings"===i.menu&&i.rolesService.hasAccess(e.DdM(9,Ae))),e.xp6(1),e.Q6J("ngIf","organization-settings"===i.menu&&i.rolesService.hasAccess(e.DdM(10,Ae))&&i.org_settings),e.xp6(1),e.Q6J("ngIf","cloud-feature-settings"===i.menu&&i.rolesService.hasAccess(e.DdM(11,_r))&&i.settings),e.xp6(1),e.Q6J("ngIf","driver-settings"===i.menu&&i.rolesService.hasAccess(e.DdM(12,mr))&&i.settings),e.xp6(1),e.Q6J("ngIf","api-settings"===i.menu&&i.settings&&i.rolesService.hasAccess(e.DdM(13,hr))&&i.settings),e.xp6(1),e.Q6J("ngIf","event-settings"===i.menu&&i.settings&&i.rolesService.hasAccess(e.DdM(14,fr))&&i.settings),e.xp6(1),e.Q6J("ngIf","compound-events"===i.menu&&i.rolesService.hasAccess(e.DdM(15,vr))))},dependencies:[g.O5,de.v2,S.FN,ye.G,go,Ba,sl,ml,Ml,Fl,ar],styles:["[_nghost-%COMP%]     .p-menu-list .p-element{padding:.8rem}[_nghost-%COMP%]     .active{background:linear-gradient(0deg,rgba(47,111,123,.1),rgba(47,111,123,.1)),#FFFBFE;font-weight:600}[_nghost-%COMP%]     .custom-icon{width:1rem;height:1rem;background-image:url(kpi.bf6da2a16064f42e.png)}.spinner-div[_ngcontent-%COMP%]{position:absolute;width:-webkit-fill-available;height:-webkit-fill-available;z-index:1;align-content:center;text-align:center}"]})}return n})(),br=(()=>{class n{static \u0275fac=function(o){return new(o||n)};static \u0275mod=e.oAB({type:n});static \u0275inj=e.cJS({imports:[R.Bz.forChild([{path:"account-settings",data:{breadcrumb:"User Info",route:"account-settings"},component:k},{path:"organization-settings",data:{breadcrumb:"Organization Settings",route:"organization-settings"},component:k},{path:"event-settings",data:{breadcrumb:"Event Settings",route:"event-settings"},component:k},{path:"cloud-feature-settings",data:{breadcrumb:"Cloud Feature Settings",route:"cloud-feature-settings"},component:k},{path:"kpi-settings",data:{breadcrumb:"KPI Settings",route:"kpi-settings"},component:k},{path:"api-settings",data:{breadcrumb:"Api Settings",route:"api-settings"},component:k},{path:"driver-settings",data:{breadcrumb:"Driver Settings",route:"driver-settings"},component:k},{path:"users-roles",data:{breadcrumb:"Users Roles",route:"users-roles"},component:k},{path:"compound-events",data:{breadcrumb:"Compound Events",route:"compound-events"},component:k},{path:"",pathMatch:"full",redirectTo:"account-settings"}]),R.Bz]})}return n})(),Tr=(()=>{class n{static \u0275fac=function(o){return new(o||n)};static \u0275mod=e.oAB({type:n});static \u0275inj=e.cJS({imports:[g.ez,br,Bi.l,de.$9,Z.j,C.U$,c.u5,w.hJ,c.UX,M.QK,Y.O,rt,S.EV,z.S,J.L$,L.kW,dt.V,K.q4,ct.LU,pt.xc,Ui,Ji,we.D,Ri,ye.L,st.Q,pe.cc,ce.Iu,ue.JH]})}return n})()}}]);