"use strict";(self.webpackChunkedgetensor=self.webpackChunkedgetensor||[]).push([[600],{5600:(qe,M,s)=>{s.d(M,{n:()=>Ie});var e=s(5879),_=s(2001),f=s(5219),w=s(9315),m=s(3216),C=s(3173),u=s(5878),T=s(6814),E=s(5609),v=s(6223),Z=s(6340),y=s(707),S=s(4480),R=s(2160),A=s(3745),b=s(5389),F=s(4055),U=s(8454),O=s(6760),I=s(8057),P=s(7902),N=s(3530),q=s(4104),D=s(4844),J=s(9552),k=s(1712),K=s(3259),Q=s(3714);const L=["ep"];function Y(l,a){if(1&l){const t=e.EpF();e.TgZ(0,"span",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.navigateTo("dashboard"))}),e._uU(1," Home "),e.qZA()}}function H(l,a){if(1&l&&(e.TgZ(0,"span",17),e._uU(1),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij(" > ",t.pageTitle," ")}}function B(l,a){1&l&&(e.TgZ(0,"label",18),e._uU(1,"Driver Report"),e.qZA())}function W(l,a){if(1&l){const t=e.EpF();e.TgZ(0,"p-inputSwitch",19),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.showDriverReport=n)})("onChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.handleChangeDriverReport(n))}),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("ngModel",t.showDriverReport)}}function G(l,a){1&l&&(e.TgZ(0,"label",20),e._uU(1,"Filters"),e.qZA())}function V(l,a){if(1&l){const t=e.EpF();e.TgZ(0,"p-inputSwitch",19),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.showFilters=n)})("onChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.handleChangeFilter(n))}),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("ngModel",t.showFilters)}}function j(l,a){if(1&l){const t=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.shareWidgets())}),e.qZA()}}function z(l,a){if(1&l){const t=e.EpF();e.TgZ(0,"p-tree",41,42),e.NdJ("onNodeSelect",function(n){e.CHM(t);const i=e.oxw(3);return e.KtG(i.nodeSelect(n))})("onNodeUnselect",function(n){e.CHM(t);const i=e.oxw(3);return e.KtG(i.nodeUnSelect(n))})("selectionChange",function(n){e.CHM(t);const i=e.oxw(3);return e.KtG(i.selectedFleetss=n)}),e.qZA()}if(2&l){const t=e.oxw(3);e.Q6J("value",t.fleets)("propagateSelectionUp",!1)("propagateSelectionDown",t.isFleetSelectionRecursive)("selection",t.selectedFleetss)}}function $(l,a){if(1&l){const t=e.EpF();e.TgZ(0,"div",37),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw(2);return e.KtG(i.preventOverlayCollapse(n))}),e.TgZ(1,"label",38),e._uU(2,"Select child fleets:"),e.qZA(),e.TgZ(3,"p-inputSwitch",39),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw(2);return e.KtG(i.isFleetSelectionRecursive=n)}),e.qZA(),e._UZ(4,"br")(5,"br"),e.YNc(6,z,2,4,"p-tree",40),e.qZA()}if(2&l){const t=e.oxw(2);e.xp6(3),e.Q6J("ngModel",t.isFleetSelectionRecursive),e.xp6(3),e.Q6J("ngIf",t.selectedFleetss)}}function X(l,a){if(1&l&&(e._UZ(0,"i",43),e._uU(1)),2&l){const t=a.$implicit;e.xp6(1),e.hij(" ",null==t?null:t.name," ")}}function ee(l,a){if(1&l&&e._uU(0),2&l){const t=a.$implicit;e.hij(" ",null==t?null:t.name," ")}}function te(l,a){if(1&l){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",24)(2,"label",44),e._uU(3,"Range:"),e.qZA(),e.TgZ(4,"p-calendar",45),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw(2);return e.KtG(i.customDateRange=n)})("onSelect",function(n){e.CHM(t);const i=e.oxw(2);return e.KtG(i.customDateSelect(n))}),e.qZA()(),e.BQk()}if(2&l){const t=e.oxw(2);e.xp6(4),e.Q6J("ngModel",t.customDateRange)("minDate",t.minDate)("maxDate",t.maxDate)("numberOfMonths",2)("readonlyInput",!0)}}function ne(l,a){if(1&l){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",24)(2,"label",44),e._uU(3,"Week:"),e.qZA(),e.TgZ(4,"p-calendar",46),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw(2);return e.KtG(i.customWeeklyRange=n)})("onSelect",function(n){e.CHM(t);const i=e.oxw(2);return e.KtG(i.customWeeklySelect(n))})("onChange",function(n){e.CHM(t);const i=e.oxw(2);return e.KtG(i.customWeeklySelect(n))}),e.qZA()(),e.BQk()}if(2&l){const t=e.oxw(2);e.xp6(4),e.Q6J("ngModel",t.customWeeklyRange)("minDate",t.minDate)("maxDate",t.maxDate)("readonlyInput",!0)}}function oe(l,a){if(1&l){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",24)(2,"label",44),e._uU(3,"Month:"),e.qZA(),e.TgZ(4,"p-calendar",47),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw(2);return e.KtG(i.customMonthlyRange=n)})("onSelect",function(n){e.CHM(t);const i=e.oxw(2);return e.KtG(i.customMonthlySelect(n))})("onChange",function(n){e.CHM(t);const i=e.oxw(2);return e.KtG(i.customMonthlySelect(n))}),e.qZA()(),e.BQk()}if(2&l){const t=e.oxw(2);e.xp6(4),e.Q6J("ngModel",t.customMonthlyRange)("minDate",t.minDate)("maxDate",t.maxDateMonthly)("readonlyInput",!0)}}function ie(l,a){if(1&l&&(e.TgZ(0,"div",51)(1,"div"),e._uU(2),e.qZA()()),2&l){const t=a.$implicit;e.xp6(2),e.Oqu(t.label)}}function le(l,a){if(1&l){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",24)(2,"label",48),e._uU(3,"Face Count: "),e.qZA(),e.TgZ(4,"p-dropdown",49),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw(2);return e.KtG(i.selectedFaceCount=n)})("onChange",function(n){e.CHM(t);const i=e.oxw(2);return e.KtG(i.faceCountSelection(n))}),e.YNc(5,ie,3,1,"ng-template",50),e.qZA()(),e.BQk()}if(2&l){const t=e.oxw(2);e.xp6(4),e.Q6J("options",t.faceCountOptions)("ngModel",t.selectedFaceCount)("filter",!1)}}function ae(l,a){if(1&l){const t=e.EpF();e.TgZ(0,"div",70)(1,"div",71)(2,"p-checkbox",72),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw(5);return e.KtG(i.selectedEvents=n)})("onChange",function(n){e.CHM(t);const i=e.oxw(5);return e.KtG(i.eventSelection(n))}),e.qZA(),e.TgZ(3,"div",73),e._UZ(4,"img",74),e.qZA(),e.TgZ(5,"div",75),e._uU(6),e.qZA()()()}if(2&l){const t=a.$implicit,o=e.oxw(5);e.xp6(2),e.Q6J("value",t.value)("ngModel",o.selectedEvents),e.xp6(2),e.s9C("alt",t.label),e.Q6J("src",t.display_icon||"assets/demo/images/events/"+t.value+"-red.svg",e.LSH),e.xp6(2),e.Oqu(t.label)}}function se(l,a){if(1&l){const t=e.EpF();e.TgZ(0,"p-accordionTab",64)(1,"div",65)(2,"p-checkbox",66),e.NdJ("onChange",function(n){const r=e.CHM(t).$implicit,c=e.oxw(4);return e.KtG(c.selectAll(n,r))}),e.qZA(),e.TgZ(3,"span",67)(4,"b"),e._uU(5,"Select All"),e.qZA()()(),e.TgZ(6,"div",68),e.YNc(7,ae,7,5,"div",69),e.qZA()()}if(2&l){const t=a.$implicit,o=e.oxw(4);e.Q6J("header",o.utilsService.formatLabelForCharts(t.display_label))("selected",t.expanded),e.xp6(2),e.Q6J("value",t.label),e.xp6(5),e.Q6J("ngForOf",t.items)}}function re(l,a){if(1&l){const t=e.EpF();e.TgZ(0,"div",37),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw(3);return e.KtG(i.preventOverlayCollapse(n))}),e.TgZ(1,"div",54)(2,"div",55)(3,"a",56),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(3);return e.KtG(n.expandAll())}),e._UZ(4,"i",57),e._uU(5," Expand Categories"),e.qZA(),e._uU(6," | "),e.TgZ(7,"a",58),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(3);return e.KtG(n.collapseAll())}),e._UZ(8,"i",59),e._uU(9," Collapse Categories"),e.qZA()(),e.TgZ(10,"div",55)(11,"a",58),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(3);return e.KtG(n.selectAllEvents())}),e._UZ(12,"i",60),e._uU(13," Select All Events"),e.qZA(),e._uU(14," | "),e.TgZ(15,"a",58),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(3);return e.KtG(n.deSelectAllEvents())}),e._UZ(16,"i",61),e._uU(17," Clear All Events"),e.qZA()(),e.TgZ(18,"p-accordion"),e.YNc(19,se,8,4,"p-accordionTab",62),e.qZA(),e.TgZ(20,"div",63)(21,"b"),e._uU(22),e.qZA()()()()}if(2&l){const t=e.oxw(3);e.xp6(19),e.Q6J("ngForOf",t.events),e.xp6(3),e.Oqu(t.uniqueEventCount>0?t.uniqueEventCount+" Event"+(t.uniqueEventCount>1?"s":"")+" Selected":"")}}function ce(l,a){if(1&l){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",24)(2,"label",48),e._uU(3,"Events: "),e.qZA(),e.TgZ(4,"button",52),e.NdJ("click",function(n){e.CHM(t);const i=e.MAs(6);return e.KtG(i.toggle(n))}),e.qZA(),e.TgZ(5,"p-overlayPanel",27,53),e.YNc(7,re,23,2,"ng-template",15),e.qZA()(),e.BQk()}if(2&l){const t=e.oxw(2);e.xp6(4),e.Q6J("label",t.uniqueEventCount>0?t.uniqueEventCount+" Event"+(t.uniqueEventCount>1?"s":"")+" Selected":"Select Events")}}function _e(l,a){if(1&l&&e._uU(0),2&l){const t=e.oxw(3);e.hij(" ",t.selectedDevicesList.length>0?t.selectedDevicesList.length+" Device"+(t.selectedDevicesList.length>1?"s":"")+" Selected":"Select Devices"," ")}}function de(l,a){if(1&l&&e._uU(0),2&l){const t=a.$implicit;e.hij(" ",null!=t&&t.client_provided_id?null==t?null:t.client_provided_id:"Select Device"," ")}}function pe(l,a){if(1&l&&(e.TgZ(0,"div",80)(1,"b"),e._uU(2),e.qZA(),e._uU(3),e.qZA()),2&l){const t=e.oxw(3);e.xp6(2),e.hij(" ",t.selectedDevices?t.selectedDevices.length:0," "),e.xp6(1),e.hij(" Device",(t.selectedDevices?t.selectedDevices.length:0)>1?"s":""," selected. ")}}const ge=function(){return{height:"40px"}};function ue(l,a){if(1&l){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",24)(2,"label",29),e._uU(3,"Device(s): "),e._UZ(4,"i",76),e.qZA(),e.TgZ(5,"p-multiSelect",77),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw(2);return e.KtG(i.selectedDevices=n)})("onChange",function(n){e.CHM(t);const i=e.oxw(2);return e.KtG(i.deviceSelection(n))}),e.YNc(6,_e,1,1,"ng-template",78),e.YNc(7,de,1,1,"ng-template",32),e.YNc(8,pe,4,2,"ng-template",79),e.qZA()(),e.BQk()}if(2&l){const t=e.oxw(2);e.xp6(5),e.Akn(e.DdM(10,ge)),e.Q6J("options",t.devicesList)("ngModel",t.selectedDevices)("virtualScroll",!0)("virtualScrollItemSize",30)("styleClass","w-full")("placeholder","Select Device")("filter",!0)("filterPlaceHolder","Search by Device Id")}}function he(l,a){if(1&l&&e._uU(0),2&l){const t=e.oxw(3);e.hij(" ",t.selectedDrivers&&t.selectedDrivers.length>0?t.selectedDrivers.length+" Driver"+(t.selectedDrivers.length>1?"s":"")+" Selected":"Select Drivers"," ")}}function me(l,a){if(1&l&&(e.TgZ(0,"div",80)(1,"b"),e._uU(2),e.qZA(),e._uU(3),e.qZA()),2&l){const t=e.oxw(3);e.xp6(2),e.hij(" ",t.selectedDrivers?t.selectedDrivers.length:0," "),e.xp6(1),e.hij(" Driver",(t.selectedDrivers?t.selectedDrivers.length:0)>1?"s":""," selected. ")}}const ve=function(){return{width:"90%"}};function fe(l,a){if(1&l){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",24)(2,"label",48),e._uU(3,"Driver Name: "),e._UZ(4,"i",76),e.qZA(),e.TgZ(5,"p-multiSelect",81),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw(2);return e.KtG(i.selectedDrivers=n)})("onChange",function(n){e.CHM(t);const i=e.oxw(2);return e.KtG(i.driverSelection(n))}),e.YNc(6,he,1,1,"ng-template",78),e.YNc(7,me,4,2,"ng-template",79),e.qZA()(),e.BQk()}if(2&l){const t=e.oxw(2);e.xp6(5),e.Akn(e.DdM(8,ve)),e.Q6J("options",t.driversList)("virtualScroll",!0)("virtualScrollItemSize",30)("showClear",!0)("ngModel",t.selectedDrivers)("filter",!0)}}function Ce(l,a){if(1&l){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",24)(2,"label",29),e._uU(3,"Event Id: "),e._UZ(4,"i",76),e.qZA(),e.TgZ(5,"input",82),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterEventId=n)}),e.qZA()(),e.BQk()}if(2&l){const t=e.oxw(2);e.xp6(5),e.Q6J("ngModel",t.filterEventId)}}function Te(l,a){if(1&l){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",24)(2,"label",83),e._uU(3,"Confidence:"),e.qZA(),e.TgZ(4,"div",84)(5,"div",85)(6,"span"),e._uU(7),e.qZA()(),e.TgZ(8,"div",86)(9,"div",87),e._uU(10,"0"),e.qZA(),e.TgZ(11,"div",88)(12,"p-slider",89),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw(2);return e.KtG(i.rangeValues=n)}),e.qZA()(),e.TgZ(13,"div",90),e._uU(14,"1"),e.qZA()()()(),e.BQk()}if(2&l){const t=e.oxw(2);e.xp6(7),e.Oqu(t.rangeValues[0]+" - "+t.rangeValues[1]),e.xp6(5),e.Q6J("ngModel",t.rangeValues)("range",!0)("min",0)("step",.1)("max",1)}}function xe(l,a){if(1&l){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",24)(2,"label",91),e._uU(3,"Distance:"),e.qZA(),e.TgZ(4,"div",84)(5,"div",92)(6,"span"),e._uU(7),e.qZA()(),e.TgZ(8,"div",86)(9,"div",87),e._uU(10,"0"),e.qZA(),e.TgZ(11,"div",88)(12,"p-slider",89),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw(2);return e.KtG(i.distanceRangeValues=n)}),e.qZA()(),e.TgZ(13,"div",90),e._uU(14,"1000"),e.qZA()()()(),e.BQk()}if(2&l){const t=e.oxw(2);e.xp6(7),e.Oqu(t.distanceRangeValues[0]+" "+t.distanceUnit+" - "+t.distanceRangeValues[1]+" "+t.distanceUnit),e.xp6(5),e.Q6J("ngModel",t.distanceRangeValues)("range",!0)("min",0)("step",10)("max",1e3)}}function be(l,a){if(1&l){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",24)(2,"label",91),e._uU(3,"Duration:"),e.qZA(),e.TgZ(4,"div",84)(5,"div",92)(6,"span"),e._uU(7),e.qZA()(),e.TgZ(8,"div",86)(9,"div",87),e._uU(10,"0"),e.qZA(),e.TgZ(11,"div",88)(12,"p-slider",89),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw(2);return e.KtG(i.durationRangeValues=n)}),e.qZA()(),e.TgZ(13,"div",90),e._uU(14,"600"),e.qZA()()()(),e.BQk()}if(2&l){const t=e.oxw(2);e.xp6(7),e.Oqu(t.durationRangeValues[0]+" min - "+t.durationRangeValues[1]+" mins"),e.xp6(5),e.Q6J("ngModel",t.durationRangeValues)("range",!0)("min",0)("step",10)("max",600)}}function De(l,a){if(1&l){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",24)(2,"label",91),e._uU(3,"Idling Duration:"),e.qZA(),e.TgZ(4,"div",84)(5,"div",92)(6,"span"),e._uU(7),e.qZA()(),e.TgZ(8,"div",86)(9,"div",87),e._uU(10,"0"),e.qZA(),e.TgZ(11,"div",88)(12,"p-slider",89),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw(2);return e.KtG(i.idlingDurationRangeValues=n)}),e.qZA()(),e.TgZ(13,"div",90),e._uU(14,"600"),e.qZA()()()(),e.BQk()}if(2&l){const t=e.oxw(2);e.xp6(7),e.Oqu(t.idlingDurationRangeValues[0]+" min - "+t.idlingDurationRangeValues[1]+" mins"),e.xp6(5),e.Q6J("ngModel",t.idlingDurationRangeValues)("range",!0)("min",0)("step",10)("max",600)}}function Me(l,a){1&l&&(e.TgZ(0,"label",93),e._uU(1,"\xa0"),e.qZA())}function we(l,a){if(1&l){const t=e.EpF();e.TgZ(0,"div",22)(1,"p-toolbar")(2,"div",23)(3,"div",24)(4,"label",25),e._uU(5,"Fleet:"),e.qZA(),e.TgZ(6,"button",26),e.NdJ("click",function(n){e.CHM(t);const i=e.MAs(8);return e.KtG(i.toggle(n))}),e.qZA(),e.TgZ(7,"p-overlayPanel",27,28),e.YNc(9,$,7,2,"ng-template",15),e.qZA()(),e.TgZ(10,"div",24)(11,"label",29),e._uU(12,"Time:"),e.qZA(),e.TgZ(13,"p-dropdown",30),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedTimeRange=n)})("onChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.prepareDateRangeQuery())}),e.YNc(14,X,2,1,"ng-template",31),e.YNc(15,ee,1,1,"ng-template",32),e.qZA()(),e.YNc(16,te,5,5,"ng-container",33),e.YNc(17,ne,5,4,"ng-container",33),e.YNc(18,oe,5,4,"ng-container",33),e.YNc(19,le,6,3,"ng-container",33),e.YNc(20,ce,8,1,"ng-container",33),e.YNc(21,ue,9,11,"ng-container",33),e.YNc(22,fe,8,9,"ng-container",33),e.YNc(23,Ce,6,1,"ng-container",33),e.YNc(24,Te,15,6,"ng-container",33),e.YNc(25,xe,15,6,"ng-container",33),e.YNc(26,be,15,6,"ng-container",33),e.YNc(27,De,15,6,"ng-container",33),e.TgZ(28,"div",34),e.YNc(29,Me,2,0,"label",35),e.TgZ(30,"button",36),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.applyFilters())}),e._uU(31,"Submit"),e.qZA()()()()()}if(2&l){const t=e.oxw();e.xp6(6),e.Q6J("label",t.buttonDisplayName),e.xp6(7),e.Q6J("options",t.timeRangeOptions)("ngModel",t.selectedTimeRange),e.xp6(3),e.Q6J("ngIf",10===t.selectedTimeRange),e.xp6(1),e.Q6J("ngIf",70===t.selectedTimeRange),e.xp6(1),e.Q6J("ngIf",300===t.selectedTimeRange),e.xp6(1),e.Q6J("ngIf",t.showFaceCount),e.xp6(1),e.Q6J("ngIf",t.showEvents),e.xp6(1),e.Q6J("ngIf",t.showDevices&&t.devicesList),e.xp6(1),e.Q6J("ngIf",t.showDrivers&&t.driversList),e.xp6(1),e.Q6J("ngIf",t.showEventId),e.xp6(1),e.Q6J("ngIf",t.showMatchConfidence),e.xp6(1),e.Q6J("ngIf",t.showDistance),e.xp6(1),e.Q6J("ngIf",t.showDuration),e.xp6(1),e.Q6J("ngIf",t.showIdlingDuration),e.xp6(2),e.Q6J("ngIf","smart-enroll"!=t.route.snapshot.data.route)}}function Ee(l,a){if(1&l){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",116)(2,"p-checkbox",117),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw(2);return e.KtG(i.selectedWidgetsForDownload=n)}),e.qZA()(),e.BQk()}if(2&l){const t=a.$implicit,o=e.oxw(2);e.xp6(2),e.s9C("value",t.id_),e.s9C("label",t.name),e.Q6J("ngModel",o.selectedWidgetsForDownload)}}function Ze(l,a){if(1&l&&(e.TgZ(0,"div",51)(1,"div"),e._uU(2),e.qZA()()),2&l){const t=a.$implicit;e.xp6(2),e.Oqu(t.name)}}function ye(l,a){1&l&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Widget Name"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Date"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Type"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Status"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Download"),e.qZA()())}function Se(l,a){if(1&l){const t=e.EpF();e.TgZ(0,"button",122),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit,i=e.oxw(2);return e.KtG(i.startDownload(null==n?null:n.report_id,null==n?null:n.widget_id))}),e.qZA()}}const Re=function(l){return{"surface-50":l}};function Ae(l,a){if(1&l&&(e.TgZ(0,"tr",119)(1,"td",120),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e.YNc(10,Se,1,0,"button",121),e.qZA()()),2&l){const t=e.oxw(),n=t.$implicit;e.Q6J("ngClass",e.VKq(6,Re,t.rowIndex%2==0)),e.xp6(2),e.hij(" ",null==n?null:n.widget," "),e.xp6(2),e.hij(" ",null==n?null:n.created_at," "),e.xp6(2),e.hij(" ",null==n?null:n.type," "),e.xp6(2),e.hij(" ",null==n?null:n.status," "),e.xp6(2),e.Q6J("ngIf","File Generated"==(null==n?null:n.status))}}function Fe(l,a){1&l&&e.YNc(0,Ae,11,8,"tr",118),2&l&&e.Q6J("ngIf",a.$implicit)}const Ue=function(){return["CSV","PDF"]};function Oe(l,a){if(1&l){const t=e.EpF();e.TgZ(0,"p-tabView",94),e.NdJ("activeIndexChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.activeIndex=n)}),e.TgZ(1,"p-tabPanel",95)(2,"div",0)(3,"div",96)(4,"label",97),e._uU(5,"Select Widgets"),e.qZA(),e.YNc(6,Ee,3,3,"ng-container",98),e.qZA(),e.TgZ(7,"div",96)(8,"label",99),e._uU(9,"Select File Type"),e.qZA(),e.TgZ(10,"p-dropdown",100),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedFileType=n)}),e.qZA()()(),e.TgZ(11,"div",0)(12,"div",101)(13,"div",102)(14,"label",103),e._uU(15,"Select User to Share The Report"),e.qZA(),e.TgZ(16,"p-dropdown",104,105),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedUserId=n)}),e.YNc(18,Ze,3,1,"ng-template",50),e.qZA()()(),e.TgZ(19,"div",106)(20,"button",107),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.qZA()(),e.TgZ(21,"div",106)(22,"button",108),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.submitReport())}),e.qZA()()()(),e.TgZ(23,"p-tabPanel",109)(24,"div",110),e._UZ(25,"p-toast"),e.TgZ(26,"p-table",111,112),e.YNc(28,ye,11,0,"ng-template",113),e.YNc(29,Fe,1,1,"ng-template",114),e.qZA(),e.TgZ(30,"p-paginator",115),e.NdJ("onPageChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.onReportPageChange(n))}),e.qZA()()()()}if(2&l){const t=e.oxw();e.Q6J("activeIndex",t.activeIndex),e.xp6(6),e.Q6J("ngForOf",t.downloadableWidgetsList),e.xp6(4),e.Q6J("options",e.DdM(15,Ue))("ngModel",t.selectedFileType),e.xp6(6),e.Q6J("options",t.emailIds)("ngModel",t.selectedUserId)("filter",!0),e.xp6(6),e.Q6J("disabled",!t.selectedUserId||!t.selectedFileType||t.selectedWidgetsForDownload.length<1),e.xp6(4),e.Q6J("value",t.reportsData)("autoLayout",!0)("lazy",!0)("rows",10),e.xp6(4),e.Q6J("showCurrentPageReport",!0)("rows",t.rows)("totalRecords",t.totalRecords)}}let Ie=(()=>{class l{activatedRoute;roleService;router;messageService;cdr;spinnerService;usersRolesService;eventsService;route;devicesService;settingsService;utilsService;driverService;showFleets=!0;showLocation=!0;showEvents=!0;showMatchConfidence=!1;showFaceCount=!1;showOnlyShare=!1;showDevices=!1;showDrivers=!1;showEventId=!1;showDistance=!1;showDuration=!1;showIdlingDuration=!1;loaded=new e.vpe;export=new e.vpe;filterData=new e.vpe;emitDriverReport=new e.vpe;onPageChangeEvent=new e.vpe;overlayPanel;rangeValues=[0,1];distanceRangeValues=[0,1e3];durationRangeValues=[0,600];idlingDurationRangeValues=[0,600];showSpinner=!0;fleets=[];childFleets=[];devicesList=[];driversList=[];allowFilterSubmit=!1;timeRangeOptions=_.c1;selectedTimeRange=_.c1[0].value;fromDate;toDate;fromDateUTC;toDateUTC;events;selectedFleet;buttonDisplayName;selectedEvents=[];selectedDevices=[];selectedDevicesList=[];selectedDrivers=[];selectedDriversList=[];filterEventId=null;minDate;maxDate;maxDateMonthly;customDateRange;customWeeklyRange;customMonthlyRange;showFilters=!0;quantityOptions=[{label:"Fleet 1",value:1},{label:"Fleet 2",value:2},{label:"3",value:3},{label:"4",value:4}];pageTitle="dashboard";shareReportsDialog=!1;currentRoute;allowDriverReportSwitch=!1;showDriverReport=!1;selectedFleetss=[];downloadableWidgetsList=[];selectedWidgetsForDownload=[];selectedUserId;emailIds=[];selectedFileType="CSV";isFleetSelectionRecursive=!0;showEventsContainer=!1;allEvents=[];compoundEventIcons=[];isEventSelected=!1;showShareButton=!0;activeIndex=0;disabledDates=[];disabledDays=[];selectedFaceCount=void 0;oldReportRequests=[];rows=10;totalRecords=0;reportsData=[];uniqueEventCount;distanceUnit="m";faceCountOptions=[{label:"All Videos",min:void 0},{label:"Videos with No Face",min:0},{label:"Videos with One Face",min:1},{label:"Videos with more than One Face",min:2}];eventsCategoryMapping=[{label:"Telematics",value:"telematics",sort:1},{label:"Driver Facing Camera Events",value:"dms",sort:2},{label:"Road Facing Camera Events",value:"adas",sort:3},{label:"Compound",value:"compound",sort:4},{label:"Severe",value:"severe",sort:5},{label:"Accident Avoidance",value:"accident_avoidance",sort:6}];constructor(t,o,n,i,r,c,d,p,g,x,h,Pe,Ne){this.activatedRoute=t,this.roleService=o,this.router=n,this.messageService=i,this.cdr=r,this.spinnerService=c,this.usersRolesService=d,this.eventsService=p,this.route=g,this.devicesService=x,this.settingsService=h,this.utilsService=Pe,this.driverService=Ne}ngAfterViewInit(){}selectedEventsForButtons=[];ngOnInit(){this.pageTitle=this.activatedRoute.snapshot.data.breadcrumb,this.getDefaultsForToolbar(),this.prepareDateRangeQuery(),(0,w.D)({orgSettings:this.settingsService.getOrgSettings(),events:this.eventsService.getEvents()}).subscribe(t=>{const o=t.orgSettings,n=new Date(o.created_at);this.disabledDates=[n],this.minDate=n,this.maxDate=new Date,localStorage.setItem("org_settings",JSON.stringify(o)),this.disabledDays=[0,2,3,4,5,6];const i=t.events;this.allEvents=i,i.compound_events.forEach(r=>{null!=r.event_configuration&&(this.compoundEventIcons[r.name]=r.event_configuration.display_icon)}),this.events=this.groupEventsByCategories([...i.primary_events,...i.compound_events]),this.events=this.updateEvents(this.events,this.eventsCategoryMapping),this.checkIfEventsQueryParamSelected(),this.selectedEvents=this.selectedEvents.length?this.selectedEvents:this.utilsService.getEventNamesFromEventsArray(i),0===this.selectedEvents.length?this.selectAllEvents():this.getUniqueEventsCount(),this.distanceUnit=o.settings.org_common_configurations.speed_unit==_.J_[0].value?"km":"mi",this.loaded.emit(i)}),"smart-enroll"===this.route.snapshot.data.route&&(this.showShareButton=!1)}loadToolBar(){}groupEventsByCategories(t){const o={};t.forEach(i=>{i.event_configuration.category.forEach(r=>{o[r]||(o[r]=[]),o[r].push(i.name)})});const n=[];for(const i in o)if(o.hasOwnProperty(i)){const r=o[i].map(c=>({label:this.getFilteredDisplayLabel(t,c),value:c,display_icon:this.compoundEventIcons[c]}));n.push({label:i,items:r})}return n}updateEvents(t,o){const n=new Map(o.map(c=>[c.value,c])),i=new Map(o.map(c=>[c.label,c.sort])),r=t.filter(c=>n.has(c.label)).map(c=>{const d=n.get(c.label);return{label:c.label,display_label:d?.label||c.label,items:c.items}});return r.sort((c,d)=>(i.get(c.display_label)||0)-(i.get(d.display_label)||0)),r}expandAll(){this.events.forEach(t=>{t.expanded=!0})}collapseAll(){this.events.forEach(t=>{t.expanded=!1})}getFilteredDisplayLabel(t,o){return t.filter(n=>n.name===o)[0].event_configuration.display_label}eventSelection(t){this.getUniqueEventsCount()}getUniqueEventsCount(){const t=Array.from(new Set(this.selectedEvents));this.uniqueEventCount=t.length}deviceSelection(t){this.selectedDevicesList=this.selectedDevices.map(o=>o.plate_number)}driverSelection(t){for(let o=0;o<this.selectedDrivers.length;o++)this.selectedDriversList.push(this.selectedDrivers[o].name)}selectAll(t,o){if(t.checked.length>0){let n=o.items.map(i=>i.value);this.selectedEvents=[...this.selectedEvents,...n],this.selectedEvents=[...new Set(this.selectedEvents)],this.cdr.detectChanges()}else o.items.forEach(n=>{this.selectedEvents=this.selectedEvents.filter(i=>i!==n.value)}),this.cdr.detectChanges();this.getUniqueEventsCount()}selectAllEvents(){this.selectedEvents=[],this.events.forEach(t=>{t.items.forEach(o=>{-1==this.selectedEvents.indexOf(o.value)&&this.selectedEvents.push(o.value)})}),this.getUniqueEventsCount()}deSelectAllEvents(){this.selectedEvents=[],this.getUniqueEventsCount()}getDefaultsForToolbar(){var t=_.Y5(),o=this.utilsService.filterFleets(_.k2(),t.top_fleet_id);this.fleets=this.utilsService.convertFlatFleetsJsonToHierarchical(o);let n=_.vg();_.fk()&&"null"!=_.fk()?this.selectedTimeRange=parseInt(_.fk()):(this.selectedTimeRange=_.c1[0].value,_.XH(this.selectedTimeRange)),10===this.selectedTimeRange&&n&&"null"!=n&&(this.customDateRange=[],this.customDateRange=n,this.customDateRange=[new Date(this.customDateRange[0]),new Date(this.customDateRange[1])],this.customDateSelect(this.customDateRange)),70===this.selectedTimeRange&&n&&"null"!=n&&(this.customWeeklyRange=[],this.customWeeklyRange[0]=n[0],this.customWeeklySelect(this.customWeeklyRange)),300===this.selectedTimeRange&&n&&"null"!=n&&(this.customMonthlyRange=[],this.customMonthlyRange=[new Date(n[0])],this.customMonthlySelect(this.customMonthlyRange)),this.selectedFleet=o;var i=_.Y5();i.filter_fleet_ids?i.filter_fleet_ids.split(",").forEach(c=>{const d=o.filter(p=>p.id_===c)[0];this.selectedFleetss.push(d)}):(this.selectedFleetss=o,console.log("from apply filters"),this.applyFilters()),this.setDisplayName()}nodeSelect(t){this.setDisplayName()}nodeUnSelect(t){this.selectedFleetss.forEach((o,n)=>{o?.id_===t.node.id_&&this.selectedFleetss.splice(n,1)}),this.setDisplayName()}prepareDateRangeQuery(){let t=this.selectedTimeRange;10==t&&(t=1),70==t&&(t=7),300==t&&(t=30);let o=!0;const n=new Date;this.toDate=new Date,this.fromDate=new Date,this.fromDate.setDate(this.toDate.getDate()-t),this.maxDateMonthly=new Date(n.getFullYear(),n.getMonth()+1,0),(10==this.selectedTimeRange||70==this.selectedTimeRange||300==this.selectedTimeRange)&&(o=!1),o&&this.setUTCDates()}handleChangeFilter(t){this.showFilters=t.checked}handleChangeDriverReport(t){this.showDriverReport=t.checked}exportData(){this.export.emit()}toggleGroupSelection(t){t.items.forEach(t.selected?o=>{this.selectedEvents.includes(o)||this.selectedEvents.push(o.value)}:o=>{this.selectedEvents=this.selectedEvents.filter(n=>n!==o.value)})}applyFilters(){let t=this.extractIds(this.selectedFleetss);this.spinnerService.showSpinner(),_.T1({top_fleet_id:_.Y5().top_fleet_id,filter_fleet_ids:t,top_fleet_name:_.Y5().top_fleet_name}),_.XH(this.selectedTimeRange),_.Z1([this.fromDateUTC,this.toDateUTC]),this.filterData.emit(this.selectedFleet),setTimeout(()=>{this.spinnerService.hideSpinner()},500),this.setFilterDropdownValues()}setFilterDropdownValues(){this.selectedDevicesList=[];for(const t of this.selectedDevices)this.selectedDevicesList.push(t.plate_number)}extractIds(t){const o=[];for(const n of t)n.id_&&o.push(n.id_),n.children&&n.children.length>0&&this.extractIds(n.children);return o.join(",")}getEmittedFilters(){return this.filterData}setChildFleetsinToolbar(){}customWeeklySelect(t){let o=t?new Date(t):new Date;o.setDate(o.getDate()+1-o.getDay()),this.customWeeklyRange[0]=o;let n=new Date(o);n.setDate(o.getDate()+6),this.customWeeklyRange[1]=n,this.fromDate=o.getFullYear()+"-"+(o.getMonth()<10?"0"+(o.getMonth()+1):o.getMonth()+1)+"-"+(o.getDate()<10?"0"+o.getDate():o.getDate()),this.toDate=n.getFullYear()+"-"+(n.getMonth()<10?"0"+(n.getMonth()+1):n.getMonth()+1)+"-"+(n.getDate()<10?"0"+n.getDate():n.getDate()),this.setUTCDates()}customDateSelect(t){let o=new Date(this.customDateRange[0]),n=new Date(this.customDateRange[1]);this.fromDate=o.getFullYear()+"-"+(o.getMonth()<10?"0"+(o.getMonth()+1):o.getMonth()+1)+"-"+(o.getDate()<10?"0"+o.getDate():o.getDate()),this.toDate=n.getFullYear()+"-"+(n.getMonth()<10?"0"+(n.getMonth()+1):n.getMonth()+1)+"-"+(n.getDate()<10?"0"+n.getDate():n.getDate()),this.setUTCDates()}customMonthlySelect(t){t=new Date(t),this.fromDate=t.getFullYear()+"-"+(t.getMonth()<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-"+(t.getDate()<10?"0"+t.getDate():t.getDate());const o=new Date(t.getFullYear(),t.getMonth()+1,0);this.toDate=o.getFullYear()+"-"+(o.getMonth()<10?"0"+(o.getMonth()+1):o.getMonth()+1)+"-"+(o.getDate()<10?"0"+o.getDate():o.getDate()),new Date(this.toDate)>new Date&&(this.toDate=(new Date).toISOString().split("T")[0]),this.customMonthlyRange=this.formatDate(this.fromDate),this.setUTCDates()}formatDate(t){const o=t.split("-");return`${o[1]}/${o[0]}`}navigateTo(t){this.router.navigate([t])}setUTCDates(){this.fromDateUTC=this.getFormattedDate(new Date(this.fromDate)),this.toDateUTC=this.getFormattedDate(new Date(this.toDate))}getFormattedDate(t){var o=new Date(t).getFullYear(),n=new Date(t).getMonth()+1,i=new Date(t).getDate();return o+"-"+(n<10?"0"+n:n)+"-"+(i<10?"0"+i:i)}shareWidgets(){this.shareReportsDialog=!0,this.usersRolesService.getUsers().subscribe(t=>{this.emailIds=[],t.forEach(o=>{o.name=o.first_name+" "+o.last_name,this.emailIds.push(o)})}),this.usersRolesService.getUIRoles().subscribe(t=>{this.getListofWidgetsForPage(t)})}startDownload(t,o){this.settingsService.getReportFiles(t).subscribe(n=>{if(null!=n.cloud_path[o]&&null!=n.cloud_path[o].file_url){const i=document.createElement("a");i.href=n.cloud_path[o].file_url,i.click()}else this.messageService.add({severity:"error",summary:"Failed to download",detail:"Error occured while file downloading",life:3e3})})}getListofWidgetsForPage(t){const n=this.route.snapshot.data.basePageId,i=t.filter(r=>"ET_SUPER_ADMIN"==r.id_)[0];this.downloadableWidgetsList=i.widget_access_list.filter(r=>r.page_id===n&&r.rank>0),this.getDownloadableReports()}getDownloadableReports(){let t=[];this.downloadableWidgetsList.forEach(o=>{t=t.concat(_.HV[o.id_])}),this.oldReportRequests=[],this.settingsService.getReports(t.join(",")).subscribe(o=>{o.forEach(n=>{Object.keys(n.widget_id).forEach(i=>{let r="In progress";null!=n.cloud_path[i]&&(r="File Generated"),this.oldReportRequests.push({report_id:n.id_,created_at:n.created_at,status:r,widget:_.ZX[i],widget_id:i,type:n.type,cloud:n[i]})})}),this.totalRecords=this.oldReportRequests.length,this.loadReportsTable(0)})}loadReportsTable(t){this.reportsData=this.oldReportRequests.slice(t*this.rows,(t+1)*this.rows)}onReportPageChange(t){this.loadReportsTable(t.page)}statusMap(t){let o="In progress";return 1==t?o="Files Generated":2==t&&(o="Files Sent"),o}hideDialog(){this.shareReportsDialog=!1}loadOrgSettings(t){const o=new Date(t.created_at);this.disabledDates=[o],this.minDate=o,this.maxDate=new Date,localStorage.setItem("org_settings",t),this.disabledDays=[0,2,3,4,5,6]}preventOverlayCollapse(t){t.stopPropagation()}submitReport(){const t=this.selectedFleetss.map(i=>i.id_);var o={from_date:this.fromDateUTC,to_date:this.toDateUTC,event_label:this.selectedEvents};t.length>0&&(o.fleet_id=t,o.fleet_ids=t.join(","));const n={};this.selectedWidgetsForDownload.forEach(i=>{if(i in m.HV){const c=m.gn;m.HV[i].forEach(d=>{const p=c[m.Xy[d]];if(p instanceof Object)Object.keys(p).forEach(g=>{null!=o[g]&&(p[g]=o[g])}),n[d]=JSON.stringify(p);else{const g=[],x=p.split(",");Object.keys(o).forEach(h=>{x.includes(h)&&g.push(h+"="+o[h])}),n[d]=g.join("&")}})}else n[i]=JSON.stringify(o)}),this.settingsService.shareReports(this.selectedUserId.id_,n,this.selectedFileType).subscribe(i=>{this.messageService.add({severity:"success",summary:"Successful",detail:"Report generation has started",life:3e3}),this.shareReportsDialog=!1},i=>{console.error("Error occurred:",i)})}faceCountSelection(t){this.selectedFaceCount=t.value}ngOnChanges(){if(this.showDevices){var o=_.dc();this.devicesService.fetchDevicesForFleets(o).subscribe(n=>{this.devicesList=n})}this.showDrivers&&this.driverService.fetchDrivers(this.fromDateUTC,this.toDateUTC,o,void 0,{items_per_page:1e8,page_number:1}).subscribe(n=>{this.driversList=n?.data})}getItemIcon(t){let o="assets/demo/images/events/"+t+"-red.svg";return null!=this.compoundEventIcons[t]&&(o=this.compoundEventIcons[t]),o}checkIfEventsQueryParamSelected(){const t=this.route.snapshot.queryParams.event;t&&(this.selectedEvents=t.split(","))}setDisplayName(){this.buttonDisplayName=0!=this.selectedFleetss.length?this.selectedFleetss.length+" selected":""}static \u0275fac=function(o){return new(o||l)(e.Y36(C.gz),e.Y36(u.Nj),e.Y36(C.F0),e.Y36(f.ez),e.Y36(e.sBO),e.Y36(u.V),e.Y36(u.Xb),e.Y36(u.nC),e.Y36(C.gz),e.Y36(u.Ih),e.Y36(u.gb),e.Y36(u.FW),e.Y36(u.Ft))};static \u0275cmp=e.Xpm({type:l,selectors:[["app-toolbar"]],viewQuery:function(o,n){if(1&o&&e.Gf(L,5),2&o){let i;e.iGM(i=e.CRH())&&(n.overlayPanel=i.first)}},inputs:{showFleets:"showFleets",showLocation:"showLocation",showEvents:"showEvents",showMatchConfidence:"showMatchConfidence",showFaceCount:"showFaceCount",showOnlyShare:"showOnlyShare",showDevices:"showDevices",showDrivers:"showDrivers",showEventId:"showEventId",showDistance:"showDistance",showDuration:"showDuration",showIdlingDuration:"showIdlingDuration"},outputs:{loaded:"loaded",export:"export",filterData:"filterData",emitDriverReport:"emitDriverReport",onPageChangeEvent:"onPageChangeEvent"},features:[e._Bn([f.ez]),e.TTD],decls:18,vars:10,consts:[[1,"grid"],[1,"col-12","pb-0"],[1,"flex","flex-column","sm:flex-row","align-items-center","gap-4"],[1,"flex","flex-column","sm:flex-row","align-items-center","gap-3"],[1,"flex","align-items-center","sm:align-items-start"],["class","font-semibold text-800 text-xl text-secondary cursor-pointer dashboard",3,"click",4,"ngIf"],["class","homelink ml-2",4,"ngIf"],[1,"flex","sm:ml-auto","align-items-center"],["class","switch-label","for","filter-switch",4,"ngIf"],["id","filter-switch","name","filter-switch",3,"ngModel","ngModelChange","onChange",4,"ngIf"],["class","ml-2 switch-label","for","filter-switch",4,"ngIf"],["pButton","","type","button","icon","pi pi-share-alt","class","p-button-rounded p-button-text p-button-secondary p-trigger",3,"click",4,"ngIf"],[1,"my-0"],["enterClass","fadein","leaveClass","fadeout","class","animation-duration-1000 animation-ease-in",4,"ngIf"],["header","Share Reports",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],[1,"font-semibold","text-800","text-xl","text-secondary","cursor-pointer","dashboard",3,"click"],[1,"homelink","ml-2"],["for","filter-switch",1,"switch-label"],["id","filter-switch","name","filter-switch",3,"ngModel","ngModelChange","onChange"],["for","filter-switch",1,"ml-2","switch-label"],["pButton","","type","button","icon","pi pi-share-alt",1,"p-button-rounded","p-button-text","p-button-secondary","p-trigger",3,"click"],["enterClass","fadein","leaveClass","fadeout",1,"animation-duration-1000","animation-ease-in"],[1,"grid","align-items-center","justify-content-end"],[1,"col-12","md:col-3","lg:col-2"],["for","Fleet","placeholder","Select Fleet",1,"text-600","block","mb-1"],["icon","pi pi-chevron-down","iconPos","right","pButton","","pRipple","","type","button",1,"p-button-outlined","border-500","p-button-secondary","bg-primary-reverse","w-full","vertical-align-middle","text-left",3,"label","click"],["appendTo","body"],["op",""],["for","Fleet",1,"text-600","block","mb-1"],["styleClass","w-full",3,"options","ngModel","ngModelChange","onChange"],["pTemplate","selectedItem"],["pTemplate","default"],[4,"ngIf"],[1,"col-12","md:col-2","lg:col-2"],["for","","class","block mb-1",4,"ngIf"],["pButton","","pRipple","","type","button",3,"click"],[3,"click"],["for","childs-switch",1,"ml-3","mx-2"],["id","childs-switch","name","childs-switch",1,"vertical-align-middle",3,"ngModel","ngModelChange"],["name","fleets","appendTo","body","ngDefaultControl","","selectionMode","checkbox",3,"value","propagateSelectionUp","propagateSelectionDown","selection","onNodeSelect","onNodeUnselect","selectionChange",4,"ngIf"],["name","fleets","appendTo","body","ngDefaultControl","","selectionMode","checkbox",3,"value","propagateSelectionUp","propagateSelectionDown","selection","onNodeSelect","onNodeUnselect","selectionChange"],["tree",""],[1,"pi","pi-calendar","mr-1"],["for","Fleet",1,"block","mb-1","text-600"],["selectionMode","range","inputId","range","styleClass","w-full",3,"ngModel","minDate","maxDate","numberOfMonths","readonlyInput","ngModelChange","onSelect"],["styleClass","w-full","selectionMode","range","inputId","range",3,"ngModel","minDate","maxDate","readonlyInput","ngModelChange","onSelect","onChange"],["view","month","dateFormat","mm/yy","styleClass","w-full","inputId","range",3,"ngModel","minDate","maxDate","readonlyInput","ngModelChange","onSelect","onChange"],["for","events",1,"text-600","block","mb-1"],["appendTo","body","placeholder","Select Face Count","display","chip","styleClass","w-full","optionLabel","label","optionValue","min",3,"options","ngModel","filter","ngModelChange","onChange"],["pTemplate","item"],[1,"flex","align-items-center","gap-2"],["icon","pi pi-chevron-down","iconPos","right","pButton","","pRipple","","type","button",1,"p-button-outlined","p-button-secondary","w-full","vertical-align-middle","text-left",3,"label","click"],["ep",""],[1,"events-container"],[1,"mb-3"],["href","javascript:void(0)",1,"text-800","disabled",3,"click"],[1,"pi","pi-angle-down","vertical-align-middle"],["href","javascript:void(0)",1,"text-800",3,"click"],[1,"pi","pi-angle-right","vertical-align-middle"],[1,"pi","pi-check-square","vertical-align-middle"],[1,"pi","pi-times","vertical-align-middle"],[3,"header","selected",4,"ngFor","ngForOf"],[1,"mt-3"],[3,"header","selected"],[1,"group-header"],["styleClass","mr-2",3,"value","onChange"],[1,"group-label","text-lg"],[1,"group-items"],["class","item",4,"ngFor","ngForOf"],[1,"item"],[1,"option-item"],[3,"value","ngModel","ngModelChange","onChange"],[1,"inline-block"],[1,"events-icon",3,"src","alt"],[1,"p-button-label-c","inline-block","w-15rem"],["pTooltip","This filter only applies to Events Detail Widget.",1,"pi","pi-info-circle","text-base","vertical-align-middle"],["appendTo","body","filterBy","client_provided_id","filterMode","contains","optionLabel","client_provided_id",3,"options","ngModel","virtualScroll","virtualScrollItemSize","styleClass","placeholder","filter","filterPlaceHolder","ngModelChange","onChange"],["pTemplate","selectedItems"],["pTemplate","footer"],[1,"py-2","px-3"],["id","drivers","placeholder","Select a driver","appendTo","body","filterBy","name","filterMode","contains","styleClass","w-full","optionLabel","name",3,"options","virtualScroll","virtualScrollItemSize","showClear","ngModel","filter","ngModelChange","onChange"],["type","text","pInputText","","id","eventId","placeholder","Enter Event ID...","minlength","3",1,"w-full",3,"ngModel","ngModelChange"],["for","Fleet",1,"block","mb-1"],[1,"relative",2,"height","40px"],[1,"text-center","absolute","range-values-div"],[1,"flex","align-items-center","mt-3"],[1,"inline-block","mr-3"],[1,"w-full","inline-block"],[3,"ngModel","range","min","step","max","ngModelChange"],[1,"inline-block","ml-3"],["for","Fleet",1,"block","text-center"],[1,"text-center","absolute","distance-range-values-div"],["for","",1,"block","mb-1"],[3,"activeIndex","activeIndexChange"],["header","Share To Email"],[1,"col-12"],["for","refMulSel",1,"font-bold","mt-3"],[4,"ngFor","ngForOf"],[1,"font-bold"],["defaultLabel","Select file type","styleClass","mt-3","appendTo","body",3,"options","ngModel","ngModelChange"],[1,"col-12","my-2"],[1,"col-12","my-3"],["for","refMulSel",1,"font-bold"],["defaultLabel","Select users","styleClass","mt-3","appendTo","body","optionLabel","name",3,"options","ngModel","filter","ngModelChange"],["refMulSel",""],[1,"col-12","md:col-6"],["pButton","","pRipple","","label","Cancel",1,"flex-auto","p-button-outlined",3,"click"],["pButton","","type","button","pRipple","","label","Submit",3,"disabled","click"],["header","Download"],[1,"my-3"],["responsiveLayout","scroll","dataKey","id",3,"value","autoLayout","lazy","rows"],["dt",""],["pTemplate","header"],["pTemplate","body"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} reports",3,"showCurrentPageReport","rows","totalRecords","onPageChange"],[1,"col-12","mt-2"],["name","downloadableWidgets",3,"value","ngModel","label","ngModelChange"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"text-left",2,"width","10%","min-width","10rem"],["pButton","","pRipple","","label","Download","class","mx-auto",3,"click",4,"ngIf"],["pButton","","pRipple","","label","Download",1,"mx-auto",3,"click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),e.YNc(6,Y,2,0,"span",5),e.YNc(7,H,2,1,"span",6),e.qZA()(),e.TgZ(8,"div",7),e.YNc(9,B,2,0,"label",8),e.YNc(10,W,1,1,"p-inputSwitch",9),e.YNc(11,G,2,0,"label",10),e.YNc(12,V,1,1,"p-inputSwitch",9),e.YNc(13,j,1,0,"button",11),e.qZA()()()(),e._UZ(14,"hr",12),e.YNc(15,we,32,16,"div",13),e.TgZ(16,"p-dialog",14),e.NdJ("visibleChange",function(r){return n.shareReportsDialog=r}),e.YNc(17,Oe,31,16,"ng-template",15),e.qZA()),2&o&&(e.xp6(6),e.Q6J("ngIf","Dashboard"!==n.pageTitle),e.xp6(1),e.Q6J("ngIf",n.pageTitle&&""!==n.pageTitle),e.xp6(2),e.Q6J("ngIf",n.allowDriverReportSwitch),e.xp6(1),e.Q6J("ngIf",n.allowDriverReportSwitch),e.xp6(1),e.Q6J("ngIf",!n.showOnlyShare),e.xp6(1),e.Q6J("ngIf",!n.showOnlyShare),e.xp6(1),e.Q6J("ngIf",n.showShareButton),e.xp6(2),e.Q6J("ngIf",n.showFilters&&!n.showOnlyShare),e.xp6(1),e.Q6J("visible",n.shareReportsDialog)("modal",!0))},dependencies:[T.mk,T.sg,T.O5,E.Ql,v.Fj,v.JJ,v.wO,v.On,Z.o,y.Hq,f.jx,S.H,R.Lt,A.mp,b.UQ,b.US,F.NU,U.T,O.f,I.XZ,P.iR,N.V,q.FN,D.xf,D.x4,J.iA,k.D,K.u,Q.o],styles:[".switch-label[_ngcontent-%COMP%]{margin-right:.5em;margin-bottom:.4em;color:var(--primary-color);font-weight:700}[_nghost-%COMP%]     .p-treeselect-chip{width:14.286rem!important}.homelink[_ngcontent-%COMP%]{font-family:Open Sans;font-style:normal;font-weight:700;font-size:17px;line-height:25px;color:#3a85c1!important}.dashboard[_ngcontent-%COMP%]{line-height:25px}[_nghost-%COMP%]     p-toolbar .p-tree-container{z-index:100000;background:white;border:1px solid #ccc;box-shadow:0 3px 6px #00000029;position:absolute}[_nghost-%COMP%]     .p-button.p-button-secondary.p-button-outlined{background-color:#f1f5f9!important;border:1px solid #cbd5e1!important}[_nghost-%COMP%]     .p-button.p-button-secondary.p-button-outlined .p-button-label{color:#000}[_nghost-%COMP%]     p-toolbar .p-toolbar{border:1px solid #87848D;border-top:0;display:block;padding:1rem}[_nghost-%COMP%]     .p-overlaypanel .p-overlaypanel-content, [_nghost-%COMP%]     p-overlay .p-overlay{box-shadow:0 6px 6px #00000029}[_nghost-%COMP%]     .events .p-selectbutton .p-button{padding:7px;margin-right:10px;margin-top:2px}[_nghost-%COMP%]     .events .p-button-label-c{font-size:12px;letter-spacing:.05em}[_nghost-%COMP%]     .p-multiselect-panel .p-multiselect-items .p-multiselect-item{font-size:1rem}[_nghost-%COMP%]     .p-multiselect-items-wrapper{min-height:55vh!important}[_nghost-%COMP%]     .p-multiselect-panel{border:1px solid #bbb;max-width:250px!important}[_nghost-%COMP%]     .p-multiselect-panel .p-multiselect-items .p-multiselect-item.p-highlight{color:#000}[_nghost-%COMP%]     .p-multiselect-panel .p-multiselect-items .p-multiselect-item{padding:.5rem 1rem}.event-icon[_ngcontent-%COMP%]{width:30px}.range-values-div[_ngcontent-%COMP%]{left:50%;bottom:10px}.distance-range-values-div[_ngcontent-%COMP%]{left:30%;bottom:10px}.events-container[_ngcontent-%COMP%]{min-width:300px}.column[_ngcontent-%COMP%]{flex:1 1 15%;margin:10px}.group-header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.group-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:100px}.item[_ngcontent-%COMP%]{margin-bottom:5px}.option-item[_ngcontent-%COMP%]{display:flex;align-items:center}.inline-block[_ngcontent-%COMP%]{display:inline-block}  .ui-overlaypanel{z-index:1000!important;position:absolute}.events-container[_ngcontent-%COMP%]{max-height:75vh;overflow-y:auto}.ui-accordion[_ngcontent-%COMP%]   .ui-accordion-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.ui-accordion[_ngcontent-%COMP%]   .ui-accordion-content[_ngcontent-%COMP%]{padding:1rem}.option-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:.5rem}.events-icon[_ngcontent-%COMP%]{width:30px;height:30px;margin-right:10px;margin-left:10px}"]})}return l})()}}]);