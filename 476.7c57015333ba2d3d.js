"use strict";(self.webpackChunkedgetensor=self.webpackChunkedgetensor||[]).push([[476],{6476:(O,d,a)=>{a.r(d),a.d(d,{ForgotPasswordModule:()=>Q});var c=a(6814),s=a(6223),u=a(707),m=a(3714),p=a(1567),l=a(3173),e=a(5879),f=a(3859),g=a(5878),_=a(1111);function v(t,r){1&t&&(e.TgZ(0,"div",13),e._uU(1,"Forgot Password"),e.qZA())}function w(t,r){1&t&&(e.TgZ(0,"div",13),e._uU(1,"Reset Password Successful"),e.qZA())}function x(t,r){1&t&&(e.TgZ(0,"div",14),e._uU(1,"Please provide the email address associated with your account to receive information on password reset."),e.qZA())}function Z(t,r){1&t&&(e.TgZ(0,"div",26),e._uU(1,"Email is required"),e.qZA())}function T(t,r){if(1&t&&(e.TgZ(0,"div",24),e.YNc(1,Z,2,0,"div",25),e.qZA()),2&t){const o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==o.f.userEmail.errors?null:o.f.userEmail.errors.required)}}function b(t,r){1&t&&(e.TgZ(0,"div",24)(1,"div",27),e._uU(2,"Email doesn't exist"),e.qZA()())}function P(t,r){if(1&t){const o=e.EpF();e.ynx(0),e.TgZ(1,"div",15)(2,"label",16),e._uU(3,"Email Address"),e.qZA(),e.TgZ(4,"span",17),e._UZ(5,"i",18)(6,"input",19),e.qZA(),e.YNc(7,T,2,1,"div",20),e.YNc(8,b,3,0,"div",20),e.TgZ(9,"div",2)(10,"div",21)(11,"button",22),e.NdJ("click",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.sendOtp())}),e.qZA(),e.TgZ(12,"button",23),e.NdJ("click",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.navigateToLogin())}),e.qZA()()()(),e.BQk()}if(2&t){const o=e.oxw();e.xp6(7),e.Q6J("ngIf",o.submitted&&o.f.userEmail.errors),e.xp6(1),e.Q6J("ngIf",o.invalidEmail)}}function F(t,r){1&t&&(e.TgZ(0,"div",26),e._uU(1,"One time password is required"),e.qZA())}function h(t,r){if(1&t&&(e.TgZ(0,"div",24),e.YNc(1,F,2,0,"div",25),e.qZA()),2&t){const o=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==o.fr.otp.errors?null:o.fr.otp.errors.required)}}function y(t,r){if(1&t&&(e.TgZ(0,"div",24)(1,"div",27),e._uU(2),e.qZA()()),2&t){const o=e.oxw(3);e.xp6(2),e.Oqu(o.invalidMessage)}}function N(t,r){1&t&&(e.TgZ(0,"div",26),e._uU(1,"New password is required"),e.qZA())}function q(t,r){if(1&t&&(e.TgZ(0,"div",24),e.YNc(1,N,2,0,"div",25),e.qZA()),2&t){const o=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==o.fr.newPassword.errors?null:o.fr.newPassword.errors.required)}}function A(t,r){1&t&&(e.TgZ(0,"div",26),e._uU(1," New password is required"),e.qZA())}function C(t,r){if(1&t&&(e.TgZ(0,"div",41),e.YNc(1,A,2,0,"div",25),e.qZA()),2&t){const o=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==o.fr.repeatNewPassword.errors?null:o.fr.repeatNewPassword.errors.required)}}function I(t,r){1&t&&(e.TgZ(0,"div",42)(1,"span",27),e._uU(2,"Passwords do not match"),e.qZA()())}function J(t,r){if(1&t){const o=e.EpF();e.TgZ(0,"div",15)(1,"div",29),e._uU(2,"A One-Time Password has been sent to your email address. Kindly check both your Inbox and Spam folder to locate it."),e.qZA(),e.TgZ(3,"label",30),e._uU(4,"OTP (*Expires in 15 Minutes)"),e.qZA(),e.TgZ(5,"span",17),e._UZ(6,"i",31)(7,"input",32),e.qZA(),e.YNc(8,h,2,1,"div",20),e.YNc(9,y,3,1,"div",20),e.TgZ(10,"label",33),e._uU(11,"New Password"),e.qZA(),e.TgZ(12,"span",34),e._UZ(13,"i",31)(14,"input",35),e.qZA(),e.YNc(15,q,2,1,"div",20),e.TgZ(16,"label",33),e._uU(17,"Repeat New Password"),e.qZA(),e.TgZ(18,"span",34),e._UZ(19,"i",31)(20,"input",36),e.qZA(),e.YNc(21,C,2,1,"div",37),e.YNc(22,I,3,0,"div",38),e.TgZ(23,"div",39)(24,"div",21)(25,"button",40),e.NdJ("click",function(){e.CHM(o);const i=e.oxw(2);return e.KtG(i.resetPassword())}),e.qZA(),e.TgZ(26,"button",23),e.NdJ("click",function(){e.CHM(o);const i=e.oxw(2);return e.KtG(i.navigateToLogin())}),e.qZA()()()()}if(2&t){const o=e.oxw(2);e.xp6(8),e.Q6J("ngIf",o.submittedRe&&o.fr.otp.errors),e.xp6(1),e.Q6J("ngIf",o.invalidOtp),e.xp6(6),e.Q6J("ngIf",o.submittedRe&&o.fr.newPassword.errors),e.xp6(6),e.Q6J("ngIf",o.submittedRe&&o.fr.repeatNewPassword.errors),e.xp6(1),e.Q6J("ngIf",""!==o.resendForm.value.repeatNewPassword&&""!==o.resendForm.value.newPassword&&o.resendForm.value.repeatNewPassword!==o.resendForm.value.newPassword)}}function S(t,r){if(1&t&&(e.ynx(0),e.YNc(1,J,27,5,"div",28),e.BQk()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.isEmailSent)}}function E(t,r){if(1&t){const o=e.EpF();e.TgZ(0,"div",43)(1,"div",14),e._uU(2,"Your password is reset successfully. You can now login with new credentials."),e.qZA(),e.TgZ(3,"button",44),e.NdJ("click",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.navigateToLogin())}),e.qZA()()}}let k=(()=>{class t{layoutService;router;usersRolesService;fb;loginForm;resendForm;submitted=!1;submittedRe=!1;isEmailSent=!1;invalidOtp=!1;invalidMessage="Invalid OTP";invalidEmail=!1;passwordSentSuccessful=!1;constructor(o,n,i,U){this.layoutService=o,this.router=n,this.usersRolesService=i,this.fb=U}get dark(){return"light"!==this.layoutService.config.colorScheme}get f(){return this.loginForm.controls}get fr(){return this.resendForm.controls}ngOnInit(){this.loginForm=this.fb.group({userEmail:["",[s.kI.required]]}),this.resendForm=this.fb.group({otp:["",[s.kI.required]],newPassword:["",[s.kI.required]],repeatNewPassword:["",[s.kI.required]]})}sendOtp(){this.submitted=!0,this.invalidEmail=!1,this.loginForm.invalid||this.usersRolesService.sentOTP({email:this.loginForm.value.userEmail,type:1}).subscribe(n=>{null!=n.success&&1==n.success?this.isEmailSent=!0:this.invalidEmail=!0},()=>{this.invalidEmail=!0})}resetPassword(){this.submittedRe=!0,this.invalidOtp=!1,this.resendForm.invalid||this.usersRolesService.sentOTP({email:this.loginForm.value.userEmail,type:0,otp:this.resendForm.value.otp,password:this.resendForm.value.newPassword,retype_password:this.resendForm.value.repeatNewPassword}).subscribe(n=>{null!=n.success&&1==n.success?this.passwordSentSuccessful=!0:(this.invalidOtp=!0,this.invalidMessage=n.message)})}navigateToLogin(){this.router.navigate(["/auth/login"])}static \u0275fac=function(n){return new(n||t)(e.Y36(f.P),e.Y36(l.F0),e.Y36(g.Xb),e.Y36(s.qu))};static \u0275cmp=e.Xpm({type:t,selectors:[["ng-component"]],decls:16,vars:9,consts:[[1,"px-5","min-h-screen","flex","justify-content-center","align-items-center"],[1,"border-15","surface-border","surface-card","border-round","z-1","border-round-2xl"],[1,"grid"],[1,"col-12","md:col-6","pb-0"],["src","assets/demo/images/login-truck.png","alt","Truck",1,"w-full","border-round-2xl"],[1,"col-12","md:col-6","p-5","my-auto"],[1,"mb-4"],["class","text-900 text-xl font-bold mb-2",4,"ngIf"],["class","text-600 font-medium w-30rem",4,"ngIf"],[3,"formGroup"],[4,"ngIf"],["class","my-4",4,"ngIf"],[3,"minimal"],[1,"text-900","text-xl","font-bold","mb-2"],[1,"text-600","font-medium","w-30rem"],[1,"flex","flex-column"],["for","email",1,"my-2"],[1,"p-input-icon-left","w-full","mb-4"],[1,"pi","pi-envelope"],["id","email","type","email","formControlName","userEmail","pattern",".+@.+\\..+","pInputText","","placeholder","Email",1,"w-full","md:w-25rem"],["class","invalid-feedback mb-3",4,"ngIf"],[1,"col-12"],["pButton","","pRipple","","label","Submit","type","button",1,"w-12rem","inline-block",3,"click"],["pButton","","pRipple","","label","Back to login","type","button",1,"p-button-text","w-10rem","inline-block","ml-3",3,"click"],[1,"invalid-feedback","mb-3"],["class","text-primary font-bold",4,"ngIf"],[1,"text-primary","font-bold"],[1,"alert","alert-danger","text-orange-700","font-bold"],["class","flex flex-column",4,"ngIf"],[1,"text-600","font-medium","w-30rem","mb-3"],["for","otp",1,"my-2"],[1,"pi","pi-lock"],["type","text","pInputText","","formControlName","otp","placeholder","OTP","autocomplete","fill-otp",1,"w-full","md:w-25rem"],["for","newPassword",1,"my-2"],[1,"p-input-icon-left","w-full","mb-2"],["type","password","pInputText","","formControlName","newPassword","placeholder","New Password","autocomplete","new-password",1,"w-full","md:w-25rem"],["type","password","pInputText","","formControlName","repeatNewPassword","placeholder","Repeat New Password","autocomplete","retry-password",1,"w-full","md:w-25rem"],["class","invalid-feedback mb-4",4,"ngIf"],["class","col-12 my-3",4,"ngIf"],[1,"grid","mt-3"],["pButton","","pRipple","","label","Submit","type","submit",1,"w-12rem","inline-block",3,"click"],[1,"invalid-feedback","mb-4"],[1,"col-12","my-3"],[1,"my-4"],["pButton","","pRipple","","label","Back to login","type","button",1,"w-10rem","inline-block","ml-3","mt-4",3,"click"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"img",4),e.qZA(),e.TgZ(5,"div",5)(6,"div",6),e.YNc(7,v,2,0,"div",7),e.YNc(8,w,2,0,"div",7),e.YNc(9,x,2,0,"div",8),e.qZA(),e.TgZ(10,"form",9),e.YNc(11,P,13,2,"ng-container",10),e.qZA(),e.TgZ(12,"form",9),e.YNc(13,S,2,1,"ng-container",10),e.qZA(),e.YNc(14,E,4,0,"div",11),e.qZA()()()(),e._UZ(15,"app-config",12)),2&n&&(e.xp6(7),e.Q6J("ngIf",!i.passwordSentSuccessful),e.xp6(1),e.Q6J("ngIf",i.passwordSentSuccessful),e.xp6(1),e.Q6J("ngIf",!i.isEmailSent),e.xp6(1),e.Q6J("formGroup",i.loginForm),e.xp6(1),e.Q6J("ngIf",!i.isEmailSent),e.xp6(1),e.Q6J("formGroup",i.resendForm),e.xp6(1),e.Q6J("ngIf",i.isEmailSent&&!i.passwordSentSuccessful),e.xp6(1),e.Q6J("ngIf",i.passwordSentSuccessful),e.xp6(1),e.Q6J("minimal",!0))},dependencies:[c.O5,u.Hq,m.o,s._Y,s.Fj,s.JJ,s.JL,s.c5,s.sg,s.u,_.P],styles:["body[_ngcontent-%COMP%]{background:linear-gradient(45deg,#F3E7E9 0%,#E3EEFF 100%)}"]})}return t})(),Y=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=e.oAB({type:t});static \u0275inj=e.cJS({imports:[l.Bz.forChild([{path:"",component:k}]),l.Bz]})}return t})(),Q=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=e.oAB({type:t});static \u0275inj=e.cJS({imports:[c.ez,u.hJ,m.j,s.u5,s.UX,Y,p.h]})}return t})()}}]);